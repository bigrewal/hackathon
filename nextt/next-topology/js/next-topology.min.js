!function(a){a.define("nx.util",{"static":!0,methods:{uuid:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var b=16*Math.random()|0,c="x"==a?b:3&b|8;return c.toString(16)}).toUpperCase()},without:function(a,b){for(var c;-1!=(c=a.indexOf(b));)a.splice(c,1);return a},find:function(a,b,c){var d;return a.some(function(a,e,f){return b.call(c||this,a,e,f)?(d=a,!0):void 0}),d},uniq:function(b,c,d){var e=c?b.map(c.bind(d||this)):b,f=[];return a.each(e,function(a,c){-1==f.indexOf(a)&&f.push(b[c])}),f},indexOf:function(a,b){return a.indexOf(b)},setProperty:function(b,c,d,e){void 0!==d&&(a.is(d,"String")?"model"==d.substr(0,5)?b.setBinding(c,d+",direction=<>",b):"{#"==d.substr(0,2)?b.setBinding(c,"owner."+d.substring(2,d.length-1)+",direction=<>",e):"{"==d.substr(0,1)?b.setBinding(c,"owner.model."+d.substring(1,d.length-1),e):b.set(c,d):b.set(c,d))},loadScript:function(a,b){var c=document.createElement("script");c.type="text/javascript",c.readyState?c.onreadystatechange=function(){("loaded"==c.readyState||"complete"==c.readyState)&&(c.onreadystatechange=null,b())}:c.onload=function(){b()},c.src=a,document.getElementsByTagName("head")[0].appendChild(c)},parseURL:function(a){var b=document.createElement("a");return b.href=a,{source:a,protocol:b.protocol.replace(":",""),host:b.hostname,port:b.port,query:b.search,params:function(){for(var a,c={},d=b.search.replace(/^\?/,"").split("&"),e=d.length,f=0;e>f;f++)d[f]&&(a=d[f].split("="),c[a[0]]=a[1]);return c}(),file:(b.pathname.match(/\/([^\/?#]+)$/i)||[,""])[1],hash:b.hash.replace("#",""),path:b.pathname.replace(/^([^\/])/,"/$1"),relative:(b.href.match(/tps?:\/\/[^\/]+(.+)/)||[,""])[1],segments:b.pathname.replace(/^\//,"").split("/")}},keys:function(a){return Object.keys(a)},values:function(a){var b=[];for(var c in a)a.hasOwnProperty(c)&&b.push(a[c]);return b},boundHitTest:function(a,b){var c=b.top>=a.top&&b.top<=a.top+a.height,d=b.left>=a.left&&b.left<=a.left+a.width,e=a.top+a.height>=b.top+b.height&&b.top+b.height>=a.top,f=a.left+a.width>=b.left+b.width&&b.left+b.width>=a.left,g=a.top>=b.top&&a.top+a.height<=b.top+b.height,h=a.left>=b.left&&a.left+a.width<=b.left+b.width;return c&&d||e&&f||c&&f||e&&d||c&&h||e&&h||d&&g||f&&g}}})}(nx,nx.global),function(a){a.util.query=function(){var a,b={publics:{select:function(a,b){var c=[];if($.isArray(a)&&$.isFunction(b)){var d,e;for(d=0;d<a.length;d++)e=a[d],b(e)&&c.push(e)}return c},group:function(a,b){var c;if($.isFunction(b)){c={};var d,e,f;for(d=0;d<a.length;d++)e=b(a[d]),e&&"string"==typeof e&&(f=c[e]=c[e]||[],f.push(a[d]))}else c=a;return c},aggregate:function(a,b){var c,d=null;if($.isFunction(b))if($.isArray(a))d=b(a);else{d=[];for(c in a)d.push(b(a[c],c))}return d}},privates:{aggregate:function(a,c){var d,e=null,f=null;return $.isArray(c)?("function"==typeof c[c.length-1]&&(f=c.pop()),e=c.length>1?c:c[0]):(e=c.map,f=c.aggregate),"string"==typeof e&&(e=e.replace(/\s/g,"").split(",")),$.isArray(e)&&e[0]&&"string"==typeof e[0]&&(e=function(a){return function(b){var c,d={};for(c=0;c<a.length;c++)d[a[c]]=b[a[c]];return JSON.stringify(d)}}(e)),d=b.publics.aggregate(b.publics.group(a,e),f)},mapping:function(a,b){var c,d;if(b===!0)d=EXPORT.clone(a);else if($.isFunction(b))if($.isArray(a))for(d=[],c=0;c<a.length;c++)d.push(b(a[c],c));else d=b(a,0);else d=$.isArray(a)?a.slice():a;return d},orderby:function(a,b){return"string"==typeof b&&(b=b.replace(/^\s*(.*)$/,"$1").replace(/\s*$/,"").replace(/\s*,\s*/g,",").split(",")),$.isArray(b)&&b[0]&&"string"==typeof b[0]&&(b=function(a){return function(b,c){var d,e,f;if(!b&&!c)return 0;for(d=0;d<a.length;d++){if(e=a[d],f=/\sdesc$/.test(e),e=e.replace(/(\s+desc|\s+asc)$/,""),b[e]>c[e])return f?-1:1;if(c[e]>b[e])return f?1:-1}return 0}}(b)),b&&"function"==typeof b&&a.sort(b),a}},query:function(a,c){return 1==arguments.length&&(c=a,a=c.array),a?(c.select&&(a=b.publics.select(a,c.select)),c.aggregate&&(a=b.privates.aggregate(a,c.aggregate)),c.mapping&&(a=b.privates.mapping(a,c.mapping)),c.orderby&&(a=b.privates.orderby(a,c.orderby)),a):a}};for(a in b.publics)b.query[a]=b.publics[a];return b.query}()}(nx,nx.global),function(a){var b=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(a){return window.setTimeout(a,1e3/60)}}(),c=function(){return window.cancelAnimationFrame||window.cancelRequestAnimationFrame||window.webkitCancelAnimationFrame||window.webkitCancelRequestAnimationFrame||window.mozCancelAnimationFrame||window.mozCancelRequestAnimationFrame||window.msCancelAnimationFrame||window.msCancelRequestAnimationFrame||window.oCancelAnimationFrame||window.oCancelRequestAnimationFrame||window.clearTimeout}();a.define("nx.graphic.Animation",{statics:{requestAnimationFrame:b,cancelAnimationFrame:c},events:["complete"],properties:{callback:{set:function(a){this._callback=a,this.createAnimation(),this.autoStart()&&this.start()},get:function(){return this._callback||function(){}}},duration:{value:1e3},interval:{value:1e3/60},autoStart:{value:!1},complete:{value:function(){return function(){}}},context:{value:this}},methods:{init:function(a){this.inherited(arguments),this.sets(a)},createAnimation:function(){var a,c,d,e=this,f=this.callback(),g=this.duration(),h=this.interval(),i=0;this.fn=function(){d=+new Date,a?c=g?(d-a)/g:0:(a=+new Date,c=0),(c>=1||d-i>=h)&&(i=d,c>1&&(c=1),f.call(e.context(),c)===!1&&(g=1,e._completeFN())),1>c?e.ani_id=b(e.fn):1==c&&e._completeFN()}},start:function(){this.ani_id=b(this.fn)},stop:function(){c(this.ani_id)},_completeFN:function(){this.complete().call(this.context()),this.stop(),this.fire("complete")}}})}(nx,nx.util),function(a){var b=1e3;a.define("nx.widget.ZIndexManager",null,{"static":!0,methods:{getIndex:function(){return b++}}})}(nx,nx.global),function(a){var b=a.define(a.ui.Component,{view:{props:{"class":"nx n-popupContainer",style:{position:"absolute",top:"0px",left:"0px"}}}});a.define("nx.ui.PopupContainer",{"static":!0,properties:{container:{value:function(){return new b}}},methods:{addPopup:function(a){this.container().view().dom().appendChild(a.view().dom())}}}),a.dom.Document.ready(function(){},this),setTimeout(function(){document.body?document.body.firstChild?document.body.insertBefore(a.ui.PopupContainer.container().view().dom().$dom,document.body.firstChild):document.body.appendChild(a.ui.PopupContainer.container().view().dom().$dom):setTimeout(arguments.callee,10)},0)}(nx,nx.global),function(a){var b=a.ui.PopupContainer;a.define("nx.ui.Popup",a.ui.Component,{events:["open","close"],view:{props:{style:"position:absolute",tabindex:-1},events:{blur:function(){}}},properties:{target:{value:document},direction:{value:"auto"},width:{value:null},height:{value:null},offset:{value:0},offsetX:{value:0},offsetY:{value:0},align:{value:!1},position:{value:"absolute"},location:{value:"outer"},listenResize:{value:!1},lazyClose:{value:!1},pin:{value:!1},registeredPositionMap:{value:function(){return{}}},scrollClose:{value:!1}},methods:{init:function(a){this.inherited(a),this.sets(a),this._defaultConfig=this.gets()},attach:function(a){this.inherited(a),this.appendToPopupContainer()},appendToPopupContainer:function(){this._appended||(b.addPopup(this),this._delayCloseEvent(),this._listenResizeEvent(),this._appended=!0,this._closed=!1)},open:function(b){this._clearTimeout();var c=0,d=0,e=this.view().dom();this.sets(b||{}),this._resetOffset(b);var f=e.get("data-nx-popup-direction");f&&e.removeClass(f),this.appendToPopupContainer();var g=this.target(),h={width:0,height:0};if(g.resolve&&g.view&&(g=g.view()),void 0!==g.x&&void 0!==g.y)c=g.x,d=g.y;else if(g!=document){var i=g.getOffset();c=i.left,d=i.top,h=g.getBound()}else c=0,d=0;var j=this.width(),k=this.height();this.align()&&(j=h.width||0),j&&(e.setStyle("width",j),e.setStyle("max-width",j),this.width(j)),k&&e.setStyle("height",k),e.setStyle("display","block"),c+=this.offsetX(),d+=this.offsetY();var l=this._popupSize=e.getBound(),m=this.offset(),n={outer:{bottom:{left:c,top:d+h.height+m},top:{left:c,top:d-l.height-m},right:{left:c+h.width+m,top:d},left:{left:c-l.width-m,top:d}},inner:{bottom:{left:c+h.width/2-l.width/2+m,top:d},top:{left:c+h.width/2-l.width/2,top:d+h.height-l.height-m},left:{left:c+h.width-l.width-m,top:d+h.height/2-l.height/2},right:{left:c+m,top:d+h.height/2-l.height/2}},tooltip:{bottom:{left:c+h.width/2-l.width/2,top:d+h.height+m+2},"bottom-left":{left:c-22,top:d+h.height+m+2},"bottom-right":{left:c+h.width-l.width+22,top:d+h.height+m+2},top:{left:c+h.width/2-l.width/2,top:d-l.height-m-2},"top-left":{left:c-22,top:d-l.height-m-2},"top-right":{left:c+h.width/2-l.width/2+22,top:d-l.height-m-2},right:{left:c+h.width+m+2,top:d+h.height/2-l.height/2},"right-top":{left:c+h.width+m+2,top:0>=d?0:d-22},"right-bottom":{left:c+h.width+m+2,top:d+h.height-l.height},left:{left:c-l.width-m-2,top:d+h.height/2-l.height/2},"left-top":{left:c-l.width-m-2,top:0>=d?0:d-22},"left-bottom":{left:c-l.width-m-2,top:d+h.height-l.height}}},o=this.location();this._directionMap=n[o];var p=this.direction();(null==p||"auto"==p)&&(p=this._hitTest()),p||(p="bottom");var q=this._directionMap[p];e.setStyles({top:q.top,left:q.left,position:"position","z-index":a.widget.ZIndexManager.getIndex(),display:"block"}),e.set("data-nx-popup-direction",p),e.addClass("popup"),e.addClass(p),e.addClass("in"),this.fire("open"),this.dom().$dom.focus()},close:function(a){this._clearTimeout();var b=this.view().dom();this.pin()||(a||!this.lazyClose()?(this._closed=!0,b.removeClass("in"),b.setStyle("display","none"),this.fire("close")):this._delayClose())},_clearTimeout:function(){this.timer&&clearTimeout(this.timer)},_delayClose:function(){var a=this;this._clearTimeout(),this.timer=setTimeout(function(){a.close(!0)},500)},_delayCloseEvent:function(){this.lazyClose()&&(this.on("mouseenter",function(){this.timer&&clearTimeout(this.timer)},this),this.on("mouseleave",function(){clearTimeout(this.timer),this.close(!0)},this))},_listenResizeEvent:function(){this.listenResize(),this.scrollClose()},_hitTest:function(){var b=a.dom.Document.docRect(),c=Object.keys(this._directionMap),d=c[0];return c.some(function(a){var c={left:this._directionMap[a].left,top:this._directionMap[a].top,width:this._popupSize.width,height:this._popupSize.height},e=c.left>=b.scrollX&&c.top>=b.scrollY&&c.left+c.width<=b.width+b.scrollX&&c.top+c.height<=b.height+b.scrollY;return e?(d=a,!0):void 0},this),d},_resetOffset:function(a){}}})}(nx,nx.global),function(a){a.define("nx.ui.Popover",a.ui.Popup,{properties:{title:{get:function(){return this._title},set:function(a){return a?this.view("title").dom().setStyle("display","block"):this.view("title").dom().setStyle("display","none"),this._title!=a?(this._title=a,!0):!1}},location:{value:"tooltip"}},view:{props:{"class":"popover fade",style:{outline:"none"},tabindex:-1},events:{blur:function(){}},content:[{props:{"class":"arrow"}},{tag:"h3",name:"title",props:{"class":"popover-title",style:{display:"none"}},content:"{#title}"},{name:"body",props:{"class":"popover-content"}}]},methods:{getContainer:function(){return this.view("body").dom()}}})}(nx,nx.global),function(a){a.define("nx.graphic.DragManager",a.Observable,{"static":!0,properties:{node:{},referrer:{},track:{},dragging:{value:!1}},methods:{init:function(){window.addEventListener("mousedown",this._capture_mousedown.bind(this),!0),window.addEventListener("mousemove",this._capture_mousemove.bind(this),!0),window.addEventListener("mouseup",this._capture_mouseup.bind(this),!0)},start:function(a){return function(b,c){if(b&&!this.node()){c=c===window||c===document||c===document.body?document.body:c||b,c="function"==typeof c.dom?c.dom().$dom:c,this.node(b),this.referrer(c);var d,e=[];return d=c.getBoundingClientRect(),this.track(e),this.track().push([a.pageX-document.body.scrollLeft-d.left,a.pageY-document.body.scrollTop-d.top]),a.dragCapture=function(){},!0}}.bind(this)},move:function(a){var b=this.node();b&&(a.drag=this._makeDragData(a),this.dragging()||(this.dragging(!0),b.fire("dragstart",a)),b.fire("dragmove",a))},end:function(a){var b=this.node();b&&(a.drag=this._makeDragData(a),this.dragging()&&b.fire("dragend",a),this.node(null),this.track(null),this.dragging(!1))},_makeDragData:function(a){var b=this.track(),c=this.referrer().getBoundingClientRect(),d=[a.pageX-document.body.scrollLeft-c.left,a.pageY-document.body.scrollTop-c.top],e=b[0],f=b[b.length-1];return this.track([e,d]),{target:this.node(),accord:this.referrer(),origin:e,current:d,offset:[d[0]-e[0],d[1]-e[1]],delta:[d[0]-f[0],d[1]-f[1]]}},_capture_mousedown:function(a){a.captureDrag&&(this._lastDragCapture=a.captureDrag),a.captureDrag="mousedown"===a.type?this.start(a):function(){}},_capture_mousemove:function(a){this.move(a)},_capture_mouseup:function(a){this.end(a)}}})}(nx,nx.global),function(a){a.Object.delegateEvent=function(b,c,d,e){d.can(e)||(b.on(c,function(a,b){d.fire(e,b)}),a.Object.extendEvent(d,e))};var b={transform:"webkitTransform"};a.define("nx.graphic.Component",a.ui.Component,{events:["dragstart","dragmove","dragend"],properties:{translateX:{set:function(a){this.setTransform(a)}},translateY:{set:function(a){this.setTransform(null,a)}},scale:{set:function(a){this.setTransform(null,null,a)}},translate:{get:function(){return{x:this._translateX||0,y:this._translateY||0}},set:function(a){this.setTransform(a.x,a.y)}},visible:{get:function(){return void 0!==this._visible?this._visible:!0},set:function(a){this.view()&&(a?this.view().dom().removeClass("n-hidden"):this.view().dom().addClass("n-hidden")),this._visible=a}},"class":{get:function(){return void 0!==this._class?this._class:""},set:function(a){return this._class!==a?(this._class=a,this.dom().addClass(a),!0):!1}}},view:{},methods:{init:function(a){this.inherited(a),this.sets(a)},setTransform:function(a,b,c,d){var e=null!=a?a:this._translateX||0,f=null!=b?b:this._translateY||0,g=null!=c?c:this._scale||1;this.setStyle("transform"," matrix("+g+",0,0,"+g+","+e+", "+f+")",d),this._translateX=e,this._translateY=f,this._scale=g},setStyle:function(a,c,d,e,f){d?this.setTransition(e,f,d):e&&setTimeout(function(){e.call(f||this)},0);var g=this.dom().$dom;g.style[a]=c,b[a]&&(g.style[b[a]]=c)},setTransition:function(a,b,c){var d=this.dom();c?(d.setStyle("transition","all "+c+"s ease"),this.on("transitionend",function e(){a&&a.call(b||this),d.setStyle("transition",""),this.off("transitionend",e,this)},this)):(d.setStyle("transition",""),a&&setTimeout(function(){a.call(b||this)},0))},append:function(a){var b;b=this._parentElement=a?a.view().dom():this._parentElement||this.view().dom().parentNode(),b&&b.$dom&&this._resources&&this.view()&&!b.contains(this.view().dom())&&b.appendChild(this.view().dom())},remove:function(){var a=this._parentElement=this._parentElement||this.view().dom().parentNode();a&&this._resources&&this.view()&&a.removeChild(this.view().dom())},getBound:function(){return this.dom().$dom.getBoundingClientRect()},hide:function(){this.visible(!1)},show:function(){this.visible(!0)},animate:function(b){var c=this,d=[],e=this.view();a.each(b.to,function(a,b){var c=this.has(b)?this.get(b):e.getStyle(b);d.push({key:b,oldValue:c,newValue:a})},this),this._ani&&(this._ani.stop(),this._ani.dispose(),delete this._ani);var f=this._ani=new a.graphic.Animation({duration:b.duration||1e3,context:b.context||this});f.callback(function(b){a.each(d,function(a){var d=a.oldValue+(a.newValue-a.oldValue)*b;c.set(a.key,d)})}),b.complete&&f.complete(b.complete),f.on("complete",function(){this.fire("animationCompleted"),f.dispose(),delete this._ani},this),f.start()},_processPropertyValue:function(b){var c=b;return a.is(b,"Function")&&(c=b.call(this,this.model(),this)),c},dispose:function(){this._resources&&this._resources["@root"]&&this.view().dom().$dom.remove(),this.inherited()}}})}(nx,nx.global),function(a){a.define("nx.graphic.Group",a.graphic.Component,{properties:{"data-id":{set:function(b){a.each(this.content(),function(a){a.set("data-id",b)}),this.view().set("data-id",b),this["_data-id"]=b}}},view:{tag:"svg:g"},methods:{move:function(a,b){var c=this.translate();this.setTransform(a+c.x,b+c.y)}}})}(nx,nx.global),function(a){var b="http://www.w3.org/1999/xlink";a.define("nx.graphic.Icon",a.graphic.Component,{view:{tag:"svg:g",content:[{name:"bgtext",tag:"svg:text"},{name:"text",tag:"svg:text"},{tag:"svg:g",name:"image",content:{name:"use",tag:"svg:use"}}]},properties:{imageType:{value:"font"},iconType:{get:function(){return this._iconType},set:function(c){var d=a.graphic.Icons.get(c.toLowerCase()),e=d.size,f=this.view("image").dom(),g=this.view("text").dom(),h=this.view("bgtext").dom(),i=this.view("use").dom();d.font?(g.setStyle("display","block"),i.setStyle("display","none"),g.$dom.firstChild&&g.$dom.removeChild(g.$dom.firstChild),g.$dom.appendChild(document.createTextNode(d.font[0])),g.addClass("fontIcon iconShape"),h.$dom.firstChild&&h.$dom.removeChild(h.$dom.firstChild),h.$dom.appendChild(document.createTextNode(d.font[1])),h.addClass("fontIcon iconBG"),this.imageType("font")):(g.setStyle("display","none"),i.setStyle("display","block"),h.$dom.firstChild&&h.$dom.removeChild(h.$dom.firstChild),h.$dom.appendChild(document.createTextNode("")),h.addClass("fontIcon iconBG"),i.$dom.setAttributeNS(b,"xlink:href","#"+c),f.setStyle("-webkit-transform","translate("+e.width/-2+"px, "+e.height/-2+"px)"),this.imageType("image")),this.view().set("iconType",c),this.view().dom().addClass("n-topology-icon"),this.size(e),this._iconType=d.name}},size:{value:function(){return{width:36,height:36}}},color:{set:function(a){"font"==this.imageType()&&this.view("text").dom().setStyle("fill",a),this.view("bgtext").dom().setStyle("fill",this.showIcon()?"":a),this._color=a}},scale:{set:function(a){var b=this.view("text").dom(),c=this.view("bgtext").dom(),d=this.view("image").dom(),e=this.size(),f=Math.max(e.width,e.height),g=this.showIcon()?f*a:4+8*a;b.setStyle("font-size",g),c.setStyle("font-size",g),"image"==this.imageType()&&a&&d.setStyle("-webkit-transform","translate("+e.width/-2+"px, "+e.height/-2+"px) scale("+a+")"),this._scale=a}},showIcon:{get:function(){return void 0!==this._showIcon?this._showIcon:!0},set:function(a){var b=this.view("text").dom(),c=this.view("bgtext").dom(),d=this.view("image").dom();a?("font"==this.imageType()?(b.setStyle("display","block"),c.setStyle("display","block")):(d.setStyle("display","block"),c.setStyle("display","none")),c.removeClass("iconBGActive"),this.view().dom().addClass("showIcon")):("font"==this.imageType()?b.setStyle("display","none"):d.setStyle("display","none"),c.addClass("iconBGActive"),this.view().dom().removeClass("showIcon")),this._showIcon=a,this._color&&this.color(this._color),this._scale&&this.scale(this._scale)}}}})}(nx,nx.global),function(a){var b=a.define("nx.graphic.Icons",{"static":!0,statics:{icons:{}},methods:{get:function(a){return b.icons[a]||b.icons.switch},getSVGString:function(a){return e[a].icon},getTypeList:function(){return Object.keys(e)},registerIcon:function(a,e,f,g){var h=document.createElementNS(d,"image");h.setAttributeNS(c,"href",e),b.icons[a]={size:{width:f,height:g},icon:h.cloneNode(!0),name:a}},__each__:function(b,c){var d=b||function(){};a.each(e,function(a,b){var f=a.icon;d.call(c||this,f,b,e)})}}}),c="http://www.w3.org/1999/xlink",d="http://www.w3.org/2000/svg",e={"switch":{width:32,height:32,name:"Switch",font:["",""]},router:{width:32,height:32,name:"Router",font:["",""]},wlc:{width:32,height:32,font:["",""]},unknown:{width:32,height:32,font:["",""]},server:{width:32,height:32,font:["",""]},phone:{width:32,height:32,font:["",""]},nexus5000:{width:32,height:32,font:["",""]},ipphone:{width:32,height:32,font:["",""]},host:{width:32,height:32,font:["",""]},camera:{width:32,height:32,font:["",""]},accesspoint:{width:32,height:32,font:["",""]},groups:{width:32,height:32,font:["",""]},groupm:{width:32,height:32,font:["",""]},groupl:{width:32,height:32,font:["",""]},collapse:{width:16,height:16,font:["",""]},expand:{width:14,height:14,font:["",""]},nodeset:{width:32,height:32,font:["",""]},cloud:{width:48,height:48,font:["",""]}};a.each(e,function(a,c){var d=b.icons[c]={size:{width:a.width,height:a.height},name:c};a.font?d.font=a.font:a.icon&&(d.icon=(new DOMParser).parseFromString(a.icon,"text/xml").documentElement.cloneNode(!0))})}(nx,nx.global),function(a){a.define("nx.graphic.Circle",a.graphic.Component,{view:{tag:"svg:circle"}})}(nx,nx.global),function(a){var b="http://www.w3.org/1999/xlink";a.define("nx.graphic.Image",a.graphic.Component,{properties:{src:{get:function(){return void 0!==this._src?this._src:0},set:function(a){if(this._src!==a){if(this._src=a,this.view()&&void 0!==a){var c=this.view().dom().$dom;c.setAttributeNS(b,"href",a)}return!0}return!1}}},view:{tag:"svg:image"}})}(nx,nx.global),function(a){a.define("nx.graphic.Line",a.graphic.Component,{view:{tag:"svg:line"}})}(nx,nx.global),function(a){a.define("nx.graphic.Path",a.graphic.Component,{view:{tag:"svg:path"}})}(nx,nx.global),function(a){a.define("nx.graphic.Polygon",a.graphic.Path,{properties:{nodes:{get:function(){return this._nodes||[]},set:function(b){this._nodes=b;var c=b;if(0!==c.length){if(1==c.length){var d=c[0];c.push({x:d.x-1,y:d.y-1}),c.push({x:d.x+1,y:d.y-1})}else 2==c.length&&(c.push([c[0].x+1,c[0].y+1]),c.push(c[1]));var e=a.data.Convex.process(c),f=[];f.push("M ",e[0].x," ",e[0].y);for(var g=1;g<e.length;g++)a.is(e[g],"Array")||f.push(" L ",e[g].x," ",e[g].y);f.push(" Z"),this.set("d",f.join(""))}}}}})}(nx,nx.global),function(a){a.define("nx.graphic.Rect",a.graphic.Component,{view:{tag:"svg:rect"}})}(nx,nx.global),function(a){a.define("nx.graphic.Stage",a.ui.Component,{events:["dragStageStart","dragStage","dragStageEnd","stageTransitionEnd"],view:{tag:"svg:svg",props:{"class":"n-svg",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",style:{width:"{#width}",height:"{#height}"}},content:[{name:"defs",tag:"svg:defs"},{name:"scalingLayer",type:"nx.graphic.Group",props:{"class":"stage"},events:{transitionend:"{#_transitionend}"}},{name:"staticLayer",type:"nx.graphic.Group"}],events:{mousedown:"{#_mousedown}",dragstart:"{#_dragstart}",dragmove:"{#_drag}",dragend:"{#_dragend}"}},properties:{animating:{},scalable:{value:!0},viewbox:{dependencies:"width, height, matrix",value:function(b,c,d){var e=a.geometry.Matrix.inverse(d);return[a.geometry.Vector.transform([0,0],e),a.geometry.Vector.transform([b,c],e)]}},width:{value:300},height:{value:300},stageScale:{value:1},padding:{value:0},maxZoomLevel:{value:12},minZoomLevel:{value:.25},zoomLevel:{value:1},disableUpdateStageScale:{value:!1},matrix:{get:function(){return this._matrix||a.geometry.Matrix.I},set:function(b){var c=this.scalingLayer().dom().$dom,d="matrix("+a.geometry.Matrix.stringify(b)+")";c.style.transform=d,c.style.webkitTransform=d,this._matrix=b}},matrixObject:{},stage:{get:function(){return this.view("scalingLayer")}},staticLayer:{get:function(){return this.view("staticLayer")}},scalingLayer:{get:function(){return this.view("scalingLayer")}},fitMatrixObject:{set:function(a){a&&this.zoomLevel(this.stage().scale()/a.scale()),this._fitMatrixObject=a}}},methods:{getContainer:function(){return this.view("scalingLayer").view().dom()},addDef:function(a){this.view("defs").dom().$dom.appendChild(a)},addDefString:function(a){this.view("defs").dom().$dom.appendChild((new DOMParser).parseFromString(a,"text/xml").documentElement)},getContentBound:function(){var a=this.scalingLayer().getBound(),b=this.view().dom().getBound();if(0===a.left&&0===a.top&&0===a.width&&0===a.height){var c=this.padding();return{left:c,top:c,height:this.height()-2*c,width:this.width()-2*c}}var d={left:a.left-b.left,top:a.top-b.top,width:a.width,height:a.height};return d.width<300&&(d.left-=(300-d.width)/2,d.width=300),d.height<300&&(d.top-=(300-d.height)/2,d.height=300),d},fit:function(b,c,d){var e=a.keyword.internal.watch(this,"animating",function(f){if(!f)if(e.release(),d){this.scalingLayer().on("transitionend",function i(){this.scalingLayer().dom().removeClass("n-topology-fit"),this.scalingLayer().off("transitionend",i,this),b&&b.call(c||this),this.animating(!1)},this);var g=this.matrix(),h=this.fitMatrixObject().matrix();a.geometry.Matrix.approximate(g,h)||(this.animating(!0),this.scalingLayer().dom().addClass("n-topology-fit"),this._setStageMatrix(this.fitMatrixObject().matrix())),this.zoomLevel(1)}else this._setStageMatrix(this.fitMatrixObject().matrix()),this.zoomLevel(1),b&&b.call(c||this)}.bind(this));e.notify()},actualSize:function(){this.scalingLayer().setTransition(null,null,.6),this._setStageMatrix(a.geometry.Matrix.I)},zoom:function(a,b,c){this.scalingLayer().setTransition(b,c,.6),this.applyStageScale(a)},zoomByBound:function(a,b,c,d){var e=this.padding(),f={left:e,top:e,height:this.height()-2*e,width:this.width()-2*e};this.scalingLayer().setTransition(b,c,d),this.applyStageMatrix(this.calcRectZoomMatrix(f,a))},calcRectZoomMatrix:function(a,b){var c=b.width||b.height?Math.min(a.height/Math.abs(b.height),a.width/Math.abs(b.width)):1,d=a.left+a.width/2-c*(b.left+b.width/2),e=a.top+a.height/2-c*(b.top+b.height/2);return[[c,0,0],[0,c,0],[d,e,1]]},applyTranslate:function(a,b,c){var d=this.matrixObject();return d.applyTranslate(a,b),c&&this.scalingLayer().setTransition(null,null,c),this.matrix(d.matrix()),this.matrixObject(d),d},applyStageMatrix:function(b,c){return this._setStageMatrix(a.geometry.Matrix.multiply(this.matrix(),b),c)},applyStageScale:function(b,c){var d=b||1,e=c||[this.width()/2,this.height()/2],f=a.geometry.Matrix.multiply([[1,0,0],[0,1,0],[-e[0],-e[1],1]],[[d,0,0],[0,d,0],[0,0,1]],[[1,0,0],[0,1,0],[e[0],e[1],1]]);return this.applyStageMatrix(f,e)},resetStageMatrix:function(){var b=new a.geometry.Matrix(this.matrix());this.disableUpdateStageScale(!1),this.matrix(b.matrix()),this.matrixObject(b),this.stageScale(1/b.scale())},resetFitMatrix:function(){var b=a.keyword.internal.watch(this,"animating",function(c){if(!c){b.release();var d=this.getContentBound(),e=this.padding(),f={left:e,top:e,height:this.height()-2*e,width:this.width()-2*e},g=new a.geometry.Matrix(this.calcRectZoomMatrix(f,d));g.matrix(a.geometry.Matrix.multiply(this.matrix(),g.matrix())),this.fitMatrixObject(g)}}.bind(this));b.notify()},_setStageMatrix:function(b,c){c=c||[this.width()/2,this.height()/2];var d=new a.geometry.Matrix(b),e=this.fitMatrixObject(),f=e.scale(),g=this.maxZoomLevel(),h=this.minZoomLevel();return d.scale()/f>g&&d.applyScale(g*f/d.scale(),c),d.scale()/f<h&&d.applyScale(h*f/d.scale(),c),a.geometry.Matrix.approximate(this.matrix(),d.matrix())?this.matrixObject():(this.matrixObject(d),this.matrix(d.matrix()),this.disableUpdateStageScale()||this.stageScale(1/d.scale()),this.zoomLevel(d.scale()/f),d)},hide:function(){this.view("scalingLayer").dom().setStyle("opacity",0),this.view("staticLayer").dom().setStyle("opacity",0)},show:function(){this.view("scalingLayer").dom().setStyle("opacity",1),this.view("staticLayer").dom().setStyle("opacity",1)},_transitionend:function(a,b){this.fire("stageTransitionEnd",b)},_mousedown:function(a,b){b.captureDrag(a)},_dragstart:function(a,b){this.view("scalingLayer").dom().setStyle("pointer-events","none"),this.fire("dragStageStart",b)},_drag:function(a,b){this.fire("dragStage",b)},_dragend:function(a,b){this.fire("dragStageEnd",b),this.view("scalingLayer").dom().setStyle("pointer-events","all")}}})}(nx,nx.global),function(a){a.define("nx.graphic.Text",a.graphic.Component,{properties:{text:{get:function(){return void 0!==this._text?this._text:0},set:function(a){if(this._text!==a&&void 0!==a){this._text=a;var b=this.view().dom().$dom;return b.firstChild&&b.removeChild(b.firstChild),b.appendChild(document.createTextNode(a)),!0}return!1}}},view:{tag:"svg:text"}})}(nx,nx.global),function(a){a.define("nx.graphic.Triangle",a.graphic.Path,{properties:{width:{get:function(){return void 0!==this._width?this._width:0},set:function(a){return this._width!==a?(this._width=a,this._draw(),!0):!1}},height:{get:function(){return void 0!==this._height?this._height:0},set:function(a){return this._height!==a?(this._height=a,this._draw(),!0):!1}}},methods:{_draw:function(){if(this._width&&this._height){var a=[];a.push("M ",this._width/2," ",0),a.push(" L ",this._width," ",this._height),a.push(" L ",0," ",this._height),a.push(" Z"),this.set("d",a.join(""))}}}})}(nx,nx.global),function(a){a.define("nx.graphic.BezierCurves",a.graphic.Path,{properties:{x1:{set:function(a){this._x1=a,this._buildPath()},get:function(){return this._x1||0}},y1:{set:function(a){this._y1=a,this._buildPath()},get:function(){return this._y1||0}},x2:{set:function(a){this._x2=a,this._buildPath()},get:function(){return this._x2||0}},y2:{set:function(a){this._y2=a,this._buildPath()},get:function(){return this._y2||0}},isClockwise:{value:!0},straight:{value:!1}},methods:{_buildPath:function(){var a,b=this.x1(),c=this.x2(),d=this.y1(),e=this.y2();if(null!==b&&null!==c&&null!==d&&null!==e){var f=b-c,g=e-d,h=Math.sqrt(f*f+g*g);return a=this.straight()?"M"+b+","+d+" "+c+","+e:this.isClockwise()?"M"+c+","+e+"A "+h+" "+h+", 0, 0, 1, "+b+","+d+"A "+(h-0)+" "+(h-0)+", 0, 0, 0, "+c+","+e:"M"+c+","+e+"A "+h+" "+h+", 0, 0, 0, "+b+","+d+"A "+(h-0)+" "+(h-0)+", 0, 0, 1, "+c+","+e,this.set("d",a)}return null}}})}(nx,nx.global),function(a){a.define("nx.geometry.MatrixSupport",{properties:{matrix:{value:function(){return a.geometry.Matrix.I}},matrixInversion:{dependencies:["matrix"],value:function(b){return b?a.geometry.Matrix.inverse(b):null}},transform_internal_:{dependencies:["matrix"],value:function(b){if(b){var c=0/0,d=0/0;return a.geometry.Matrix.isometric(b)&&(c=Math.sqrt(b[0][0]*b[0][0]+b[0][1]*b[0][1]),d=b[0][1]>0?Math.acos(b[0][0]/c):-Math.acos(b[0][0]/c)),{x:b[2][0],y:b[2][1],scale:c,rotate:d}}return{x:0,y:0,scale:1,rotate:0}}},x:{get:function(){return void 0!==this._x?this._x:this.transform_internal_().x},set:function(a){return this._applyTransform("x",a),isNaN(this.transform_internal_().x)||this._x===this.transform_internal_().x?!1:(this._x=this.transform_internal_().x,!0)}},y:{get:function(){return void 0!==this._y?this._y:this.transform_internal_().y},set:function(a){return this._applyTransform("y",a),isNaN(this.transform_internal_().y)||this._y===this.transform_internal_().y?!1:(this._y=this.transform_internal_().y,!0)}},scale:{get:function(){return void 0!==this._scale?this._scale:this.transform_internal_().scale},set:function(a){return this._applyTransform("scale",a),isNaN(this.transform_internal_().scale)||this._scale===this.transform_internal_().scale?!1:(this._scale=this.transform_internal_().scale,!0)}},rotate:{get:function(){return void 0!==this._rotate?this._rotate:this.transform_internal_().rotate},set:function(a){return this._applyTransform("rotate",a),isNaN(this.transform_internal_().rotate)||this._rotate===this.transform_internal_().rotate?!1:(this._rotate=this.transform_internal_().rotate,!0)}}},methods:{applyTranslate:function(b,c){this.matrix(a.geometry.Matrix.multiply(this.matrix(),[[1,0,0],[0,1,0],[b,c,1]]))},applyScale:function(b,c){this.matrix(c?a.geometry.Matrix.multiply(this.matrix(),[[1,0,0],[0,1,0],[-c[0],-c[1],1]],[[b,0,0],[0,b,0],[0,0,1]],[[1,0,0],[0,1,0],[c[0],c[1],1]]):a.geometry.Matrix.multiply(this.matrix(),[[b,0,0],[0,b,0],[0,0,1]]))},applyRotate:function(b,c){this.x(),this.y(),sin(b),cos(b);this.matrix(c?a.geometry.Matrix.multiply(this.matrix(),[[1,0,0],[0,1,0],[-c[0],-c[1],1]],[[cos,sin,0],[-sin,cos,0],[0,0,1]],[[1,0,0],[0,1,0],[c[0],c[1],1]]):a.geometry.Matrix.multiply(this.matrix(),[[cos,sin,0],[-sin,cos,0],[0,0,1]]))},applyMatrix:function(){var b=Array.prototype.slice.call(arguments);b=a.util.query({array:b,mapping:function(b){return a.is(b,a.geometry.Matrix)?b.matrix():b}}),b.unshift(this.matrix()),this.matrix(a.geometry.Matrix.multiply.apply(this,b))},_applyTransform:function(a,b){if(this["_"+a]!==b&&!isNaN(b))if(b===this.transform_internal_()[a])this["_"+a]=b,this.notify(a);
else switch(a){case"x":this.applyTranslate(b-this.transform_internal_().x,0);break;case"y":this.applyTranslate(0,b-this.transform_internal_().y);break;case"scale":this.applyScale(b/this.transform_internal_().scale,[this.transform_internal_().x,this.transform_internal_().y]);break;case"rotate":this.applyRotate(b-this.transform_internal_().rotate,[this.transform_internal_().x,this.transform_internal_().y])}},toString:function(){return a.geometry.Matrix.stringify(this.matrix())}}})}(nx,nx.ui,window),function(a){var b=a.define("nx.geometry.Matrix",a.Observable,{mixins:[a.geometry.MatrixSupport],methods:{init:function(a){this.inherited(),this.matrix(a)},equal:function(c){return b.equal(this.matrix(),a.is(c,b)?c.matrix():c)}},statics:{I:[[1,0,0],[0,1,0],[0,0,1]],isometric:function(a){return a&&(a[0][0]||a[0][1])&&a[0][0]===a[1][1]&&a[0][1]===-a[1][0]},approximate:function(b,c){if(!b||!c||b.length!=c.length)return!1;var d;for(d=0;d<b.length;d++)if(!a.geometry.Vector.approximate(b[d],c[d]))return!1;return!0},equal:function(b,c){if(!b||!c||b.length!=c.length)return!1;var d;for(d=0;d<b.length;d++)if(!a.geometry.Vector.equal(b[d],c[d]))return!1;return!0},multiply:function(){for(var a,b,c,d,e,f,g,h,i,j,k,l=Array.prototype.slice.call(arguments);l.length>1;){if(a=l[0],b=l[1],a[0].length!=b.length)return null;for(i=a.length,j=b[0].length,k=b.length,c=[],f=0;i>f;f++){for(d=[],g=0;j>g;g++){for(e=0,h=0;k>h;h++)e+=a[f][h]*b[h][g];d.push(e)}c.push(d)}l.splice(0,2,c)}return l[0]},transpose:function(a){var b,c,d=[],e=a.length,f=a[0].length;for(c=0;f>c;c++)for(d[c]=[],b=0;e>b;b++)d[c].push(a[b][c]);return d},inverse:function(a){var b=a[0][0],c=a[0][1],d=a[1][0],e=a[1][1],f=a[2][0],g=a[2][1],h=b*e-c*d;return 0===h?null:[[e/h,-c/h,0],[-d/h,b/h,0],[(d*g-e*f)/h,(c*f-b*g)/h,1]]},stringify:function(a){return[a[0][0],a[0][1],a[1][0],a[1][1],a[2][0],a[2][1]].join(",").replace(/-?\d+e[+-]?\d+/g,"0")}}})}(nx,nx.ui,window),function(a){var b=a.define("nx.geometry.Math",a.Observable,{statics:function(){function a(a){return function(c){var d=a(c);return b.approximate(d,0)?0:d}}return{approximate:function(a,b){var c=a-b;return 1e-10>c&&c>-1e-10},sin:a(Math.sin),cos:a(Math.cos),tan:a(Math.tan),cot:function(a){var b=Math.tan(a);return b>1e10||-1e10>b?0:1/b}}}()})}(nx,nx.ui,window),function(a){var b=a.define("nx.geometry.BezierCurve",a.Observable,{statics:function(){function a(a){var b,c=[];for(b=0;b<a.length-1;b++)c.push([a[b],a[b+1]]);return c}function c(a){var b,c=[a[0][0]];for(b=0;b<a.length;b++)c.push(a[b][1]);return c}function d(a){var b=0,c=0,d=[];for(b=0;b<a.length;b++){if("number"!=typeof a[b]||a[b]<=c||a[b]>=1)throw"Invalid bread point list: "+a.join(",");d.push((a[b]-c)/(1-c)),c=a[b]}return d}return{slice:function(a,c,d){return 0===c?0===d?null:b.breakdown(a,d).beziers[0]:d?b.breakdown(a,c,d).beziers[1]:b.breakdown(a,c).beziers[1]},breakdown:function(e){var f=Array.prototype.slice.call(arguments,1);if(!f.length)throw"Invalid argument length: "+arguments.length;f=d(f);var g,h,i,j=[e[0]],k=[];for(h=a(e);f.length;)g=f.shift(),i=b.separate(h,g),j.push(i.point),k.push(c(i.left)),h=i.right;return j.push(e[e.length-1]),k.push(c(h)),{points:j,beziers:k}},separate:function(a,b){for(var c,d,e=1-b,f=function(a){return[a[0][0]*e+a[1][0]*b,a[0][1]*e+a[1][1]*b]},g=function(a,b){return[f([a[0],b[0]]),f([a[1],b[1]])]},h=function(a){var b,c=[];for(b=0;b<a.length-1;b++)c.push(g(a[b],a[b+1]));return c},i=[],j=[],k=a;k.length;)d=k[0],i.push([d[0],f(d)]),d=k[k.length-1],j.unshift([f(d),d[1]]),1==k.length&&(c=f(k[0])),k=h(k);return{point:c,left:i,right:j}}}}()})}(nx,nx.ui,window),function(a){var b=a.define("nx.geometry.Vector",a.Observable,{statics:{approximate:function(b,c){if(!b||!c||b.length!=c.length)return!1;var d;for(d=0;d<b.length;d++)if(!a.geometry.Math.approximate(b[d],c[d]))return!1;return!0},equal:function(a,b){if(!a||!b||a.length!=b.length)return!1;var c;for(c=0;c<a.length;c++)if(a[c]!==b[c])return!1;return!0},plus:function(a,b){return[a[0]+b[0],a[1]+b[1]]},transform:function(b){var c=[[b.concat([1])]].concat(Array.prototype.slice.call(arguments,1));return a.geometry.Matrix.multiply.apply(a.geometry.Matrix,c)[0].slice(0,2)},multiply:function(a,c){return b.transform(a,[[c,0,0],[0,c,0],[0,0,1]])},abs:function(a,c){if(1==arguments.length)return Math.sqrt(a[0]*a[0]+a[1]*a[1]);var d=c/b.abs(a);return b.transform(a,[[d,0,0],[0,d,0],[0,0,1]])},reverse:function(a){return b.transform(a,[[-1,0,0],[0,-1,0],[0,0,1]])},rotate:function(c,d){var e=a.geometry.Math.sin(d),f=a.geometry.Math.cos(d);return b.transform(c,[[f,e,0],[-e,f,0],[0,0,1]])}},methods:{init:function(a,b){this.x=a||0,this.y=b||0},equals:function(a){return this.x===a.x&&this.y===a.y},length:function(){return Math.sqrt(this.squaredLength())},squaredLength:function(){var a=this.x,b=this.y;return a*a+b*b},angle:function(){var a=this.length(),b=a&&Math.acos(this.x/a);return b=180*b/Math.PI,b=this.y>0?b:-b},circumferentialAngle:function(){var a=this.angle();return 0>a&&(a+=360),a},slope:function(){return this.y/this.x},add:function(a){return new b(this.x+a.x,this.y+a.y)},subtract:function(a){return new b(this.x-a.x,this.y-a.y)},multiply:function(a){return new b(this.x*a,this.y*a)},divide:function(a){return new b(this.x/a,this.y/a)},rotate:function(a){var c=this.x,d=this.y,e=Math.sin(a/180*Math.PI),f=Math.cos(a/180*Math.PI);return new b(c*f-d*e,c*e+d*f)},negate:function(){return new b(-this.x,-this.y)},normal:function(){var a=this.length()||1;return new b(-this.y/a,this.x/a)},normalize:function(){var a=this.length()||1;return new b(this.x/a,this.y/a)},clone:function(){return new b(this.x,this.y)}}})}(nx,window),function(a){var b=a.geometry.Vector,c=a.define("nx.geometry.Line",a.Observable,{methods:{init:function(a,c){this.start=a||new b,this.end=c||new b,this.dir=this.end.subtract(this.start)},length:function(){return this.dir.length()},squaredLength:function(){return this.dir.squaredLength()},angle:function(){return this.dir.angle()},circumferentialAngle:function(){var a=this.angle();return 0>a&&(a+=360),a},center:function(){return this.start.add(this.end).divide(2)},slope:function(){return this.dir.slope()},general:function(){var a=this.slope(),b=this.start;return isFinite(a)?[a,-1,b.y-a*b.x]:[1,0,-b.x]},intersection:function(a){var c=this.general(),d=a.general();return new b((c[1]*d[2]-d[1]*c[2])/(c[0]*d[1]-d[0]*c[1]),(c[0]*d[2]-d[0]*c[2])/(d[0]*c[1]-c[0]*d[1]))},pedal:function(a){var c=this.dir,d=this.general(),e=[c.x,c.y,-a.x*c.x-a.y*c.y];return new b((d[1]*e[2]-e[1]*d[2])/(d[0]*e[1]-e[0]*d[1]),(d[0]*e[2]-e[0]*d[2])/(e[0]*d[1]-d[0]*e[1]))},translate:function(a){return a=a.rotate(this.angle()),new c(this.start.add(a),this.end.add(a))},rotate:function(a){return new c(this.start.rotate(a),this.end.rotate(a))},negate:function(){return new c(this.end,this.start)},normal:function(){var a=this.dir,c=this.dir.length();return new b(-a.y/c,a.x/c)},pad:function(a,b){var d=this.dir.normalize();return new c(this.start.add(d.multiply(a)),this.end.add(d.multiply(-b)))},clone:function(){return new c(this.start,this.end)}}})}(nx),function(a){a.data.QuadTree=function(a,c,d,e){var f=c||800,g=d||600,h=a,i=0,j=0,k=0,l=0;if(this.root=null,this.alpha=0,h){for(var m,n,o,p=0,q=h.length;q>p;p++)m=h[p],m.dx=0,m.dy=0,n=m.x,o=m.y,isNaN(n)&&(n=m.x=Math.random()*f),isNaN(o)&&(o=m.y=Math.random()*g),i>n?i=n:n>k&&(k=n),j>o?j=o:o>l&&(l=o);var r=k-i,s=l-j;r>s?l=j+r:k=i+s;var t=this.root=new b(this,i,j,k,l);for(p=0;q>p;p++)t.insert(h[p])}};var b=function(a,c,d,e,f){var g=this.x1=c,h=this.y1=d,i=this.x2=e,j=this.y2=f,k=.5*(g+i),l=.5*(h+j),m=.5*(e-c),n=.5*(f-d);this.point=null,this.nodes=null,this.insert=function(a){var b=this.point,c=this.nodes;return b||c?void(b?Math.abs(b.x-a.x)+Math.abs(b.y-a.y)<.01?this._insert(a):(this.point=null,this._insert(b),this._insert(a)):this._insert(a)):void(this.point=a)},this._insert=function(c){var d=c.x>=k,e=c.y>=l,f=(e<<1)+d,i=g+m*d,j=h+n*e,o=this.nodes||(this.nodes=[]),p=o[f]||(o[f]=new b(a,i,j,i+m,j+n));p.insert(c)}}}(nx,nx.global),function(a){a.data.NextForce=function(b,c){var d=b||800,e=c||800,f=4,g=100,h=.1;this.charge=1200,this.alpha=1,this.totalEnergy=1/0,this.maxEnergy=1/0;var i=2,j=.8;this.nodes=null,this.links=null,this.quadTree=null,this.setData=function(a){for(var b,c,d,e,f=this.nodes=a.nodes,g=this.links=a.links,h=this.nodeMap={},i=this.weightMap={},j=this.maxWeight=1,k=0,l=f.length;l>k;k++)b=f[k],d=b.id,h[d]=b,i[d]=0;if(g)for(l=g.length,k=0;l>k;++k)c=g[k],d=c.source,e=++i[d],e>j&&(this.maxWeight=e),d=c.target,e=++i[d],e>j&&(this.maxWeight=e)},this.start=function(){for(var a=i*this.nodes.length;;)if(this.tick(),this.maxEnergy<5*i&&this.totalEnergy<a)break},this.tick=function(){var b=this.nodes,c=this.quadTree=new a.data.QuadTree(b,d,e);this._calculateLinkEffect(),this._calculateCenterGravitation();var f=c.root;this._calculateQuadTreeCharge(f);var g,h,i=b.length;for(g=0;i>g;g++)h=b[g],this._calculateChargeEffect(f,h);this._changePosition()},this._changePosition=function(){var a,b,c,d,e,f,g,h=0,i=0,j=this.nodes,k=j.length,l=0,m=0,n=0,o=0,p=!0;for(a=0;k>a;a++)b=j[a],f=.5*b.dx,g=.5*b.dy,e=Math.abs(f)+Math.abs(g),b.fixed||(h+=e,e>i&&(i=e)),b.fixed?(c=b.x,d=b.y):(c=b.x+=f,d=b.y+=g,p=!1),l>c?l=c:c>n&&(n=c),m>d?m=d:d>o&&(o=d);this.totalEnergy=p?0:h,this.maxEnergy=p?0:i,this.x1=l,this.y1=m,this.x2=n,this.y2=o},this._calculateCenterGravitation=function(){var a,b,c,f=this.nodes,g=f.length,i=.5*h;b=d/2,c=e/2;for(var j=0;g>j;j++)a=f[j],a.dx+=(b-a.x)*i,a.dy+=(c-a.y)*i},this._calculateLinkEffect=function(){var a,b,c,d,e,h,i,j,k,l,m,n,o,p,q=this.links,r=this.nodeMap,s=this.weightMap;if(q)for(b=q.length,a=0;b>a;++a)if(c=q[a],d=r[c.source],e=r[c.target],h=e.x-d.x,i=e.y-d.y,0===h&&0===i&&(e.x+=5*Math.random(),e.y+=5*Math.random(),h=e.x-d.x,i=e.y-d.y),j=h*h+i*i,k=Math.sqrt(j),j){var t=this.maxWeight;l=f*(k-g)/k,h*=l,i*=l,n=s[d.id],o=s[e.id],p=n+o,m=n/p,e.dx-=h*m/t,e.dy-=i*m/t,m=1-m,d.dx+=h*m/t,d.dy+=i*m/t}},this._calculateQuadTreeCharge=function(a){if(!a.fixed){var b=a.nodes,c=a.point,d=0,e=0,f=0;if(!b)return a.charge=a.pointCharge=this.charge,a.chargeX=c.x,void(a.chargeY=c.y);if(b)for(var g,h,i=0,j=b.length;j>i;i++)g=b[i],g&&(this._calculateQuadTreeCharge(g),h=g.charge,f+=h,d+=h*g.chargeX,e+=h*g.chargeY);if(c){var k=this.charge;f+=k,d+=k*c.x,e+=k*c.y}a.charge=f,a.chargeX=d/f,a.chargeY=e/f}},this._calculateChargeEffect=function(a,b){if(this.__calculateChargeEffect(a,b)){var c=a.nodes;if(c)for(var d,e=0,f=c.length;f>e;e++)d=c[e],d&&this._calculateChargeEffect(d,b)}},this.__calculateChargeEffect=function(a,b){if(a.point!=b){var c,d=a.chargeX-b.x,e=a.chargeY-b.y,f=d*d+e*e,g=Math.sqrt(f),h=1/g;if((a.x2-a.x1)*h<j)return c=a.charge*h*h,b.dx-=d*c,b.dy-=e*c,!1;a.point&&(isFinite(h)?a.pointCharge&&(c=a.pointCharge*h*h,b.dx-=d*c,b.dy-=e*c):(b.dx-=10*Math.random(),b.dy-=10*Math.random()))}return!0}}}(nx,nx.global),function(a){a.data.Force=function(){function a(a){return function(b,c,d,e){if(b.point!==a){var f,g=b.cx-a.x,h=b.cy-a.y,i=1/Math.sqrt(g*g+h*h);if(o>(e-c)*i)return f=b.charge*i*i,a.px-=g*f,a.py-=h*f,!0;b.point&&isFinite(i)&&(f=b.pointCharge*i*i,a.px-=g*f,a.py-=h*f)}return!b.charge}}var d,e,f,g={},h=[100,100],i=0,j=.9,k=function(){return 100},l=function(){return 1},m=-1200,n=.1,o=.8,p=[],q=[];return g.tick=function(){if((i*=.99)<.005)return i=0,!0;var g,k,l,o,r,s,t,u,v,w=p.length,x=q.length;for(k=0;x>k;++k)l=q[k],o=l.source,r=l.target,u=r.x-o.x,v=r.y-o.y,(s=u*u+v*v)&&(s=i*e[k]*((s=Math.sqrt(s))-d[k])/s,u*=s,v*=s,r.x-=u*(t=o.weight/(r.weight+o.weight)),r.y-=v*t,o.x+=u*(t=1-t),o.y+=v*t);if((t=i*n)&&(u=h[0]/2,v=h[1]/2,k=-1,t))for(;++k<w;)l=p[k],l.x+=(u-l.x)*t,l.y+=(v-l.y)*t;if(m)for(b(g=c(p),i,f),k=-1;++k<w;)(l=p[k]).fixed||g.visit(a(l));for(k=-1;++k<w;)l=p[k],l.fixed?(l.x=l.px,l.y=l.py):(l.x-=(l.px-(l.px=l.x))*j,l.y-=(l.py-(l.py=l.y))*j)},g.nodes=function(a){return arguments.length?(p=a,g):p},g.links=function(a){return arguments.length?(q=a,g):q},g.distance=k,g.charge=function(a){return arguments.length?(m="function"==typeof a?a:+a,g):m},g.size=function(a){return arguments.length?(h=a,g):h},g.alpha=function(a){return arguments.length?(i?i=a>0?a:0:a>0&&(i=a,g.tick()),g):i},g.start=function(){function a(a,d){for(var e,f=b(c),g=-1,h=f.length;++g<h;)if(!isNaN(e=f[g][a]))return e;return Math.random()*d}function b(){if(!j){for(j=[],i=0;o>i;++i)j[i]=[];for(i=0;r>i;++i){var a=q[i];j[a.source.index].push(a.target),j[a.target.index].push(a.source)}}return j[c]}var c,i,j,n,o=p.length,r=q.length,s=h[0],t=h[1];for(c=0;o>c;++c)(n=p[c]).index=c,n.weight=0;for(d=[],e=[],c=0;r>c;++c)n=q[c],"number"==typeof n.source&&(n.source=p[n.source]),"number"==typeof n.target&&(n.target=p[n.target]),d[c]=k.call(this,n,c),e[c]=l.call(this,n,c),++n.source.weight,++n.target.weight;for(c=0;o>c;++c)n=p[c],isNaN(n.x)&&(n.x=a("x",s)),isNaN(n.y)&&(n.y=a("y",t)),isNaN(n.px)&&(n.px=n.x),isNaN(n.py)&&(n.py=n.y);if(f=[],"function"==typeof m)for(c=0;o>c;++c)f[c]=+m.call(this,p[c],c);else for(c=0;o>c;++c)f[c]=m;return g.resume()},g.resume=function(){return g.alpha(.1)},g.stop=function(){return g.alpha(0)},g};var b=function(a,c,d){var e=0,f=0;if(a.charge=0,!a.leaf)for(var g,h=a.nodes,i=h.length,j=-1;++j<i;)g=h[j],null!=g&&(b(g,c,d),a.charge+=g.charge,e+=g.charge*g.cx,f+=g.charge*g.cy);if(a.point){a.leaf||(a.point.x+=Math.random()-.5,a.point.y+=Math.random()-.5);var k=c*d[a.point.index];a.charge+=a.pointCharge=k,e+=k*a.point.x,f+=k*a.point.y}a.cx=e/a.charge,a.cy=f/a.charge},c=function(a,b,c,f,g){function h(a,b,c,d,e,f){if(!isNaN(b.x)&&!isNaN(b.y))if(a.leaf){var g=a.point;g?Math.abs(g.x-b.x)+Math.abs(g.y-b.y)<.01?i(a,b,c,d,e,f):(a.point=null,i(a,g,c,d,e,f),i(a,b,c,d,e,f)):a.point=b}else i(a,b,c,d,e,f)}function i(a,b,c,e,f,g){var i=.5*(c+f),j=.5*(e+g),k=b.x>=i,l=b.y>=j,m=(l<<1)+k;a.leaf=!1,a=a.nodes[m]||(a.nodes[m]=d()),k?c=i:f=i,l?e=j:g=j,h(a,b,c,e,f,g)}var j,k=-1,l=a.length;if(arguments.length<5)if(3===arguments.length)g=c,f=b,c=b=0;else for(b=c=1/0,f=g=-1/0;++k<l;)j=a[k],j.x<b&&(b=j.x),j.y<c&&(c=j.y),j.x>f&&(f=j.x),j.y>g&&(g=j.y);var m=f-b,n=g-c;m>n?g=c+m:f=b+n;var o=d();return o.add=function(a){h(o,a,b,c,f,g)},o.visit=function(a){e(a,o,b,c,f,g)},a.forEach(o.add),o},d=function(){return{leaf:!0,nodes:[],point:null}},e=function(a,b,c,d,f,g){if(!a(b,c,d,f,g)){var h=.5*(c+f),i=.5*(d+g),j=b.nodes;j[0]&&e(a,j[0],c,d,h,i),j[1]&&e(a,j[1],h,d,f,i),j[2]&&e(a,j[2],c,i,h,g),j[3]&&e(a,j[3],h,i,f,g)}}}(nx,nx.global),function(a){a.define("nx.data.Convex",{"static":!0,methods:{multiply:function(a,b,c){return(a.x-c.x)*(b.y-c.y)-(b.x-c.x)*(a.y-c.y)},dis:function(a,b){return Math.sqrt((a.x-b.x)*(a.x-b.x)+(a.y-b.y)*(a.y-b.y))},process:function(a){var b,c,d,e=[],f=a.length,g=0,h=2;for(b=1;f>b;b++)(a[b].y<a[g].y||a[b].y===a[g].y&&a[b].x<a[g].x)&&(g=b);for(d=a[0],a[0]=a[g],a[g]=d,b=1;f-1>b;b++){for(g=b,c=b+1;f>c;c++)(this.multiply(a[c],a[g],a[0])>0||0===this.multiply(a[c],a[g],a[0])&&this.dis(a[0],a[c])<this.dis(a[0],a[g]))&&(g=c);d=a[b],a[b]=a[g],a[g]=d}for(e[0]=a[0],e[1]=a[1],e[2]=a[2],b=3;f>b;b++){for(;h>0&&this.multiply(a[b],e[h],e[h-1])>=0;)h--,e.pop();e[++h]=a[b]}return e}}})}(nx,nx.global),function(a){var b=a.geometry.Vector;a.define("nx.data.Vertex",a.data.ObservableObject,{events:["updateCoordinate"],properties:{id:{},positionGetter:{value:function(){return function(){return{x:a.path(this._data,"x")||0,y:a.path(this._data,"y")||0}}}},positionSetter:{value:function(){return function(b){if(this._data){var c=a.path(this._data,"x"),d=a.path(this._data,"y");return b.x!==c||b.y!==d?(a.path(this._data,"x",b.x),a.path(this._data,"y",b.y),!0):!1}}}},position:{get:function(){return{x:this._x||0,y:this._y||0}},set:function(a){var b=!1,c={x:this._x,y:this._y};void 0!==a.x&&this._x!==a.x&&(this._x=a.x,b=!0),void 0!==a.y&&this._y!==a.y&&(this._y=a.y,b=!0),b&&(this.positionSetter().call(this,{x:this._x,y:this._y}),this.fire("updateCoordinate",{oldPosition:c,newPosition:{x:this._x,y:this._y}}),this.notify("vector"))}},x:{get:function(){return this._x||0},set:function(a){this.position({x:parseFloat(a)})}},y:{get:function(){return this._y||0},set:function(a){this.position({y:parseFloat(a)})}},vector:{get:function(){var a=this.position();return new b(a.x,a.y)}},restricted:{value:!1},visible:{get:function(){return void 0!==this._visible?this._visible:!0},set:function(b){this._visible=b;var c=this.graph();b===!1?this.generated()&&(a.each(this.edgeSetCollections(),function(a,b){c.deleteEdgeSetCollection(b)},this),c.removeVertex(this.id())):this.restricted()||this.generated()||(c.generateVertex(this),a.each(this.edgeSets(),function(a){c._generateConnection(a)}));var d=this.parentVertexSet();d&&c.updateVertexSet(d)}},generated:{value:!1},updated:{value:!1},type:{value:"vertex"},edgeSets:{value:function(){return{}}},edgeSetCollections:{value:function(){return{}}},edges:{get:function(){var b={};return a.each(this.edgeSets(),function(c){a.extend(b,c.edges())}),b}},connectedVertices:{get:function(){var a={};return this.eachConnectedVertex(function(b,c){a[c]=b},this),a}},graph:{},parentVertexSet:{},rootVertexSet:{get:function(){for(var a=this.parentVertexSet();a&&a.parentVertexSet();)a=a.parentVertexSet();return a}},generatedRootVertexSet:{get:function(){for(var a,b=this.parentVertexSet();b;)b.generated()&&b.activated()&&(a=b),b=b.parentVertexSet();return a}},selected:{value:!1}},methods:{set:function(b,c){this.has(b)?this[b].call(this,c):(a.path(this._data,b,c),this.notify(b))},get:function(b){return this.has(b)?this[b].call(this):a.path(this._data,b)},has:function(a){var b=this[a];return b&&"property"==b.__type__},getData:function(){return this._data},addEdgeSet:function(a,b){var c=this.edgeSets();c[b]=a},removeEdgeSet:function(a){var b=this.edgeSets();delete b[a]},addEdgeSetCollection:function(a,b){var c=this.edgeSetCollections();c[b]=a},removeEdgeSetCollection:function(a){var b=this.edgeSetCollections();delete b[a]},eachConnectedVertex:function(b,c){var d=this.id();a.each(this.edgeSets(),function(a){var e=a.sourceID()==d?a.target():a.source();e.visible()&&!e.restricted()&&b.call(c||this,e,e.id())},this),a.each(this.edgeSetCollections(),function(a){var e=a.sourceID()==d?a.target():a.source();e.visible()&&!e.restricted()&&b.call(c||this,e,e.id())},this)},translate:function(a,b){var c=this.position();null!=a&&(c.x+=a),null!=b&&(c.y+=b),this.position(c)}}})}(nx,nx.global),function(a){var b=a.geometry.Line;a.define("nx.data.Edge",a.data.ObservableObject,{events:["updateCoordinate"],properties:{source:{value:null},target:{value:null},sourceID:{value:null},targetID:{value:null},linkKey:{},reverseLinkKey:{},generated:{value:!1},updated:{value:!1},type:{value:"edge"},id:{},parentEdgeSet:{},line:{get:function(){return new b(this.source().vector(),this.target().vector())}},position:{get:function(){return{x1:this.source().get("x"),y1:this.source().get("y"),x2:this.target().get("x"),y2:this.target().get("y")}}},reverse:{value:!1},graph:{}},methods:{getData:function(){return this._data},attachEvent:function(){this.source().on("updateCoordinate",this._updateCoordinate,this),this.target().on("updateCoordinate",this._updateCoordinate,this)},_updateCoordinate:function(){this.fire("updateCoordinate")},dispose:function(){this.source().off("updateCoordinate",this._updateCoordinate,this),this.target().off("updateCoordinate",this._updateCoordinate,this),this.inherited()}}})}(nx,nx.global),function(a){a.util;a.define("nx.data.VertexSet",a.data.Vertex,{properties:{vertices:{value:function(){return{}}},vertexSet:{value:function(){return{}}},subVertices:{get:function(){var a={};return this.eachSubVertex(function(b,c){a[c]=b}),a}},subVertexSet:{get:function(){var a={};return this.eachSubVertexSet(function(b,c){a[c]=b}),a}},visible:{value:!0},inheritedVisible:{get:function(){var b=!0;return a.each(this.vertices(),function(a){a.visible()&&(b=!1)}),a.each(this.vertexSet(),function(a){a.visible()&&(b=!1)},this),!b}},type:{value:"vertexSet"},activated:{get:function(){return void 0!==this._activated?this._activated:!0},set:function(a){return this._activated!==a?(a?this._collapse():this._expand(),!0):!1}}},methods:{initNodes:function(){var b=this.graph(),c=this.get("nodes");a.each(c,function(a){var c=b.vertices().getItem(a)||b.vertexSets().getItem(a);if(c&&!c.restricted()){var d="vertex"==c.type()?this.vertices():this.vertexSet();d[a]=c,c.restricted(!0),c.parentVertexSet(this)}else console&&console.log("NodeSet data error",this.id(),a)},this)},addVertex:function(a){var b=this.get("nodes");if(a){var c=a.id(),d="vertex"==a.type()?this.vertices():this.vertexSet();d[c]=a,a.restricted(!0);var e=a.parentVertexSet();e&&(e.removeVertex(c),e.updated(!0)),a.parentVertexSet(this),b.push(a.id()),this.updated(!0)}},removeVertex:function(a){var b=this.get("nodes"),c=this.vertices()[a]||this.vertexSet()[a];c&&(c.parentVertexSet(null),delete this.vertices()[a],delete this.vertexSet()[a],b.splice(b.indexOf(a),1),this.updated(!0))},eachSubVertex:function(b,c){a.each(this.vertices(),b,c||this),a.each(this.vertexSet(),function(a){a.eachSubVertex(b,c)},this)},eachSubVertexSet:function(b,c){a.each(this.vertexSet(),b,c||this),a.each(this.vertexSet(),function(a){a.eachSubVertexSet(b,c)},this)},getSubEdgeSets:function(){var b={};return this.eachSubVertex(function(c){a.each(c.edgeSets(),function(a,c){b[c]=a})},this),b},_expand:function(){var b=this.graph(),c=this.parentVertexSet();c&&c.activated(!1),this._activated=!1,a.each(this.edgeSetCollections(),function(a,c){b.deleteEdgeSetCollection(c)},this),a.each(this.vertices(),function(a){a.restricted(!1),a.visible()&&b.generateVertex(a)},this),a.each(this.vertexSet(),function(a){a.restricted(!1),a.visible()&&b.generateVertexSet(a)},this),this.visible(!1),this._generateConnection()},_collapse:function(){var b=this.graph();this._activated=!0,this.eachSubVertex(function(c){c.restricted(!0),c.generated()&&a.each(c.edgeSetCollections(),function(a,c){b.deleteEdgeSetCollection(c)})},this),a.each(this.vertexSet(),function(a,c){a.restricted(!0),a.generated()&&b.removeVertexSet(c,!1)},this),a.each(this.vertices(),function(a,c){a.restricted(!0),a.generated()&&b.removeVertex(c)},this),this.visible(!0),this._generateConnection()},_generateConnection:function(){var b=this.graph();a.each(this.getSubEdgeSets(),function(a){b._generateConnection(a)},this)}}})}(nx,nx.global),function(a){a.define("nx.data.EdgeSet",a.data.Edge,{properties:{edges:{value:function(){return{}}},type:{value:"edgeSet"},activated:{get:function(){return void 0!==this._activated?this._activated:!0},set:function(b){var c=this.graph();a.each(this.edges(),function(a,d){b?c.removeEdge(d,!1):c.generateEdge(a)},this),this._activated=b}}},methods:{addEdge:function(a){var b=this.edges();b[a.id()]=a},removeEdge:function(a){var b=this.edges();delete b[a]}}})}(nx,nx.global),function(a){a.define("nx.data.EdgeSetCollection",a.data.Edge,{properties:{edgeSets:{value:function(){return{}}},edges:{get:function(){var b={};return a.each(this.edgeSets(),function(c){a.extend(b,c.edges())}),b}},type:{value:"edgeSetCollection"},activated:{get:function(){return void 0!==this._activated?this._activated:!0},set:function(){}}},methods:{addEdgeSet:function(a){var b=this.edgeSets();b[a.linkKey()]=a},removeEdgeSet:function(a){var b=this.edgeSets();delete b[a]}}})}(nx,nx.global),function(a){a.util;a.define("nx.data.ObservableGraph.Vertices",a.data.ObservableObject,{events:["addVertex","removeVertex","deleteVertex","updateVertex","updateVertexCoordinate"],properties:{nodes:{get:function(){return this._nodes||[]},set:function(b){this._nodes&&a.is(this._nodes,a.data.ObservableCollection)&&this._nodes.off("change",this._nodesCollectionProcessor,this),this.vertices().clear(),a.is(b,a.data.ObservableCollection)?(b.on("change",this._nodesCollectionProcessor,this),b.each(function(a){this._addVertex(a)},this),this._nodes=b):b&&(a.each(b,this._addVertex,this),this._nodes=b.slice())}},vertexFilter:{},vertices:{value:function(){var b=new a.data.ObservableDictionary;return b.on("change",function(b,c){var d=c.action,e=c.items;"clear"==d&&a.each(e,function(a){this.deleteVertex(a.key())},this)},this),b}},visibleVertices:{get:function(){var a={};return this.eachVertex(function(b,c){b.visible()&&(a[c]=b)}),a}},vertexPositionGetter:{},vertexPositionSetter:{}},methods:{addVertex:function(b,c){{var d,e=this.nodes(),f=this.vertices();this.identityKey()}return a.is(e,a.data.ObservableCollection)?(e.add(b),d=f.getItem(f.count()-1)):(d=this._addVertex(b,c),d&&e.push(b)),d?(c&&d.sets(c),this.generateVertex(d),d):null},_addVertex:function(b){var c=this.vertices(),d=this.identityKey();("string"==typeof b||"number"==typeof b)&&(b={data:b});var e=a.path(b,d);if(e=void 0!==e?e:this.vertexSets().count()+this.vertices().count(),c.getItem(e))return null;var f=new a.data.Vertex(b),g=this.vertexPositionGetter(),h=this.vertexPositionSetter();if(g&&h&&(f.positionGetter(g),f.positionSetter(h)),f.sets({graph:this,id:e}),a.is(b,a.data.ObservableObject)){var i=b.set;b.set=function(a,c){i.call(b,a,c),-1==f.__properties__.indexOf(a)&&(f.has(a)?f[a].call(f,c):f.notify(a))}}f.position(f.positionGetter().call(f)),c.setItem(e,f);var j=this.vertexFilter();if(j&&a.is(j,Function)){var k=j.call(this,b,f);f.visible(k===!1)}return f},generateVertex:function(a){!a.visible()||a.generated()||a.restricted()||(a.on("updateCoordinate",this._updateVertexCoordinateFN=function(){this.fire("updateVertexCoordinate",a)},this),this.fire("addVertex",a),a.generated(!0))},removeVertex:function(b){var c=this.vertices().getItem(b);return c?(a.each(c.edgeSets(),function(a,b){this.removeEdgeSet(b)},this),a.each(c.edgeSetCollections(),function(a,b){this.deleteEdgeSetCollection(b)},this),c.off("updateCoordinate",this._updateVertexCoordinateFN,this),c.generated(!1),this.fire("removeVertex",c),c):!1},deleteVertex:function(b){var c=this.nodes();if(a.is(c,a.data.ObservableCollection)){var d=this.getVertex(b).getData();c.remove(d)}else{var e=this.nodes().indexOf(this.getVertex(b).getData());-1!=e&&this.nodes().splice(e,1),this._deleteVertex(b)}},_deleteVertex:function(b){var c=this.vertices().getItem(b);if(!c)return!1;a.each(c.edgeSets(),function(a){this.deleteEdgeSet(a.linkKey())},this),a.each(c.edgeSetCollections(),function(a){this.deleteEdgeSetCollection(a.linkKey())},this);var d=c.parentVertexSet();d&&d.removeVertex(b),c.off("updateCoordinate",this._updateVertexCoordinateFN,this),c.generated(!1),this.fire("deleteVertex",c),this.vertices().removeItem(b),c.dispose()},eachVertex:function(a,b){this.vertices().each(function(c,d){a.call(b||this,c.value(),d)})},getVertex:function(a){return this.vertices().getItem(a)},_nodesCollectionProcessor:function(b,c){var d=c.items,e=c.action,f=this.identityKey();"add"==e?a.each(d,function(a){var b=this._addVertex(a);this.generateVertex(b)},this):"remove"==e?a.each(d,function(b){var c=a.path(b,f);this._deleteVertex(c)},this):"clear"==e&&this.vertices().clear()}}})}(nx,nx.global),function(a){a.define("nx.data.ObservableGraph.VertexSets",a.data.ObservableObject,{events:["addVertexSet","removeVertexSet","updateVertexSet","updateVertexSetCoordinate"],properties:{nodeSet:{get:function(){return this._nodeSet||[]},set:function(b){this._nodeSet&&a.is(this._nodeSet,a.data.ObservableCollection)&&this._nodeSet.off("change",this._nodeSetCollectionProcessor,this),this.vertexSets().clear(),a.is(b,a.data.ObservableCollection)?(b.on("change",this._nodeSetCollectionProcessor,this),b.each(function(a){this._addVertexSet(a)},this),this._nodeSet=b):b&&(a.each(b,this._addVertexSet,this),this._nodeSet=b.slice()),this.eachVertexSet(this.initVertexSet,this)}},vertexSets:{value:function(){var b=new a.data.ObservableDictionary;return b.on("change",function(b,c){var d=c.action,e=c.items;"clear"==d&&a.each(e,function(a){this.removeVertexSet(a.key())},this)},this),b}},visibleVertexSets:{get:function(){var a={};return this.eachVertexSet(function(b,c){b.visible()&&(a[c]=b)}),a}}},methods:{addVertexSet:function(b,c){var d,e=this.nodeSet(),f=this.vertexSets();if(a.is(e,a.data.ObservableCollection)?(e.add(b),d=f.getItem(f.count()-1)):(e.push(b),d=this._addVertexSet(b)),!d)return null;if(c&&d.sets(c),null!=c.parentVertexSetID){var g=this.getVertexSet(c.parentVertexSetID);g&&g.addVertex(d)}return this.initVertexSet(d),this.generateVertexSet(d),d.activated(!0,{force:!0}),this.updateVertexSet(d),d},_addVertexSet:function(b){var c=this.identityKey(),d=this.vertexSets();("string"==typeof b||"number"==typeof b)&&(b={data:b});var e=a.path(b,c);if(e=void 0!==e?e:this.vertexSets().count()+this.vertices().count(),d.getItem(e))return null;var f=new a.data.VertexSet(b),g=this.vertexPositionGetter(),h=this.vertexPositionSetter();if(g&&h&&(f.positionGetter(g),f.positionSetter(h)),f.sets({graph:this,type:"vertexSet",id:e}),a.is(b,a.data.ObservableObject)){var i=b.set;b.set=function(a,c){i.call(b,a,c),-1==f.__properties__.indexOf(a)&&(f.has(a)?f[a].call(f,c):f.notify(a))}}return f.position(f.positionGetter().call(f)),this.vertexSets().setItem(e,f),f},initVertexSet:function(a){a.initNodes()},generateVertexSet:function(a){a.visible()&&!a.generated()&&(a.generated(!0),a.on("updateCoordinate",this._updateVertexSetCoordinateFN,this),this.fire("addVertexSet",a))},_updateVertexSetCoordinateFN:function(b,c){this.fire("updateVertexSetCoordinate",b);var d=c.newPosition.x-c.oldPosition.x,e=c.newPosition.y-c.oldPosition.y;a.each(b.vertices(),function(a){a.translate(d,e)}),a.each(b.vertexSet(),function(a){a.translate(d,e)})},updateVertexSet:function(a){a.generated()&&(a.updated(!1),this.fire("updateVertexSet",a))},removeVertexSet:function(b){var c=this.vertexSets().getItem(b);return c?(c.activated(!0),a.each(c.edgeSets(),function(a,b){this.removeEdgeSet(b)},this),a.each(c.edgeSetCollections(),function(a,b){this.deleteEdgeSetCollection(b)},this),c.generated(!1),c.off("updateCoordinate",this._updateVertexSetCoordinateFN,this),void this.fire("removeVertexSet",c)):!1},deleteVertexSet:function(b){var c=this.nodeSet();if(a.is(c,a.data.ObservableCollection)){var d=this.getVertexSet(b).getData();c.remove(d)}else{var e=this.nodeSet().indexOf(this.getVertexSet(b).getData());-1!=e&&this.nodeSet().splice(e,1),this._deleteVertexSet(b)}},_deleteVertexSet:function(b){var c=this.vertexSets().getItem(b);if(!c)return!1;c.generated()&&c.activated(!1);var d=c.parentVertexSet();d&&d.removeVertex(b),a.each(c.vertices(),function(a){d?d.addVertex(a):a.parentVertexSet(null)}),a.each(c.vertexSet(),function(a){d?d.addVertex(a):a.parentVertexSet(null)}),c.off("updateCoordinate",this._updateVertexCoordinateFN,this),c.generated(!1),this.vertexSets().removeItem(b),this.fire("deleteVertexSet",c),c.dispose()},eachVertexSet:function(a,b){this.vertexSets().each(function(c,d){a.call(b||this,c.value(),d)})},getVertexSet:function(a){return this.vertexSets().getItem(a)},_nodeSetCollectionProcessor:function(b,c){var d=c.items,e=c.action,f=this.identityKey();"add"==e?a.each(d,function(a){var b=this._addVertexSet(a);this.generateVertexSet(b)},this):"remove"==e?a.each(d,function(b){var c=a.path(b,f);this._deleteVertexSet(c)},this):"clear"==e&&this.vertexSets().clear()}}})}(nx,nx.global),function(a){a.define("nx.data.ObservableGraph.Edges",a.data.ObservableObject,{events:["addEdge","removeEdge","deleteEdge","updateEdge","updateEdgeCoordinate"],properties:{links:{get:function(){return this._links||[]},set:function(b){this._links&&a.is(this._links,a.data.ObservableCollection)&&this._links.off("change",this._linksCollectionProcessor,this),this.edgeSetCollections().clear(),this.edgeSets().clear(),this.edges().clear(),a.is(b,a.data.ObservableCollection)?(b.on("change",this._linksCollectionProcessor,this),b.each(function(a){this._addEdge(a)},this),this._links=b):b&&(a.each(b,this._addEdge,this),this._links=b.slice())}},edgeFilter:{},edges:{value:function(){var b=new a.data.ObservableDictionary;return b.on("change",function(b,c){var d=c.action,e=c.items;"clear"==d&&a.each(e,function(a){this.deleteEdge(a.key())},this)},this),b}}},methods:{addEdge:function(b,c){var d,e=this.links(),f=this.edges();if(null==b.source||null==b.target)return void 0;if(a.is(e,a.data.ObservableCollection)?(e.add(b),d=f.getItem(f.count()-1)):(d=this._addEdge(b),d&&e.push(b)),!d)return null;
c&&d.sets(c);var g=d.parentEdgeSet();return g.generated()?this.updateEdgeSet(g):this.generateEdgeSet(g),d},_addEdge:function(b){{var c,d,e,f,g=this.edges();this.identityKey()}if(null==b.source||null==b.target)return void 0;if(e=null!=a.path(b,"source")?a.path(b,"source"):b.source,c=this.vertices().getItem(e),f=null!=a.path(b,"target")?a.path(b,"target"):b.source,d=this.vertices().getItem(f),c&&d){var h=new a.data.Edge(b),i=null!=a.path(b,"id")?a.path(b,"id"):h.__id__;if(g.getItem(i))return null;h.sets({id:i,source:c,target:d,sourceID:e,targetID:f,graph:this}),h.attachEvent(),g.setItem(i,h);var j=this.getEdgeSetBySourceAndTarget(e,f);j?j.updated(!0):j=this._addEdgeSet({source:c,target:d,sourceID:e,targetID:f}),h.sets({linkKey:j.linkKey(),reverseLinkKey:j.reverseLinkKey()}),j.addEdge(h),h.parentEdgeSet(j),h.reverse(e!==j.sourceID());var k=this.edgeFilter();if(k&&a.is(k,Function)){var l=k.call(this,b,h);h.visible(l===!1)}return h}return void(console&&console.log("source node or target node is not defined, or linkMappingKey value error",b,c,d))},generateEdge:function(a){!a.generated()&&a.source().generated()&&a.target().generated()&&(a.on("updateCoordinate",this._updateEdgeCoordinate,this),this.fire("addEdge",a),a.generated(!0))},removeEdge:function(a,b){var c=this.edges().getItem(a);if(!c)return!1;if(c.generated(!1),c.off("updateCoordinate",this._updateEdgeCoordinate,this),this.fire("removeEdge",c),b!==!1){var d=c.parentEdgeSet();this.updateEdgeSet(d)}},deleteEdge:function(b,c){var d=this.getEdge(b);if(!d)return!1;var e=this.links();if(a.is(e,a.data.ObservableCollection))e.removeAt(d.getData());else{var f=e.indexOf(d.getData());-1!=f&&e.splice(f,1),this._deleteEdge(b,c)}},_deleteEdge:function(a,b){var c=this.getEdge(a);if(!c)return!1;if(c.off("updateCoordinate",this._updateEdgeCoordinate,this),b!==!1){var d=c.parentEdgeSet();d.removeEdge(a),this.updateEdgeSet(d)}this.fire("deleteEdge",c),this.edges().removeItem(a),c.dispose()},_updateEdgeCoordinate:function(a){this.fire("updateEdgeCoordinate",a)},getEdge:function(a){return this.edges().getItem(a)},getEdgesBySourceAndTarget:function(a,b){var c=this.getEdgeSetBySourceAndTarget(a,b);return c&&c.getEdges()},getEdgesByVertices:function(){},getInternalEdgesByVertices:function(){},getExternalEdgesByVertices:function(){},_linksCollectionProcessor:function(b,c){var d=c.items,e=c.action;if("add"==e)a.each(d,function(a){var b=this._addEdge(a),c=b.parentEdgeSet();c.generated()?this.updateEdgeSet(c):this.generateEdgeSet(c)},this);else if("remove"==e){var f=[];this.edges().each(function(a){var b=a.value();-1!=d.indexOf(b.getData())&&f.push(b.id())},this),a.each(f,function(a){this._deleteEdge(a)},this)}else"clear"==e&&this.edges().clear()}}})}(nx,nx.global),function(a){a.define("nx.data.ObservableGraph.EdgeSets",a.data.ObservableObject,{events:["addEdgeSet","updateEdgeSet","removeEdgeSet","deleteEdgeSet","updateEdgeSetCoordinate"],properties:{edgeSets:{value:function(){var b=new a.data.ObservableDictionary;return b.on("change",function(b,c){var d=c.action,e=c.items;"clear"==d&&a.each(e,function(a){this.deleteEdgeSet(a.key())},this)},this),b}}},methods:{_addEdgeSet:function(b){var c=new a.data.EdgeSet,d=c.__id__,e=b.sourceID+"_"+b.targetID,f=b.targetID+"_"+b.sourceID;return c.sets(b),c.sets({graph:this,linkKey:e,reverseLinkKey:f,id:d}),c.source().addEdgeSet(c,e),c.target().addEdgeSet(c,e),c.attachEvent(),this.edgeSets().setItem(e,c),c},generateEdgeSet:function(a){!a.generated()&&a.source().generated()&&a.target().generated()&&(a.generated(!0),a.on("updateCoordinate",this._updateEdgeSetCoordinate,this),this.fire("addEdgeSet",a))},updateEdgeSet:function(a){a.generated()&&a.source().generated()&&a.target().generated()&&(a.updated(!1),this.fire("updateEdgeSet",a))},removeEdgeSet:function(b){var c=this.edgeSets().getItem(b);return c?(c.off("updateCoordinate",this._updateEdgeSetCoordinate,this),a.each(c.edges(),function(a,b){this.removeEdge(b,!1)},this),c.generated(!1),c._activated=!0,void this.fire("removeEdgeSet",c)):!1},deleteEdgeSet:function(b){var c=this.edgeSets().getItem(b);return c?(c.off("updateCoordinate",this._updateEdgeSetCoordinate,this),a.each(c.edges(),function(a,b){this.deleteEdge(b,!1)},this),c.source().removeEdgeSet(b),c.target().removeEdgeSet(b),this.fire("deleteEdgeSet",c),this.edgeSets().removeItem(b),void c.dispose()):!1},_updateEdgeSetCoordinate:function(a){this.fire("updateEdgeSetCoordinate",a)},getEdgeSetBySourceAndTarget:function(b,c){var d=this.edgeSets(),e=a.is(b,a.data.Vertex)?b.id():b,f=a.is(c,a.data.Vertex)?c.id():c,g=e+"_"+f,h=f+"_"+e;return d.getItem(g)||d.getItem(h)},eachEdgeSet:function(a,b){this.edgeSets().each(function(c,d){a.call(b||this,c.value(),d)})}}})}(nx,nx.global),function(a){a.define("nx.data.ObservableGraph.EdgeSetCollections",a.data.ObservableObject,{events:["addEdgeSetCollection","removeEdgeSetCollection","deleteEdgeSetCollection","updateEdgeSetCollection","updateEdgeSetCollectionCoordinate"],properties:{edgeSetCollections:{value:function(){var b=new a.data.ObservableDictionary;return b.on("change",function(b,c){var d=c.action,e=c.items;"clear"==d&&a.each(e,function(a){this.deleteEdgeSetCollection(a.value().linkKey())},this)},this),b}}},methods:{_addEdgeSetCollection:function(b){var c=new a.data.EdgeSetCollection,d=c.__id__,e=b.sourceID+"_"+b.targetID,f=b.targetID+"_"+b.sourceID;return c.sets(b),c.sets({graph:this,linkKey:e,reverseLinkKey:f,id:d}),c.source().addEdgeSetCollection(c,e),c.target().addEdgeSetCollection(c,e),c.attachEvent(),this.edgeSetCollections().setItem(e,c),c},generateEdgeSetCollection:function(a){a.generated(!0),a.on("updateCoordinate",this._updateEdgeSetCollectionCoordinate,this),this.fire("addEdgeSetCollection",a)},updateEdgeSetCollection:function(a){a.updated(!0),this.fire("updateEdgeSetCollection",a)},removeEdgeSetCollection:function(a){var b=this.edgeSetCollections().getItem(a);return b?(b.generated(!1),b.off("updateCoordinate",this._updateEdgeSetCollectionCoordinate,this),void this.fire("removeEdgeSetCollection",b)):!1},deleteEdgeSetCollection:function(a){var b=this.edgeSetCollections().getItem(a);return b?(b.off("updateCoordinate",this._updateEdgeSetCollectionCoordinate,this),b.source().removeEdgeSetCollection(a),b.target().removeEdgeSetCollection(a),this.fire("deleteEdgeSetCollection",b),this.edgeSetCollections().removeItem(a),void b.dispose()):!1},getEdgeSetCollectionBySourceAndTarget:function(b,c){var d=this.edgeSetCollections(),e=a.is(b,a.data.Vertex)?b.id():b,f=a.is(c,a.data.Vertex)?c.id():c,g=e+"_"+f,h=f+"_"+e;return d.getItem(g)||d.getItem(h)},_updateEdgeSetCollectionCoordinate:function(a){this.fire("updateEdgeSetCollectionCoordinate",a)},eachEdgeCollections:function(a,b){this.edgeSetCollections().each(function(c,d){a.call(b||this,c.value(),d)})},_generateConnection:function(a){if(a.source().visible()&&a.target().visible()){var b=this._getGeneratedRootVertexSetOfEdgeSet(a);if(b.source&&b.target&&b.source!=b.target&&b.source.visible()&&b.target.visible())if(b.source.id()==a.sourceID()&&b.target.id()==a.targetID())this.generateEdgeSet(a);else{var c=this.getEdgeSetCollectionBySourceAndTarget(b.source.id(),b.target.id());c||(c=this._addEdgeSetCollection({source:b.source,target:b.target,sourceID:b.source.id(),targetID:b.target.id()}),this.generateEdgeSetCollection(c)),c.addEdgeSet(a),this.updateEdgeSetCollection(c)}}},_getGeneratedRootVertexSetOfEdgeSet:function(a){var b=a.source();b.generated()||(b=b.generatedRootVertexSet());var c=a.target();return c.generated()||(c=c.generatedRootVertexSet()),{source:b,target:c}}}})}(nx,nx.global),function(a){a.define("nx.data.ObservableGraph.NeXtForceProcessor",{methods:{process:function(b,c){var d=(new Date,{nodes:b.nodes,links:[]}),e={};a.each(b.nodes,function(a,b){e[a[c]]=b}),d.links=[],a.each(b.links,function(b){a.is(b.source,"Object")||void 0===e[b.source]||a.is(b.target,"Object")||void 0===e[b.target]||d.links.push({source:e[b.source],target:e[b.target]})});var f=new a.data.NextForce;if(f.setData(b),console.log(d.nodes.length),d.nodes.length<50){for(;;)if(f.tick(),f.maxEnergy<.1*d.nodes.length)break}else for(var g=0;++g<900;)f.tick();return console.log(f.maxEnergy),b}}})}(nx,nx.global,nx.logger),function(a){a.define("nx.data.ObservableGraph.ForceProcessor",{methods:{process:function(b,c){{var d;new Date}d={nodes:b.nodes,links:[]};var e={};a.each(b.nodes,function(a,b){e[a[c]]=b}),a.each(b.links,function(b){a.is(b.source,"Object")||void 0===e[b.source]||a.is(b.target,"Object")||void 0===e[b.target]||d.links.push("ixd"==c?{source:b.source,target:b.target}:{source:e[b.source],target:e[b.target]})});var f=new a.data.Force;for(f.nodes(d.nodes),f.links(d.links),f.start();f.alpha();)f.tick();return f.stop(),b}}})}(nx,nx.global,nx.logger),function(a){a.define("nx.data.ObservableGraph.QuickProcessor",{methods:{process:function(b,c,d){return a.each(b.nodes,function(a){a.x=Math.floor(Math.random()*d.width()),a.y=Math.floor(Math.random()*d.height())}),b}}})}(nx,nx.global),function(a){a.define("nx.data.ObservableGraph.CircleProcessor",{methods:{process:function(){}}})}(nx,nx.global),function(a){var b=a.define("nx.data.ObservableGraph.DataProcessor",{statics:{dataProcessor:{nextforce:new a.data.ObservableGraph.NeXtForceProcessor,force:new a.data.ObservableGraph.ForceProcessor,quick:new a.data.ObservableGraph.QuickProcessor,circle:new a.data.ObservableGraph.CircleProcessor},registerDataProcessor:function(a,b){GRAPH.dataProcessor[a]=b}},properties:{dataProcessor:{},width:{value:100},height:{value:100}},methods:{processData:function(a){var c=this._identityKey,d=this._dataProcessor;if(d){var e=b.dataProcessor[d];return e?e.process(a,c,this):a}return a}}})}(nx,nx.global),function(a){a.define("nx.data.ObservableGraph",a.data.ObservableObject,{mixins:[a.data.ObservableGraph.DataProcessor,a.data.ObservableGraph.Vertices,a.data.ObservableGraph.VertexSets,a.data.ObservableGraph.Edges,a.data.ObservableGraph.EdgeSets,a.data.ObservableGraph.EdgeSetCollections],event:["setData","insertData","clear","startGenerate","endGenerate"],properties:{identityKey:{value:"index"},filter:{},groupBy:{}},methods:{init:function(a){this.inherited(a),this.nodeSet([]),this.nodes([]),this.links([])},setData:function(a){this.processData(this.getJSON(a));this.clear(),this._generate(a),this.fire("setData",a)},subordinates:function(b,c){"function"==typeof b&&(c=b,b=null);var d;return b?d=a.util.values(b.vertices()).concat(a.util.values(b.vertexSet())):(d=[],a.each(this.vertices(),function(a){var b=a.value();b.parentVertexSet()||d.push(b)}.bind(this)),a.each(this.vertexSets(),function(a){var b=a.value();b.parentVertexSet()||d.push(b)}.bind(this))),c&&a.each(d,c),d},insertData:function(b){var c=b;a.each(b.nodes,function(a){this.addVertex(a)},this),a.each(b.links,function(a){this.addEdge(a)},this),a.each(b.nodeSet,function(a){this.addVertexSet(a)},this),this.fire("insertData",c)},_generate:function(a){this.nodes(a.nodes),this.links(a.links),this.nodeSet(a.nodeSet);var b=this.filter();b&&b.call(this,this),this.fire("startGenerate"),this.eachVertex(this.generateVertex,this),this.eachEdgeSet(this.generateEdgeSet,this),this.eachVertexSet(this.generateVertexSet,this),this.eachVertexSet(function(a){a.activated(!0,{force:!0}),this.updateVertexSet(a)},this),this.fire("endGenerate")},getData:function(){return{nodes:this.nodes(),links:this.links(),nodeSet:this.nodeSet()}},getJSON:function(b){var c=b||this.getData(),d={nodes:[],links:[]};return a.is(c.nodes,a.data.ObservableCollection)?a.each(c.nodes,function(b){d.nodes.push(a.is(b,a.data.ObservableObject)?b.gets():b)}):d.nodes=b.nodes,a.is(c.links,a.data.ObservableCollection)?a.each(c.links,function(b){d.links.push(a.is(b,a.data.ObservableObject)?b.gets():b)}):d.links=b.links,c.nodeSet&&(a.is(c.nodeSet,a.data.ObservableCollection)?(d.nodeSet=[],a.each(c.nodeSet,function(b){d.nodeSet.push(a.is(b,a.data.ObservableObject)?b.gets():b)})):d.nodeSet=c.nodeSet),d},getBound:function(b){var c,d,e,f,g,h,i=b||a.util.values(this.visibleVertices()).concat(a.util.values(this.visibleVertexSets())),j=i[0];return j?(g=j.get?j.get("x"):j.x,h=j.get?j.get("y"):j.y,c=d=g||0,e=f=h||0):(c=d=0,e=f=0),a.each(i,function(a){g=a.get?a.get("x"):a.x,h=a.get?a.get("y"):a.y,c=Math.min(c,g||0),d=Math.max(d,g||0),e=Math.min(e,h||0),f=Math.max(f,h||0)}),{x:c,y:e,left:c,top:e,width:d-c,height:f-e,maxX:d,maxY:f}},clear:function(){this.nodeSet([]),this.links([]),this.nodes([]),this.fire("clear")},dispose:function(){this.clear(),this.inherited()}}})}(nx,nx.global),function(a){a.define("nx.data.UniqObservableCollection",a.data.ObservableCollection,{methods:{add:function(a){return null==a||this.contains(a)?!1:this.inherited(a)},addRange:function(b){if(a.is(b,Array)){for(var c=a.util.uniq(b.slice()),d=0;d<c.length;){var e=c[d];(null==e||this.contains(e))&&c.splice(d,1),d++}return this.inherited(c)}return this.inherited(b)},insert:function(a,b){return null==a||this.contains(a)?!1:this.inherited(a,b)},insertRange:function(b){if(a.is(b,Array)){for(var c=b.slice(),d=0;d<c.length;){var e=c[d];(null==e||this.contains(e))&&c.splice(d,1),d++}return this.inherited(c)}return this.inherited(b)}}})}(nx,nx.global),function(a){a.define("nx.graphic.Topology.Config",{events:[],properties:{status:{value:"initializing",binding:{direction:"<>"}},theme:{get:function(){return this._theme||"blue"},set:function(a){this._theme=a,this.notify("themeClass")}},themeClass:{get:function(){return"n-topology-"+this.theme()}},showNavigation:{value:!0},showThumbnail:{value:!1},viewSettingPanel:{get:function(){return this.view("nav").view("customize")}},viewSettingPopover:{get:function(){return this.view("nav").view("settingPopover")}}},methods:{}})}(nx,nx.global),function(a){a.define("nx.graphic.Topology.Graph",{events:["beforeSetData","afterSetData","insertData","topologyGenerated"],properties:{identityKey:{get:function(){return this._identiyKey||"index"},set:function(a){this._identiyKey=a,this.graph().set("identityKey",a)}},data:{get:function(){return this.graph().getData()},set:function(b){if(null!=b&&a.is(b,Object)&&null!=b.nodes){var c=function(a){this.fire("beforeSetData",a),this.clear(),this.graph().sets({width:this.width(),height:this.height()}),this.graph().setData(a),this.fire("afterSetData",a)};"appended"===this.status()||"generated"==this.status()?c.call(this,b):this.on("ready",function(){c.call(this,b)},this)}}},autoLayout:{get:function(){return this._autoLayout||!1},set:function(a){this._autoLayout=a,this.graph().dataProcessor(a?"force":"")}},vertexPositionGetter:{get:function(){return this._vertexPositionGetter},set:function(a){this._vertexPositionGetter=a,this.graph().set("vertexPositionGetter",a)}},vertexPositionSetter:{get:function(){return this._vertexPositionSetter},set:function(a){this._vertexPositionSetter=a,this.graph().set("vertexPositionSetter",a)}},dataProcessor:{get:function(){return this._dataProcessor},set:function(a){this._dataProcessor=a,this.graph().set("dataProcessor",a)}},graph:{value:function(){return new a.data.ObservableGraph}}},methods:{initGraph:function(){var a=this.graph();a.sets({vertexPositionGetter:this.vertexPositionGetter(),vertexPositionSetter:this.vertexPositionSetter(),identityKey:this.identityKey(),dataProcessor:this.dataProcessor()}),this.autoLayout()&&a.dataProcessor("force");var b=this.getLayer("nodes"),c=this.getLayer("links"),d=this.getLayer("nodeSet"),e=this.getLayer("linkSet");a.on("addVertex",function(a,c){b.addNode(c)},this),a.on("removeVertex",function(a,c){b.removeNode(c.id())},this),a.on("deleteVertex",function(a,c){b.removeNode(c.id())},this),a.on("updateVertex",function(a,c){b.updateNode(c.id())},this),a.on("updateVertexCoordinate",function(){},this),a.on("addEdge",function(a,b){c.addLink(b)},this),a.on("removeEdge",function(a,b){c.removeLink(b.id())},this),a.on("deleteEdge",function(a,b){c.removeLink(b.id())},this),a.on("updateEdge",function(a,b){c.updateLink(b.id())},this),a.on("updateEdgeCoordinate",function(a,b){c.updateLink(b.id())},this),a.on("addEdgeSet",function(a,b){this.supportMultipleLink()?e.addLinkSet(b):b.activated(!1)},this),a.on("removeEdgeSet",function(a,b){e.removeLinkSet(b.linkKey())},this),a.on("deleteEdgeSet",function(a,b){e.removeLinkSet(b.linkKey())},this),a.on("updateEdgeSet",function(a,b){e.updateLinkSet(b.linkKey())},this),a.on("updateEdgeSetCoordinate",function(a,b){this.supportMultipleLink()&&e.updateLinkSet(b.linkKey())},this),a.on("addVertexSet",function(a,b){d.addNodeSet(b)},this),a.on("removeVertexSet",function(a,b){d.removeNodeSet(b.id())},this),a.on("deleteVertexSet",function(a,b){d.removeNodeSet(b.id())},this),a.on("updateVertexSet",function(a,b){d.updateNodeSet(b.id())},this),a.on("updateVertexSetCoordinate",function(){},this),a.on("addEdgeSetCollection",function(a,b){e.addLinkSet(b)},this),a.on("removeEdgeSetCollection",function(a,b){e.removeLinkSet(b.linkKey())},this),a.on("deleteEdgeSetCollection",function(a,b){e.removeLinkSet(b.linkKey())},this),a.on("updateEdgeSetCollection",function(a,b){e.updateLinkSet(b.linkKey())},this),a.on("updateEdgeSetCollectionCoordinate",function(a,b){e.updateLinkSet(b.linkKey())},this),a.on("setData",function(){},this),a.on("insertData",function(){},this),a.on("clear",function(){},this),a.on("startGenerate",function(){this.showLoading(),this.stage().hide()},this),a.on("endGenerate",function(){this._endGenerate()},this)},setData:function(b,c,d){c&&this.on("topologyGenerated",function e(){c.call(d||this,this),this.off("topologyGenerated",e,this)},this),null!=b&&a.is(b,Object)&&null!=b.nodes&&this.data(b)},insertData:function(b){null!=b&&a.is(b,Object)&&(this.graph().insertData(b),this.fire("insertData",b))},getData:function(){return this.data()},_saveData:function(){var a=this.graph().getData();"[object Storage]"===Object.prototype.toString.call(window.localStorage)&&localStorage.setItem("topologyData",JSON.stringify(a))},_loadLastData:function(){if("[object Storage]"===Object.prototype.toString.call(window.localStorage)){var a=JSON.parse(localStorage.getItem("topologyData"));this.setData(a)}},start:function(){},_endGenerate:function(){this.stage().resetFitMatrix();var a=this.layoutType();a?this.activateLayout(a,null,function(){this.__fit(),this.status("generated"),this.fire("topologyGenerated")}):(this.__fit(),this.status("generated"),this.fire("topologyGenerated"))},__fit:function(){this.stage().show(),this.autoFit()&&(this.stage().fit(null,null,!1),this.stage().resetFitMatrix(),this.stage().fit(null,null,!1),this.stage().resetFitMatrix(),this.stage().fit(null,null,!1)),this.hideLoading()}}})}(nx,nx.global),function(a){function b(a){return a.wheelDelta?a.wheelDelta:a.detail?a.detail/-40:void 0}a.define("nx.graphic.Topology.Event",{events:["clickStage","pressStage","dragStageStart","dragStage","dragStageEnd","stageTransitionEnd","zoomstart","zooming","zoomend","resetzooming","fitStage","up","down","left","right","esc","space","enter","pressA","pressS","pressF","pressM","pressR"],properties:{enableGradualScaling:{value:!0}},methods:{_mousewheel:function(a,c){if(this.scalable()){var d=8e3,e=b(c),f=this.stage(),g=e/d;null==this._zoomWheelDelta&&(this._zoomWheelDelta=0,this.fire("zoomstart")),this._zoomWheelDelta+=e/d,this._enableGradualScaling?Math.abs(this._zoomWheelDelta)<.3?f.disableUpdateStageScale(!0):(this._zoomWheelDelta=0,f.disableUpdateStageScale(!1)):f.disableUpdateStageScale(!0),f.applyStageScale(1+g,[c.offsetX,c.offsetY]),this._zooomEventTimer&&clearTimeout(this._zooomEventTimer),this._zooomEventTimer=setTimeout(function(){f.resetStageMatrix(),delete this._zoomWheelDelta,this.fire("zoomend")}.bind(this),200),this.fire("zooming")}return c.preventDefault(),!1},_contextmenu:function(a,b){b.preventDefault()},_clickStage:function(a,b){this.fire("clickStage",b)},_pressStage:function(a,b){this.fire("pressStage",b)},_dragStageStart:function(a,b){this.fire("dragStageStart",b)},_dragStage:function(a,b){this.fire("dragStage",b)},_dragStageEnd:function(a,b){this.fire("dragStageEnd",b)},_stageTransitionEnd:function(a,b){window.event=b,this.fire("stageTransitionEnd",b)},_key:function(a,b){var c=b.keyCode;switch(c){case 38:this.fire("up",b),b.preventDefault();break;case 40:this.fire("down",b),b.preventDefault();break;case 37:this.fire("left",b),b.preventDefault();break;case 39:this.fire("right",b),b.preventDefault();break;case 13:this.fire("enter",b),b.preventDefault();break;case 27:this.fire("esc",b),b.preventDefault();break;case 65:this.fire("pressA",b);break;case 70:this.fire("pressF",b);break;case 77:this.fire("pressM",b);break;case 82:this.fire("pressR",b);break;case 83:this.fire("pressS",b);break;case 32:this.fire("space",b),b.preventDefault()}return!1},blockEvent:function(b){b?a.dom.Document.body().addClass("n-userselect n-blockEvent"):(a.dom.Document.body().removeClass("n-userselect"),a.dom.Document.body().removeClass("n-blockEvent"))}}})}(nx,nx.global),function(a){var b=a.util;a.define("nx.graphic.Topology.NodeMixin",{events:["addNode","deleteNode","addNodeSet","deleteNodeSet"],properties:{nodeInstanceClass:{value:"nx.graphic.Topology.Node"},nodeSetInstanceClass:{value:"nx.graphic.Topology.NodeSet"},nodeDraggable:{value:!0},enableSmartLabel:{value:!0},showIcon:{get:function(){return void 0!==this._showIcon?this._showIcon:!1},set:function(a){return this._showIcon!==a?(this._showIcon=a,"initializing"!==this.status()&&this.eachNode(function(b){b.showIcon(a)}),!0):!1}},nodeConfig:{},nodeSetConfig:{},selectedNodes:{value:function(){return new a.data.UniqObservableCollection}},activeNodes:{set:function(b){var c=this.getLayer("nodes"),d=this.getLayer("nodeSet"),e=this._activeNodesWatcher;e||(e=this._activeNodesWatcher=new a.graphic.Topology.NodeWatcher,e.topology(this),e.updater(function(){var b=e.getNodes();a.each(b,function(a){"vertex"==a.model().type()?c.activeElements().add(a):d.activeElements().add(a)},this)}.bind(this))),c.activeElements().clear(),d.activeElements().clear(),e.nodes(b),this._activeNodes=b}},highlightedNodes:{set:function(b){var c=this.getLayer("nodes"),d=this.getLayer("nodeSet"),e=this._highlightedNodesWatcher;e||(e=this._highlightedNodesWatcher=new a.graphic.Topology.NodeWatcher,e.topology(this),e.updater(function(){a.each(e.getNodes(),function(a){"vertex"==a.model().type()?c.highlightedElements().add(a):d.highlightedElements().add(a)},this)}.bind(this))),c.highlightedElements().clear(),d.highlightedElements().clear(),e.nodes(b),this._highlightedNodes=b}},enableNodeSetAnimation:{value:!0},aggregationRule:{}},methods:{initNode:function(){var b=this.selectedNodes();b.on("change",function(c,d){"add"==d.action?a.each(d.items,function(a){a.selected(!0),a.on("remove",this._removeSelectedNode=function(){b.remove(a)},this)},this):"remove"==d.action?a.each(d.items,function(a){a.selected(!1),a.off("remove",this._removeSelectedNode,this)},this):"clear"==d.action&&a.each(d.items,function(a){a.selected(!1),a.off("remove",this._removeSelectedNode,this)},this)})},addNode:function(a,b){var c=this.graph().addVertex(a,b);if(c){var d=this.getNode(c.id());return this.fire("addNode",d),d}return null},removeNode:function(a){this.deleteNode(a)},deleteNode:function(b,c,d){var e=b;a.is(b,a.graphic.Topology.AbstractNode)&&(e=b.id());var f=this.graph().getVertex(e);if(f){var g=this.getNode(e);this.fire("deleteNode",g),this.graph().deleteVertex(e),c&&c.call(d||this)}},_getAggregationTargets:function(b){var c,d,e,f,g,h,i,j=this.graph(),k={},l=a.util.uuid(),m=b.slice();do for(i=!1,e=m.length-1;e>=0;e--){if(f=m[e],g=f.parentVertexSet(),h=g?g.id():l,k.hasOwnProperty(h)||(k[h]={vertex:g||j,finding:j.subordinates(g),found:[]}),c=k[h],c===!1||c.found.indexOf(f)>=0)throw"wrong input";c.found.push(f),m.splice(e,1),i=!0,c.finding.length===c.found.length&&c.vertex!==j&&(m.push(c.vertex),k[h]=!1)}while(i);for(c in k)k[c]||delete k[c];if(d=a.util.values(k),1!==d.length)throw a.graphic.Topology.i18n.cantAggregateNodesInDifferentNodeSet;return c=d[0],c.found},aggregationNodes:function(b,c){var d=[],e=[];a.each(b,function(b){if(a.is(b,a.graphic.Topology.AbstractNode)||(b=this.getNode(b)),!a.is(b,a.graphic.Topology.AbstractNode))throw"wrong input";d.push(b),e.push(b.model())}.bind(this));var f,g;if(f=this._getAggregationTargets(e),f.length<2)throw"wrong input. unable to aggregate.";g=[],a.each(f,function(a){g.push(a.id())});var h=this.aggregationRule();if(h&&a.is(h,"Function")){var i=h.call(this,d,c);if(i===!1)return}var j,k,l=null,m={};j={nodes:g,x:c&&"number"==typeof c.x?c.x:f[0].x(),y:c&&"number"==typeof c.y?c.y:f[0].y(),label:c&&c.label||[d[0].label(),d[d.length-1].label()].sort().join("-")},k=f[0].parentVertexSet(),k&&(m.parentVertexSetID=k.id(),l=this.getNode(k.id()));var n=this.addNodeSet(j,m,l);return this.stage().resetFitMatrix(),n},addNodeSet:function(a,b,c){var d=this.graph().addVertexSet(a,b);if(d){var e=this.getNode(d.id());return c&&e.parentNodeSet(c),this.fire("addNodeSet",e),e}return null},removeNodeSet:function(a){this.deleteNodeSet(a)},deleteNodeSet:function(b,c,d){if(b){var e=b;a.is(b,a.graphic.Topology.AbstractNode)&&(e=b.id());var f=this.getLayer("nodeSet").getNodeSet(e);f?f.collapsed()?(f.activated(!1),f.expandNodes(function(){this.fire("deleteNodeSet",f),this.graph().deleteVertexSet(e),c&&c.call(d||this)},this)):(this.fire("deleteNodeSet",f),this.graph().deleteVertexSet(e),c&&c.call(d||this)):(this.graph().deleteVertexSet(e),c&&c.call(d||this))}},eachNode:function(a,b){this.getLayer("nodes").eachNode(a,b||this),this.getLayer("nodeSet").eachNodeSet(a,b||this)},getNode:function(a){return this.getLayer("nodes").getNode(a)||this.getLayer("nodeSet").getNodeSet(a)},getNodes:function(){var a=this.getLayer("nodes").nodes(),b=this.getLayer("nodeSet").nodeSets();return b&&0!==b.length?a.concat(b):a},registerIcon:function(b,c,d,e){var f="http://www.w3.org/1999/xlink",g="http://www.w3.org/2000/svg",h=document.createElementNS(g,"image");h.setAttributeNS(f,"href",c),a.graphic.Icons.icons[b]={size:{width:d,height:e},icon:h.cloneNode(!0),name:b};var i=h.cloneNode(!0);i.setAttribute("height",e),i.setAttribute("width",d),i.setAttribute("data-device-type",b),i.setAttribute("id",b),i.setAttribute("class","deviceIcon"),this.stage().addDef(i)},highlightRelatedNode:function(c){var d;if(null!=c&&(d=a.is(c,a.graphic.Topology.AbstractNode)?c:this.getNode(c))){var e=this.getLayer("nodeSet"),f=this.getLayer("nodes");a.is(d,"nx.graphic.Topology.NodeSet")?e.highlightedElements().add(d):f.highlightedElements().add(d),d.eachConnectedNode(function(b){a.is(b,"nx.graphic.Topology.NodeSet")?e.highlightedElements().add(b):f.highlightedElements().add(b)},this),this.getLayer("linkSet").highlightLinkSets(b.values(d.linkSets())),this.getLayer("links").highlightLinks(b.values(d.links())),this.fadeOut(!0)}},activeRelatedNode:function(c){var d;if(c&&(d=a.is(c,a.graphic.Topology.AbstractNode)?c:this.getNode(c))){var e=this.getLayer("nodeSet"),f=this.getLayer("nodes");a.is(d,"nx.graphic.Topology.NodeSet")?e.activeElements().add(d):f.activeElements().add(d),d.eachConnectedNode(function(b){a.is(b,"nx.graphic.Topology.NodeSet")?e.activeElements().add(b):f.activeElements().add(b)},this),this.getLayer("linkSet").activeLinkSets(b.values(d.linkSets())),this.getLayer("links").activeLinks(b.values(d.links())),this.fadeOut()}},zoomByNodes:function(b,c,d,e){a.is(b,Array)||(b=[b]);var f,g,h,i,j=this.stage(),k=this.getModelBoundByNodes(b),l=j.maxZoomLevel()*j.fitMatrixObject().scale();k&&(k.width*l<1&&k.height*l<1?(h=a.geometry.Vector.transform(k.center,j.matrix()),i=[j.width()/2-h[0],j.height()/2-h[1]],j.scalingLayer().setTransition(function(){this.adjustLayout(),c&&c.call(d||this),this.fire("zoomend")},this,.6),j.applyTranslate(i[0],i[1]),j.applyStageScale(j.maxZoomLevel()/j.zoomLevel()*e)):(f=a.geometry.Vector.transform([k.left,k.top],j.matrix()),g=a.geometry.Vector.transform([k.right,k.bottom],j.matrix()),k={left:f[0],top:f[1],width:Math.max(1,g[0]-f[0]),height:Math.max(1,g[1]-f[1])},e=1/(e||1),k.left+=k.width*(1-e)/2,k.top+=k.height*(1-e)/2,k.height*=e,k.width*=e,this.zoomByBound(k,function(){this.adjustLayout(),c&&c.call(d||this),this.fire("zoomend")},this)))},getModelBoundByNodes:function(b,c){var d,e,f,g;return a.each(b,function(b){var h;if(a.is(b,a.graphic.Topology.AbstractNode))h=b.model();else if(c)h=this.graph().getVertex(b)||this.graph().getVertexSet(b);else{var i=this.getNode(b);h=i&&i.model()}if(h){var j=h.x(),k=h.y();d=j>d?d:j,f=k>f?f:k,e=e>j?e:j,g=g>k?g:k}},this),void 0===d||void 0===f?void 0:{left:d,top:f,right:e,bottom:g,center:[(e+d)/2,(g+f)/2],width:e-d,height:g-f}},getBoundByNodes:function(b,c){if(0===b.length)return null;var d={left:0,top:0,x:0,y:0,width:0,height:0,maxX:0,maxY:0},e=[];a.each(b,function(b){var d;d=a.is(b,a.graphic.Topology.AbstractNode)?b:this.getNode(b),d&&d.visible()&&e.push(c?this.getInsideBound(d.getBound(!0)):this.getInsideBound(d.getBound()))},this);var f=e.length-1;return e.sort(function(a,b){return a.left-b.left}),d.x=d.left=e[0].left,d.maxX=e[f].left,e.sort(function(a,b){return a.left+a.width-(b.left+b.width)}),d.width=e[f].left+e[f].width-d.x,e.sort(function(a,b){return a.top-b.top}),d.y=d.top=e[0].top,d.maxY=e[f].top,e.sort(function(a,b){return a.top+a.height-(b.top+b.height)}),d.height=e[f].top+e[f].height-d.y,d},_moveSelectionNodes:function(b,c){if(this.nodeDraggable()){var d=this.selectedNodes().toArray(),e=this.stageScale();-1===d.indexOf(c)?c.move(b.drag.delta[0]*e,b.drag.delta[1]*e):a.each(d,function(a){a.move(b.drag.delta[0]*e,b.drag.delta[1]*e)})}},expandNodes:function(b,c,d,e,f){var g=a.is(b,Array)?b.length:a.util.keys(b).length;if(d=d||function(){},g>150||0===g||f===!1)d.call(e||this,this);else{var h=[];a.each(b,function(a){h.push({id:a.id(),position:a.position(),node:a}),a.position(c)},this);var i=new a.graphic.Animation({duration:600});i.callback(function(b){a.each(h,function(a){var d=a.position,e=a.node;e&&e.model()&&e.position({x:c.x+(d.x-c.x)*b,y:c.y+(d.y-c.y)*b})})}.bind(this)),i.complete(function(){d.call(e||this,this)}.bind(this)),i.start()}},collapseNodes:function(b,c,d,e,f){var g=a.is(b,Array)?b.length:a.util.keys(b).length;if(d=d||function(){},g>150||0===g||f===!1)d.call(e||this,this);else{var h=[];a.each(b,function(a){h.push({id:a.id(),position:a.position(),node:a,vertex:a.model(),vertexPosition:a.model().position()})},this);var i=new a.graphic.Animation({duration:600});i.callback(function(b){a.each(h,function(a){var d=a.position,e=a.node;e&&e.model()&&e.position({x:d.x-(d.x-c.x)*b,y:d.y-(d.y-c.y)*b})})}.bind(this)),i.complete(function(){a.each(h,function(a){a.vertex.position(a.vertexPosition)}),d.call(e||this,this)}.bind(this)),i.start()}},_expandAll:function(){var a=this.getLayer("nodeSet"),b=!0;a.eachNodeSet(function(a){a.collapsed(!1),b=!1}),b?(this.stage().resetFitMatrix(),this.off("expandNodeSet",this.expandAll,this),this.fit(function(){setTimeout(function(){this.disableCurrentScene(!1)}.bind(this),1200)},this)):(this.disableCurrentScene(!0),this.on("expandNodeSet",this.expandAll,this))}}})}(nx,nx.global),function(a){a.define("nx.graphic.Topology.LinkMixin",{events:["addLink","deleteLink"],properties:{supportMultipleLink:{value:!0},linkConfig:{},linkSetConfig:{}},methods:{addLink:function(a,b){if(null==a.source||null==a.target)return void 0;var c=this.graph().addEdge(a,b);if(c){var d=this.getLink(c.id());return this.fire("addLink",d),d}return null},removeLink:function(a){this.deleteLink(a)},deleteLink:function(b){var c=b;a.is(b,a.graphic.Topology.AbstractLink)&&(c=b.id()),this.fire("deleteLink",this.getLink(c)),this.graph().deleteEdge(c)},eachLink:function(a,b){this.getLayer("links").eachLink(a,b||this)},getLink:function(a){return this.getLayer("links").getLink(a)},getLinkSet:function(a,b){return this.getLayer("linkSet").getLinkSet(a,b)},getLinkSetByLinkKey:function(a){return this.getLayer("linkSet").getLinkSetByLinkKey(a)},getLinksByNode:function(a,b){var c=this.getLinkSet(a,b);return c?c.links():void 0}}})}(nx,nx.global),function(a,b){a.define("nx.graphic.Topology.LayerMixin",{events:[],properties:{layersMap:{value:function(){return{}}},layers:{value:function(){return[]}},fade:{dependencies:"forceFade",value:function(a){return a===!0||a===!1?a:this._fade
}},fadeUpdater_internal_:{dependencies:"fade",update:function(a){a?this.dom().addClass("fade-all"):this.dom().removeClass("fade-all")}},forceFade:{}},methods:{initLayer:function(){this.layersMap({}),this.layers([]),this.attachLayer("groups","nx.graphic.Topology.GroupsLayer"),this.attachLayer("links","nx.graphic.Topology.LinksLayer"),this.attachLayer("linkSet","nx.graphic.Topology.LinkSetLayer"),this.attachLayer("nodes","nx.graphic.Topology.NodesLayer"),this.attachLayer("nodeSet","nx.graphic.Topology.NodeSetLayer"),this.attachLayer("paths","nx.graphic.Topology.PathLayer")},_generateLayer:function(c,d){var e;if(c&&d){if(a.is(d,"String")){var f=a.path(b,d);f&&(e=new f)}else e=d;e.topology(this),e.draw(),a.each(e.__events__,function(b){a.Object.delegateEvent(e,b,this,b)},this)}return e},getLayer:function(a){var b=this.layersMap();return b[a]},appendLayer:function(a,b){return this.attachLayer(a,b)},attachLayer:function(a,b){var c=this.layersMap(),d=this.layers(),e=this._generateLayer(a,b);return e&&(e.attach(this.stage()),c[a]=e,d.push(e)),e},prependLayer:function(a,b){var c=this.layersMap(),d=this.layers(),e=this._generateLayer(a,b);return e&&(e.attach(this.stage(),0),c[a]=e,d.push(e)),e},insertLayerAfter:function(a,b,c){var d=this.layersMap(),e=this.layers(),f=this._generateLayer(a,b),g=d[c];if(f&&g){var h=e.indexOf(g);f.attach(this.stage(),h),d[a]=f,e.splice(h+1,0,f)}},eachLayer:function(b,c){a.each(this.layersMap(),b,c)},fadeOut:function(a){a?this.forceFade(!0):this.forceFade()||this.fade(!0)},fadeIn:function(a){this.forceFade()===!0?a&&(this.forceFade(null),this.fade(!1)):this.fade(!1)},recoverActive:function(){a.each(this.layers(),function(a){a.activeElements&&a.activeElements().clear()},this),this.activeNodes([]),this.fadeIn()},recoverHighlight:function(){a.each(this.layers(),function(a){a.highlightedElements&&a.highlightedElements().clear()},this),this.highlightedNodes([]),this.fadeIn(!0)}}})}(nx,nx.global),function(a){a.define("nx.graphic.Topology.StageMixin",{events:["fitStage","ready","resizeStage","afterFitStage"],properties:{width:{get:function(){return this._width||300+2*this.padding()},set:function(a){return this.resize(a)}},height:{get:function(){return this._height||300+2*this.padding()},set:function(a){this.resize(null,a)}},padding:{value:100},scalable:{value:!0},stageScale:{value:1},revisionScale:{value:1},matrix:{value:function(){return new a.geometry.Matrix(a.geometry.Matrix.I)}},adaptive:{value:!1},stage:{get:function(){return this.view("stage")}},enableSmartNode:{value:!0},autoFit:{value:!0}},methods:{initStage:function(){a.each(a.graphic.Icons.icons,function(a,b){if(a.icon){var c=a.icon.cloneNode(!0);c.setAttribute("height",a.size.height),c.setAttribute("width",a.size.width),c.setAttribute("data-device-type",b),c.setAttribute("id",b),c.setAttribute("class","deviceIcon"),this.stage().addDef(c)}},this)},_adaptiveTimer:function(){var b=this;if(this.adaptive()||0===this.width()||0===this.height())var c=setInterval(function(){a.dom.Document.body().contains(b.view().dom())&&(clearInterval(c),this._adaptToContainer(),this.status("appended"),this.fire("ready"))}.bind(this),10);else this.status("appended"),setTimeout(function(){this.fire("ready")}.bind(this),0)},_adaptToContainer:function(){var a=this.view().dom().parentNode().getBound();return 0===a.width||0===a.height?void(console&&console.log("Please set height*width to topology's parent container")):void((this._width!==a.width||this._height!==a.height)&&this.resize(a.width,a.height))},adaptToContainer:function(){this.adaptive()&&(this._adaptToContainer(),this.fit())},getInsideBound:function(a){var b=a||this.stage().view("stage").getBound(),c=this.view().dom().getBound();return{left:b.left-c.left,top:b.top-c.top,width:b.width,height:b.height}},getAbsolutePosition:function(a){var b=this.matrix(),c=b.scale(),d=this.view().dom().getOffset();return{x:a.x*c+b.x()+d.left,y:a.y*c+b.y()+d.top}},fit:function(a,b,c){this.stage().fit(function(){this.adjustLayout(),a&&a.call(b||this),this.fire("afterFitStage")},this,null==c?!0:c),this.fire("fitStage")},zoom:function(){},zoomByBound:function(a,b,c,d){this.stage().zoomByBound(a,function(){this.adjustLayout(),b&&b.call(c||this),this.fire("zoomend")},this,void 0!==d?d:.9)},move:function(a,b,c){var d=this.stage();d.applyTranslate(a||0,b||0,c)},resize:function(a,b){var c=!1;if(null!=a&&a!=this._width){var d=Math.max(a,300+2*this.padding());d!=this._width&&(this._width=d,c=!0)}if(null!=b){var e=Math.max(b,300+2*this.padding());e!=this._height&&(this._height=e)}return c&&(this.notify("width"),this.notify("height"),this.stage().resetFitMatrix(),this.fire("resizeStage")),c},adjustLayout:function(){this.enableSmartNode()&&(this._adjustLayoutTimer&&clearTimeout(this._adjustLayoutTimer),this._adjustLayoutTimer=setTimeout(function(){var a=this.graph();if(a){var b=(new Date,this.matrix()),c=b.scale(),d=[];this.eachNode(function(a){if(!a.activated||a.activated()){var e=a.position();d[d.length]={x:e.x*c+b.x(),y:e.y*c+b.y()}}});var e=function(a){for(var b=a.length,c=1296,d=1024,e=function(a,b){var e=Math.pow(Math.abs(a.x-b.x),2)+Math.pow(Math.abs(a.y-b.y),2);return{iconOverlap:c>e,dotOverlap:d>e}},f=0,g=0,h=0;b>h;h++){for(var i=a[h],j=!1,k=!1,l=0;b>l;l++){var m=a[l];if(h!==l){var n=e(i,m);n.iconOverlap&&(j=!0),n.dotOverlap&&(k=!0)}}j&&f++,k&&g++}var o=1;return f/b>.2&&(o=.8,g/b>.8?o=.2:g/b>.5?o=.4:g/b>.15&&(o=.6)),o};if(window.Blob&&window.Worker){var f="onmessage = function(e) { self.postMessage(calc(e.data)); };";if(f+="var calc = "+e.toString(),!this.adjustWorker){var g=new Blob([f]),h=window.URL.createObjectURL(g),i=this.adjustWorker=new Worker(h);i.onmessage=function(a){var b=a.data;this.revisionScale(b)}.bind(this)}this.adjustWorker.postMessage(d)}}}.bind(this),200))}}})}(nx,nx.global),function(a){a.define("nx.graphic.Topology.TooltipMixin",{events:[],properties:{tooltipManagerConfig:{get:function(){return this._tooltipManagerConfig||{}},set:function(a){var b=this.tooltipManager();b&&b.sets(a),this._tooltipManagerConfig=a}},tooltipManager:{value:function(){var b=this.tooltipManagerConfig();return new a.graphic.Topology.TooltipManager(a.extend({},{topology:this},b))}}},methods:{}})}(nx,nx.global),function(a,b){a.define("nx.graphic.Topology.SceneMixin",{events:[],properties:{scenesMap:{value:function(){return{}}},scenes:{value:function(){return[]}},currentScene:{},currentSceneName:{},sceneEnabled:{value:!0}},methods:{initScene:function(){this.registerScene("default","nx.graphic.Topology.DefaultScene"),this.registerScene("selection","nx.graphic.Topology.SelectionNodeScene"),this.registerScene("zoomBySelection","nx.graphic.Topology.ZoomBySelection"),this.activateScene("default"),this._registerEvents()},registerScene:function(c,d){var e;if(c&&d){var f,g=this.scenesMap(),h=this.scenes();a.is(d,"String")?(e=a.path(b,d),e&&(f=new e)):f=d,f&&(f.topology(this),g[c]=f,h.push(f))}},activateScene:function(a){var b=this.scenesMap(),c=a||"default",d=b[c]||b["default"];return this.deactivateScene(),this.currentScene(d),this.currentSceneName(c),d.activate(),this.fire("switchScene",{name:a,scene:d}),d},deactivateScene:function(){this.currentScene()&&this.currentScene().deactivate&&this.currentScene().deactivate(),this.currentScene(null)},disableCurrentScene:function(a){this.sceneEnabled(!a)},_registerEvents:function(){a.each(this.__events__,this._aop=function(a){this.upon(a,function(b,c){this.dispatchEvent(a,b,c)},this)},this)},dispatchEvent:function(a,b,c){if(this.sceneEnabled()){var d=this.currentScene();d.dispatch&&d.dispatch(a,b,c),d[a]&&d[a].call(d,b,c)}}}})}(nx,nx.global),function(a){a.define("nx.graphic.Topology.LayoutMixin",{events:[],properties:{layoutMap:{value:function(){return{}}},layoutType:{value:null},layoutConfig:{value:null}},methods:{initLayout:function(){this.registerLayout("force",new a.graphic.Topology.NeXtForceLayout),this.registerLayout("USMap",new a.graphic.Topology.USMapLayout),this.registerLayout("WorldMap",new a.graphic.Topology.WorldMapLayout),this.registerLayout("hierarchicalLayout",new a.graphic.Topology.HierarchicalLayout),this.registerLayout("enterpriseNetworkLayout",new a.graphic.Topology.EnterpriseNetworkLayout)},registerLayout:function(a,b){var c=this.layoutMap();c[a]=b,b.topology&&b.topology(this)},getLayout:function(a){var b=this.layoutMap();return b[a]},activateLayout:function(a,b,c){var d=this.layoutMap(),e=a||this.layoutType(),f=b||this.layoutConfig();d[e]&&d[e].process&&(d[e].process(this.graph(),f,c),this.layoutType(e))},deactivateLayout:function(){}}})}(nx,nx.global),function(a){a.define("nx.graphic.Topology.Categories",{events:[],properties:{},methods:{showLoading:function(){a.dom.Document.html().addClass("n-waitCursor"),this.view().dom().addClass("n-topology-loading"),this.view("loading").dom().setStyle("display","block")},hideLoading:function(){a.dom.Document.html().removeClass("n-waitCursor"),this.view().dom().removeClass("n-topology-loading"),this.view("loading").dom().setStyle("display","none")},exportPNG:function(){this.fit();var b=new XMLSerializer,c=this.stageScale(),d=topo.matrix().x(),e=topo.matrix().y(),f=this.stage().view().dom().$dom.querySelector(".stage").cloneNode(!0);a.each(f.querySelectorAll(".fontIcon"),function(a){a.remove()}),a.each(f.querySelectorAll(".link"),function(a){a.style.stroke="#26A1C5",a.style.fill="none",a.style.background="transparent"}),a.each(f.querySelectorAll("line.link-set-bg"),function(a){a.style.stroke="#26A1C5"}),a.each(f.querySelectorAll("text.node-label"),function(a){a.style.fontSize="12px",a.style.fontFamily="Tahoma"}),a.each(f.querySelectorAll(".n-hidden"),function(a){a.remove()});var g=b.serializeToString(f),h='<svg width="'+this.width()+'" height="'+this.height()+'" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" >'+g+"</svg>",i=window.btoa(h),j=this.view("img").dom().$dom;j.setAttribute("width",this.width()),j.setAttribute("height",this.height()),j.setAttribute("src","data:image/svg+xml;base64,"+i);var k=this.view("canvas").dom().$dom,l=k.getContext("2d"),m=this.revisionScale(),n=32*m;l.fillStyle="#fff",l.fillRect(0,0,this.width(),this.height()),l.drawImage(j,0,0),l.font=n+"px next-font",this.eachNode(function(b){var f=b.iconType(),g=a.graphic.Icons.get(f);l.fillStyle="#fff",l.fillText(g.font[1],b.x()/c+d-16*m,b.y()/c+e+16*m),l.fillStyle=b.color()||"#26A1C5",l.fillText(g.font[0],b.x()/c+d-16*m,b.y()/c+e+16*m)});var o=document.createElement("a");o.setAttribute("href",k.toDataURL()),o.setAttribute("download",(new Date).getTime()+".png");var p=document.createEvent("MouseEvents");p.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,0,null),o.dispatchEvent(p)},__drawBG:function(a){var b=a||this.stage().getContentBound(),c=this.stage().view("bg");c.sets({x:b.left,y:b.top,width:b.width,height:b.height,visible:!0}),c.set("visible",!0)}}})}(nx,nx.global),function(a){a.define("nx.graphic.Topology",a.ui.Component,{statics:{i18n:{cantAggregateExtraNode:"Can't aggregate extra node",cantAggregateNodesInDifferentNodeSet:"Can't aggregate nodes in different nodeSet"}},mixins:[a.graphic.Topology.Config,a.graphic.Topology.Graph,a.graphic.Topology.Event,a.graphic.Topology.StageMixin,a.graphic.Topology.NodeMixin,a.graphic.Topology.LinkMixin,a.graphic.Topology.LayerMixin,a.graphic.Topology.LayoutMixin,a.graphic.Topology.TooltipMixin,a.graphic.Topology.SceneMixin,a.graphic.Topology.Categories],events:["clear"],view:{props:{"class":["n-topology","{#themeClass}"],tabindex:"0",style:{width:"{#width}",height:"{#height}"}},content:[{name:"stage",type:"nx.graphic.Stage",props:{width:"{#width}",height:"{#height}",padding:"{#padding}",matrixObject:"{#matrix,direction=<>}",stageScale:"{#stageScale,direction=<>}"},events:{":mousedown":"{#_pressStage}",":touchstart":"{#_pressStage}",mouseup:"{#_clickStage}",touchend:"{#_clickStage}",mousewheel:"{#_mousewheel}",DOMMouseScroll:"{#_mousewheel}",touchmove:"{#_mousewheel}",dragStageStart:"{#_dragStageStart}",dragStage:"{#_dragStage}",dragStageEnd:"{#_dragStageEnd}",stageTransitionEnd:"{#_stageTransitionEnd}"}},{name:"nav",type:"nx.graphic.Topology.Nav",props:{visible:"{#showNavigation}",showIcon:"{#showIcon,direction=<>}"}},{name:"loading",props:{"class":"n-topology-loading"},content:{tag:"ul",props:{items:new Array(10),template:{tag:"li"}}}},{name:"img",tag:"img",props:{style:{display:"none"}}},{name:"canvas",tag:"canvas",props:{width:"{#width}",height:"{#height}",style:{display:"none"}}}],events:{contextmenu:"{#_contextmenu}",keydown:"{#_key}"}},properties:{},methods:{init:function(a){this.inherited(a),this.sets(a),this.initStage(),this.initLayer(),this.initGraph(),this.initNode(),this.initScene(),this.initLayout()},attach:function(a){this.inherited(a),this._adaptiveTimer()},clear:function(){this.status("cleared"),this.graph().clear(),this.tooltipManager().closeAll(),a.each(this.layers(),function(a){a.clear()}),this.blockEvent(!1),this.fire("clear")},dispose:function(){this.status("disposed"),this.tooltipManager().dispose(),this.graph().dispose(),a.each(this.layers(),function(a){a.dispose()}),this.blockEvent(!1),this.inherited()}}})}(nx,nx.global),function(a){a.define("nx.graphic.Topology.Layer",a.graphic.Group,{view:{type:"nx.graphic.Group",props:{"class":"layer"}},properties:{topology:{value:null},highlightedElements:{value:function(){return new a.data.UniqObservableCollection}},activeElements:{value:function(){return new a.data.UniqObservableCollection}},fade:{dependencies:"forceFade",value:function(a){return a===!0||a===!1?a:this._fade}},fadeUpdater_internal_:{dependencies:"fade",update:function(a){a?this.dom().addClass("fade-layer"):this.dom().removeClass("fade-layer")}},forceFade:{}},methods:{init:function(b){this.inherited(b),this.view().set("data-nx-type",this.__className__);var c=this.highlightedElements(),d=this.activeElements();c.on("change",function(b,e){"add"==e.action?a.each(e.items,function(a){a.dom().addClass("fade-highlight-item")}):("remove"==e.action||"clear"==e.action)&&a.each(e.items,function(a){a.dom()&&a.dom().removeClass("fade-highlight-item")}),0===c.count()&&0===d.count()?this.fadeIn():this.fadeOut()},this),d.on("change",function(b,e){"add"==e.action?a.each(e.items,function(a){a.dom().addClass("fade-active-item")}):("remove"==e.action||"clear"==e.action)&&a.each(e.items,function(a){a.dom()&&a.dom().removeClass("fade-active-item")}),0===c.count()&&0===d.count()?this.fadeIn():this.fadeOut()},this)},draw:function(){},show:function(){this.visible(!0)},hide:function(){this.visible(!1)},fadeOut:function(a){a?this.forceFade(!0):this.forceFade()||this.fade(!0)},fadeIn:function(a){this.forceFade()===!0?a&&(this.forceFade(null),this.fade(!1)):this.fade(!1)},recover:function(a,b,c){this.fadeIn(a,b,c)},clear:function(){this.highlightedElements().clear(),this.activeElements().clear(),this.view().dom().empty()},dispose:function(){this.clear(),this.highlightedElements().clear(),this.activeElements().clear(),this.inherited()}}})}(nx,nx.global),function(a){a.define("nx.graphic.Topology.NodeWatcher",a.Observable,{properties:{nodes:{get:function(){return this._nodes||[]},set:function(b){var c=this.updater(),d=this.vertices();if(0!==d.length&&(a.each(d,function(a){a.unwatch("generated",c,this)},this),d.length=0),b){var e=b;a.is(e,Array)||a.is(e,a.data.ObservableCollection)||(e=[e]),a.each(e,function(a){var b=this._getVertex(a);b&&-1==d.indexOf(b)&&d.push(b)},this),a.is(e,a.data.ObservableCollection)&&e.on("change",function(a,b){b.action,b.items});var f=this.observePosition();a.each(d,function(a){a.watch("generated",c,this),f&&a.on("updateCoordinate",c,this)},this),c(),this._nodes=e}}},updater:{value:function(){return function(){}}},topology:{set:function(a){if(a&&a.graph()){var b=a.graph();b.on("addVertexSet",this.update,this),b.on("removeVertexSet",this.update,this),b.on("deleteVertexSet",this.update,this),b.on("updateVertexSet",this.update,this)}this._topology=a}},vertices:{value:function(){return[]}},observePosition:{value:!1}},methods:{_getVertex:function(b){var c,d=this.topology();if(d&&d.graph()){var e=d.graph();a.is(b,a.graphic.Topology.AbstractNode)?c=b.model():e.getVertex(b)&&(c=e.getVertex(b))}return c},getNodes:function(b){var c=[],d=this.topology(),e=this.vertices();return a.each(e,function(a){var e=a.id(),f=d.getNode(e);if(b!==!1&&(!f||a.generated()===!1)){var g=a.generatedRootVertexSet();g&&(f=d.getNode(g.id()))}f&&c.indexOf(f)&&c.push(f)}),c},update:function(){var a=this.updater(),b=this.vertices();0!==b.length&&a()},dispose:function(){var a=this.topology();if(a&&a.graph()){var b=a.graph();b.off("addVertexSet",this.update,this),b.off("removeVertexSet",this.update,this),b.off("deleteVertexSet",this.update,this),b.off("updateVertexSet",this.update,this)}this.inherited()}}})}(nx,nx.global),function(a){var b=a.geometry.Vector;a.define("nx.graphic.Topology.AbstractNode",a.graphic.Group,{events:["updateNodeCoordinate","selectNode","remove"],properties:{position:{get:function(){return{x:this._x||0,y:this._y||0}},set:function(a){var b=!1;if(null==a.x||a.x===this._x||this._lockXAxle||(this._x=a.x,this.notify("x"),b=!0),null==a.y||a.y===this._y||this._lockYAxle||(this._y=a.y,this.notify("y"),b=!0),b){var c=this.model();c.position({x:this._x,y:this._y}),this.view().setTransform(this._x,this._y)}}},absolutePosition:{get:function(){var a=this.position(),b=this.topology().matrix(),c=b.scale();return{x:a.x*c+b.x(),y:a.y*c+b.y()}}},matrix:{get:function(){var a=this.position(),b=this.stageScale();return[[b,0,0],[0,b,0],[a.x,a.y,1]]}},vector:{get:function(){return new b(this.x(),this.y())}},x:{get:function(){return this._x||0},set:function(a){return this.position({x:parseFloat(a)})}},y:{get:function(){return this._y||0},set:function(a){return this.position({y:parseFloat(a)})}},lockXAxle:{value:!1},lockYAxle:{value:!1},stageScale:{set:function(a){this.view().setTransform(null,null,a)}},topology:{},id:{get:function(){return this.model().id()}},selected:{value:!1},enable:{value:!0},node:{get:function(){return this}},showIcon:{value:!0},links:{get:function(){var a={};return this.eachLink(function(b,c){a[c]=b}),a}},linkSets:{get:function(){var a={};return this.eachLinkSet(function(b,c){a[c]=b}),a}},connectedNodes:{get:function(){var a={};return this.eachConnectedNode(function(b,c){a[c]=b}),a}}},view:{type:"nx.graphic.Group"},methods:{init:function(a){this.inherited(a),this.watch("selected",function(a,b){this.fire("selectNode",b)},this)},setModel:function(a){this.model(a),a.upon("updateCoordinate",function(a,b){this.position({x:b.newPosition.x,y:b.newPosition.y}),this.fire("updateNodeCoordinate")},this),this.setBinding("visible","model.visible,direction=<>",this),this.setBinding("selected","model.selected,direction=<>",this),this.position(a.position())},update:function(){},move:function(a,b){var c=this.position();this.position({x:c.x+a||0,y:c.y+b||0})},moveTo:function(a,b,c,d,e){if(d!==!1){var f={to:{},duration:e||400};f.to.x=a,f.to.y=b,c&&(f.complete=c),this.animate(f)}else this.position({x:a,y:b})},translateTo:function(){},eachLink:function(a,b){this.model(),this.topology();this.eachLinkSet(function(c){c.eachLink(a,b||this)})},eachLinkSet:function(b,c){var d=this.model(),e=this.topology();a.each(d.edgeSets(),function(a,d){var f=e.getLinkSetByLinkKey(d);f&&b.call(c||this,f,d)},this),a.each(d.edgeSetCollections(),function(a,d){var f=e.getLinkSetByLinkKey(d);f&&b.call(c||this,f,d)},this)},eachConnectedNode:function(a,b){var c=this.topology();this.model().eachConnectedVertex(function(d,e){var f=c.getNode(e);f&&a.call(b||this,f,e)})},dispose:function(){var a=this.model();a&&a.upon("updateCoordinate",null),this.fire("remove"),this.inherited()}}})}(nx,nx.global),function(a){a.define("nx.graphic.Topology.Node",a.graphic.Topology.AbstractNode,{events:["pressNode","clickNode","enterNode","leaveNode","dragNodeStart","dragNode","dragNodeEnd","selectNode"],properties:{label:{set:function(a){var b=this._processPropertyValue(a),c=this.view("label");null!=b?(c.set("text",b),c.set("visible",!0),this.calcLabelPosition()):c.set("visible",!1),this._label=b}},iconType:{get:function(){return this.view("icon").get("iconType")},set:function(a){var b=this._processPropertyValue(a);return b&&this._iconType!==b?(this._iconType=b,this.view("icon").set("iconType",b),!0):!1}},showIcon:{set:function(a){var b=this._processPropertyValue(a);this._showIcon=b,this.view("icon").set("showIcon",b),null!=this._label&&this.calcLabelPosition(),this._selected&&this.view("selectedBG").set("r",this.selectedRingRadius())}},enableSmartLabel:{value:!0},labelAngle:{value:90},labelVisibility:{set:function(a){var b=this._processPropertyValue(a),c=this.view("label");c.visible(b),this._labelVisible=b}},revisionScale:{set:function(a){var b=this.topology(),c=this.view("icon");c.set("scale",a),c.showIcon(b.showIcon()?a>.2:!1),a>.4?this.view("label").set("visible",null==this._labelVisible?!0:this._labelVisible):this.view("label").set("visible",!1),null!=this._label&&this.calcLabelPosition(),this._selected&&this.view("selectedBG").set("r",this.selectedRingRadius())}},color:{set:function(a){var b=this._processPropertyValue(a);this.view("label").dom().setStyle("fill",b),this.view("icon").set("color",b),this._color=b}},scale:{get:function(){return this.view("graphic").scale()},set:function(a){var b=this._processPropertyValue(a);this.view("graphic").setTransform(null,null,b),this.calcLabelPosition(!0)}},selectedRingRadius:{get:function(){var a=this.getBound(!0),b=Math.max(a.height,a.width)/2;return b+(this.selected()?10:-4)}},selected:{get:function(){return this._selected||!1},set:function(a){var b=this._processPropertyValue(a);return this._selected==b?!1:(this._selected=b,this.dom().setClass("node-selected",!!b),b&&this.view("selectedBG").set("r",this.selectedRingRadius()),!0)}},enable:{get:function(){return null!=this._enable?this._enable:!0},set:function(a){var b=this._processPropertyValue(a);this._enable=b,b?this.dom().removeClass("disable"):this.dom().addClass("disable")}},parentNodeSet:{get:function(){var a=this.model().parentVertexSet();return a?this.topology().getNode(a.id()):null}},rootParentNodeSet:{get:function(){var a=this.model().generatedRootVertexSet();return a?this.topology().getNode(a.id()):null}}},view:{type:"nx.graphic.Group",props:{"class":"node"},content:[{name:"label",type:"nx.graphic.Text",props:{"class":"node-label","alignment-baseline":"central",y:12}},{name:"selectedBG",type:"nx.graphic.Circle",props:{"class":"selectedBG",r:26}},{type:"nx.graphic.Group",name:"graphic",content:[{name:"icon",type:"nx.graphic.Icon",props:{"class":"icon",iconType:"unknown",showIcon:!1,scale:1}}],events:{mousedown:"{#_mousedown}",mouseup:"{#_mouseup}",mouseenter:"{#_mouseenter}",mouseleave:"{#_mouseleave}",dragstart:"{#_dragstart}",dragmove:"{#_drag}",dragend:"{#_dragend}"}}]},methods:{translateTo:function(a,b,c,d){var e=this.view(),f=this.position();e.setTransition(function(){this.position({x:a,y:b}),this.calcLabelPosition(!0),c&&c.call(d||this)},this,.5),f.x==a&&f.y==b&&c?c.call(d||this):e.setTransform(a,b,null,.9)},getBound:function(a){return a?this.view("graphic").getBound():this.view().getBound()},_mousedown:function(a,b){this.enable()&&(this._prevPosition=this.position(),b.captureDrag(this.view("graphic"),this.topology().stage()),this.fire("pressNode",b))},_mouseup:function(a,b){if(this.enable()){var c=this.position();this._prevPosition&&c.x===this._prevPosition.x&&c.y===this._prevPosition.y&&this.fire("clickNode",b)}},_mouseenter:function(a,b){this.enable()&&(this.__enter||(this.fire("enterNode",b),this.__enter=!0))},_mouseleave:function(a,b){this.enable()&&this.__enter&&(this.fire("leaveNode",b),this.__enter=!1)},_dragstart:function(a,b){window.event=b,this.enable()&&this.fire("dragNodeStart",b)},_drag:function(a,b){window.event=b,this.enable()&&this.fire("dragNode",b)},_dragend:function(a,b){this.enable()&&(this.fire("dragNodeEnd",b),this.updateConnectedNodeLabelPosition())},updateConnectedNodeLabelPosition:function(){this.calcLabelPosition(!0),this.eachConnectedNode(function(a){a.calcLabelPosition()},this)},calcLabelPosition:function(a){this.enableSmartLabel()?(a,this._centralizedText()):this.updateByMaxObtuseAngle(this.labelAngle())},_centralizedText:function(){var b=this.model();if(void 0!==b){var c=b.id(),d=[];a.each(b.edgeSets(),function(a){d.push(a.sourceID()!==c?a.line().dir.negate():a.line().dir)},this),a.each(b.edgeSetCollections(),function(a){d.push(a.sourceID()!==c?a.line().dir.negate():a.line().dir)},this),d=d.sort(function(a,b){return a.circumferentialAngle()-b.circumferentialAngle()});var e,f=new a.geometry.Vector(1,0),g=0;if(0===d.length)e=90;else{d.push(d[0].rotate(359.9));for(var h=0;h<d.length-1;h++){var i=d[h+1].circumferentialAngle()-d[h].circumferentialAngle();0>i&&(i+=360),i>g&&(g=i,f=d[h])}e=g/2+f.circumferentialAngle(),e%=360}this.updateByMaxObtuseAngle(e)}},updateByMaxObtuseAngle:function(b){var c=this.view("label"),d=Math.floor(b/60),e="middle";5===d||0===d?e="start":(2===d||3===d)&&(e="end");var f=this.getBound(!0),g=Math.max(f.width/2,f.height/2)+(this.showIcon()?12:8),h=new a.geometry.Vector(g,0).rotate(b);c.set("x",h.x),c.set("y",h.y),c.set("text-anchor",e),this._labelAngle=b},dispose:function(){clearTimeout(this._centralizedTextTimer),this.inherited()}}})}(nx,nx.global),function(a,b){var c=a.util,d=a.define("nx.graphic.Topology.NodesLayer",a.graphic.Topology.Layer,{statics:{defaultConfig:{}},events:["clickNode","enterNode","leaveNode","dragNodeStart","dragNode","dragNodeEnd","hideNode","pressNode","selectNode","updateNodeCoordinate"],properties:{nodes:{get:function(){return this.nodeDictionary().values().toArray()}},nodesMap:{get:function(){return this.nodeDictionary().toObject()}},nodeDictionary:{value:function(){return new a.data.ObservableDictionary}}},methods:{attach:function(a){this.inherited(a);var b=this.topology();b.watch("stageScale",this.__watchStageScaleFN=function(a,b){this.nodeDictionary().each(function(a){a.value().stageScale(b)})},this),b.watch("revisionScale",this.__watchRevisionScale=function(a,b){this.nodeDictionary().each(function(a){a.value().revisionScale(b)},this)},this)},addNode:function(a){var b=a.id(),c=this._generateNode(a);return this.nodeDictionary().setItem(b,c),c},removeNode:function(a){var b=this.nodeDictionary(),c=b.getItem(a);c&&(c.dispose(),b.removeItem(a))},updateNode:function(a){var b=this.nodeDictionary(),c=b.getItem(a);c&&c.update()},_getNodeInstanceClass:function(c){var d,e=this.topology(),f=e.nodeInstanceClass();if(a.is(f,"Function")?(d=f.call(this,c),a.is(d,"String")&&(d=a.path(b,d))):d=a.path(b,f),!d)throw"Error on instance node class";return d},_generateNode:function(a){var b=a.id(),c=this.topology(),d=c.stageScale(),e=this._getNodeInstanceClass(a),f=new e({topology:c});return f.setModel(a),f.attach(this.view()),f.sets({"class":"node","data-id":b,stageScale:d}),this.updateDefaultSetting(f),f},updateDefaultSetting:function(b){var e=this.topology(),f=a.graphic.Component.__events__;a.each(b.__events__,function(a){-1==f.indexOf(a)&&b.on(a,function(){this.fire(a,b)},this)},this);var g=this.nodeConfig=a.extend({enableSmartLabel:e.enableSmartLabel()},d.defaultConfig,e.nodeConfig());delete g.__owner__,a.each(g,function(a,d){c.setProperty(b,d,a,e)},this),c.setProperty(b,"showIcon",e.showIcon()),1!==e.revisionScale()&&b.revisionScale(e.revisionScale())},eachNode:function(a,b){this.nodeDictionary().each(function(c,d){a.call(b||this,c.value(),d)})},getNode:function(a){return this.nodeDictionary().getItem(a)},clear:function(){this.eachNode(function(a){a.dispose()}),this.nodeDictionary().clear(),this.inherited()},dispose:function(){this.clear();var a=this.topology();a&&(this.topology().unwatch("stageScale",this.__watchStageScaleFN,this),this.topology().unwatch("revisionScale",this.__watchRevisionScale,this),a._activeNodesWatcher&&a._activeNodesWatcher.dispose(),a._highlightedNodesWatcher&&a._highlightedNodesWatcher.dispose()),this.inherited()}}})}(nx,nx.global),function(a){a.define("nx.graphic.Topology.NodeSet",a.graphic.Topology.Node,{events:["expandNode","collapseNode","beforeExpandNode","beforeCollapseNode"],properties:{nodes:{get:function(){var b={},c=this.topology(),d=this.model();return this.model().activated()?void 0:(a.each(d.vertices(),function(a,d){var e=c.getNode(d);e&&(b[d]=e)}),a.each(d.vertexSet(),function(d,e){var f=c.getNode(e);f&&(f.activated()?b[e]=f:a.extend(b,f.nodes()))}),b)}},nodeSets:{get:function(){var a={},b=this.topology(),c=this.model();return c.eachSubVertexSet(function(c,d){var e=b.getNode(d);e&&(a[d]=e)},this),a}},collapsed:{get:function(){return void 0!==this._collapsed?this._collapsed:!0},set:function(a){var b=this._processPropertyValue(a);return this._collapsed!==b?(this._collapsed=b,b?this.collapse(this._animation):this.expand(this._animation),!0):!1}},activated:{value:!0},showIcon:{set:function(a){var b=this._processPropertyValue(a);this._showIcon=b,this.view("icon").set("showIcon",b),this.view("icon").set("visible",b),null!=this._label&&this.calcLabelPosition(),this._selected&&this.view("selectedBG").set("r",this.selectedRingRadius()),this._updateMinusIcon()}},revisionScale:{set:function(a){var b=this.topology(),c=this.view("icon");c.set("scale",a),b.showIcon()?(c.showIcon(a>.2),c.set("visible",a>.2)):(c.showIcon(!1),c.set("visible",!1)),this._updateMinusIcon(a),this._labelVisible&&this.view("label").set("visible",a>.4)}},animation:{value:!0}},view:{type:"nx.graphic.Group",props:{"class":"node"},content:[{name:"label",type:"nx.graphic.Text",props:{"class":"node-label","alignment-baseline":"central",y:12}},{name:"selectedBG",type:"nx.graphic.Circle",props:{"class":"selectedBG",r:26}},{type:"nx.graphic.Group",name:"graphic",content:[{name:"icon",type:"nx.graphic.Icon",props:{"class":"icon",iconType:"unknown",showIcon:!1,scale:1}},{name:"minus",type:"nx.graphic.Icon",props:{"class":"indicator",iconType:"expand",scale:1}}],events:{mousedown:"{#_mousedown}",mouseup:"{#_mouseup}",mouseenter:"{#_mouseenter}",mouseleave:"{#_mouseleave}",dragstart:"{#_dragstart}",dragmove:"{#_drag}",dragend:"{#_dragend}"}}]},methods:{setModel:function(a){this.inherited(a),this.setBinding("activated","model.activated,direction=<>",this)},update:function(){},expand:function(a,b,c){var d=this.animation();this.animation("boolean"==typeof a?a:d),this._collapsed=!1,this.selected(!1),this.model().activated(!1),this.fire("beforeExpandNode",this),this.topology().expandNodes(this.nodes(),this.position(),function(){this.fire("expandNode",this),b&&b.call(c,this,this)},this,this.animation()),this.animation(d)},collapse:function(a,b,c){var d=this.animation();this.animation("boolean"==typeof a?a:d),this._collapsed=!0,this.selected(!1),this.model().activated(!1),this.fire("beforeCollapseNode"),this.topology().collapseNodes(this.nodes(),this.position(),function(){this.model().activated(!0),this.fire("collapseNode",this),b&&b.call(c,this,this)},this,this.animation()),this.animation(d)},expandNodes:function(a,b){this.model().activated()||this.topology().expandNodes(this.nodes(),this.position(),a,b)},collapseNodes:function(a,b){this.topology().collapseNodes(this.nodes(),this.position(),a,b)},_updateMinusIcon:function(a){var b=this.view("icon"),c=this.view("minus");if(b.showIcon()){c.scale(.4==a?.8:1);var d=b.size(),e=b.scale();c.setTransform(d.width*e/2,d.height*e/2)}else c.setTransform(0,0)}}})}(nx,nx.global),function(a,b){var c=a.util,d=a.define("nx.graphic.Topology.NodeSetLayer",a.graphic.Topology.Layer,{statics:{defaultConfig:{iconType:"nodeSet",label:"model.label"}},events:["clickNodeSet","enterNodeSet","leaveNodeSet","dragNodeSetStart","dragNodeSet","dragNodeSetEnd","hideNodeSet","pressNodeSet","selectNodeSet","updateNodeSetCoordinate","expandNodeSet","collapseNodeSet","beforeExpandNodeSet","beforeCollapseNodeSet","updateNodeSet","removeNodeSet"],properties:{nodeSets:{get:function(){return this.nodeSetDictionary().values().toArray()}},nodeSetMap:{get:function(){return this.nodeSetDictionary().toObject()}},nodeSetDictionary:{value:function(){return new a.data.ObservableDictionary
}}},methods:{attach:function(a,b){this.inherited(a,b);var c=this.topology();c.watch("stageScale",this.__watchStageScaleFN=function(a,b){this.eachNodeSet(function(a){a.stageScale(b)})},this),c.watch("revisionScale",this.__watchRevisionScale=function(a,b){this.eachNodeSet(function(a){a.revisionScale(b)},this)},this)},addNodeSet:function(a){var b=a.id(),c=this._generateNodeSet(a);return this.nodeSetDictionary().setItem(b,c),c},removeNodeSet:function(a){var b=this.nodeSetDictionary(),c=b.getItem(a);c&&(this.fire("removeNodeSet",c),c.dispose(),b.removeItem(a))},updateNodeSet:function(a){var b=this.nodeSetDictionary(),c=b.getItem(a);c&&(c.update(),this.fire("updateNodeSet",c))},_getNodeSetInstanceClass:function(c){var d,e=this.topology(),f=e.nodeSetInstanceClass();if(a.is(f,"Function")?(d=f.call(this,c),a.is(d,"String")&&(d=a.path(b,d))):d=a.path(b,f),!d)throw"Error on instance node set class";return d},_generateNodeSet:function(a){var b=a.id(),c=this.topology(),d=c.stageScale(),e=this._getNodeSetInstanceClass(a),f=new e({topology:c});return f.setModel(a),f.attach(this.view()),f.sets({"data-id":b,"class":"node nodeset",stageScale:d},c),this.updateDefaultSetting(f),f},updateDefaultSetting:function(b){var e=this.topology(),f=a.graphic.Component.__events__;a.each(b.__events__,function(a){-1==f.indexOf(a)&&b.on(a,function(){this.fire(a.replace("Node","NodeSet"),b)},this)},this);var g=a.extend({enableSmartLabel:e.enableSmartLabel()},d.defaultConfig,e.nodeSetConfig());delete g.__owner__,a.each(g,function(a,d){c.setProperty(b,d,a,e)},this),c.setProperty(b,"showIcon",e.showIcon()),1!==e.revisionScale()&&b.revisionScale(e.revisionScale())},getNodeSet:function(a){return this.nodeSetDictionary().getItem(a)},eachNodeSet:function(a,b){this.nodeSetDictionary().each(function(c,d){var e=c.value();a.call(b||this,e,d)},this)},clear:function(){this.eachNodeSet(function(a){a.dispose()}),this.nodeSetDictionary().clear(),this.inherited()},dispose:function(){this.clear(),this.topology().unwatch("stageScale",this.__watchStageScaleFN,this),this.topology().unwatch("revisionScale",this.__watchRevisionScale,this),this.inherited()}}})}(nx,nx.global),function(a){var b=(a.geometry.Vector,a.geometry.Line);a.define("nx.graphic.Topology.AbstractLink",a.graphic.Group,{events:["hide","show","remove"],properties:{sourceNode:{get:function(){var a=this.topology(),b=this.model().source().id();return a.getNode(b)}},targetNode:{get:function(){var a=this.topology(),b=this.model().target().id();return a.getNode(b)}},sourcePosition:{get:function(){return this.sourceNode().position()}},targetPosition:{get:function(){return this.targetNode().position()}},sourceNodeID:{get:function(){return this.model().source().id()}},targetNodeID:{get:function(){return this.model().target().id()}},sourceX:{get:function(){return this.sourceNode().x()}},sourceY:{get:function(){return this.sourceNode().y()}},targetX:{get:function(){return this.targetNode().x()}},targetY:{get:function(){return this.targetNode().y()}},sourceVector:{get:function(){return this.sourceNode().vector()}},targetVector:{get:function(){return this.targetNode()?this.targetNode().vector():void 0}},position:{get:function(){var a=this.sourceNode().position(),b=this.targetNode().position();return{x1:a.x||0,x2:a.y||0,y1:b.x||0,y2:b.y||0}}},line:{get:function(){return new b(this.sourceVector(),this.targetVector())}},topology:{value:null},id:{get:function(){return this.model().id()}},linkKey:{get:function(){return this.model().linkKey()}},reverse:{get:function(){return this.model().reverse()}},centerPoint:{get:function(){return this.line().center()}},enable:{value:!0}},methods:{setModel:function(a,b){this.model(a),this.setBinding("visible","model.visible,direction=<>",this),b!==!1&&this.update()},update:function(){},dispose:function(){this.fire("remove"),this.inherited()}}})}(nx,nx.global),function(a){var b=a.geometry.Vector,c=(a.geometry.Line,5);a.define("nx.graphic.Topology.Link",a.graphic.Topology.AbstractLink,{events:["pressLink","clickLink","enterLink","leaveLink"],properties:{linkType:{get:function(){return void 0!==this._linkType?this._linkType:"parallel"},set:function(a){var b=this._processPropertyValue(a);return this._linkType!==b?(this._linkType=b,!0):!1}},offsetPercentage:{value:0},offsetRadix:{value:5},label:{set:function(a){var b=this._processPropertyValue(a),c=this.view("label");null!=b?c.append():c.remove(),this._label=b}},sourceLabel:{set:function(a){var b=this._processPropertyValue(a),c=this.view("sourceLabel");null!=b?c.append():c.remove(),this._sourceLabel=b}},targetLabel:{set:function(a){var b=this._processPropertyValue(a),c=this.view("targetLabel");null!=b?c.append():c.remove(),this._targetLabel=b}},color:{set:function(a){var b=this._processPropertyValue(a);this.view("line").dom().setStyle("stroke",b),this.view("path").dom().setStyle("stroke",b),this._color=b}},width:{set:function(a){var b=this._processPropertyValue(a),c=(this._stageScale||1)*b;this.view("line").dom().setStyle("stroke-width",c),this.view("path").dom().setStyle("stroke-width",c),this._width=b}},stageScale:{set:function(a){var b=(this._width||1)*a;this.view("line").dom().setStyle("stroke-width",b),this.view("path").dom().setStyle("stroke-width",b),this._stageScale=a,this.update()}},dotted:{set:function(a){var b=this._processPropertyValue(a);b?this.view("path").dom().setStyle("stroke-dasharray","2, 5"):this.view("path").dom().setStyle("stroke-dasharray",""),this._dotted=b}},style:{set:function(a){var b=this._processPropertyValue(a);this.view("line").dom().setStyles(b),this.view("path").dom().setStyles(b)}},parentLinkSet:{},sourcePoint:{get:function(){var a=this.getPaddingLine();return a.start}},targetPoint:{get:function(){var a=this.getPaddingLine();return a.end}},enable:{get:function(){return null!=this._enable?this._enable:!0},set:function(a){var b=this._processPropertyValue(a);this._enable=b,this.dom().setClass("disable",!b),this.update()}},drawMethod:{},revisionScale:{}},view:{type:"nx.graphic.Group",props:{"class":"link"},content:[{type:"nx.graphic.Group",content:[{name:"path",type:"nx.graphic.Path",props:{"class":"link"}},{name:"line",type:"nx.graphic.Line",props:{"class":"link"}}],events:{mouseenter:"{#_mouseenter}",mouseleave:"{#_mouseleave}",mousedown:"{#_mousedown}",touchstart:"{#_mousedown}",mouseup:"{#_mouseup}",touchend:"{#_mouseup}"}},{name:"label",type:"nx.graphic.Group",content:{name:"labelText",type:"nx.graphic.Text",props:{"alignment-baseline":"text-before-edge","text-anchor":"middle","class":"link-label"}}}]},methods:{update:function(){this.inherited();var a,c=this.getOffset(),d=new b(0,c),e=(this._width||1)*(this._stageScale||1),f=this.reverse()?this.line().negate():this.line();if(this.drawMethod())a=this.drawMethod().call(this,this.model(),this),this.view("path").setStyle("display","block"),this.view("line").setStyle("display","none"),this.view("path").set("d",a),this.view("path").dom().setStyle("stroke-width",e);else if("curve"==this.linkType()){var g,h,i=[];g=f.normal().multiply(3*c),h=f.center().add(g),i.push("M",f.start.x,f.start.y),i.push("Q",h.x,h.y,f.end.x,f.end.y),a=i.join(" "),this.view("path").setStyle("display","block"),this.view("line").setStyle("display","none"),this.view("path").set("d",a),this.view("path").dom().setStyle("stroke-width",e)}else{var j=this.view("line"),k=this.view("path"),l=f.translate(d);j.sets({x1:l.start.x,y1:l.start.y,x2:l.end.x,y2:l.end.y}),k.setStyle("display","none"),j.setStyle("display","block"),j.setStyle("stroke-width",e)}this._updateLabel()},getPaddingLine:function(){var a=this.offset()*c,b=this.sourceNode().getBound(!0),d=Math.max(b.width,b.height)/1.3,e=this.targetNode().getBound(!0),f=Math.max(e.width,e.height)/1.3,g=this.line().pad(d,f),h=g.normal().multiply(a);return g.translate(h)},getOffset:function(){return"parallel"==this.linkType()?this.offsetPercentage()*this.offsetRadix()*this._stageScale:this.offsetPercentage()*this.offsetRadix()},_updateLabel:function(){var a,b,c=this.getOffset(),d=this.line(),e=d.normal().multiply(c);null!=this._label&&(a=this.view("label"),b=d.center().add(e),a.setTransform(b.x,b.y,this.stageScale()),this.view("labelText").set("text",this._label)),this._sourceLabel&&(a=this.view("sourceLabel"),b=this.sourcePoint(),a.set("x",b.x),a.set("y",b.y),a.set("text",this._sourceLabel)),this._targetLabel&&(a=this.view("targetLabel"),b=this.targetPoint(),a.set("x",b.x),a.set("y",b.y),a.set("text",this._targetLabel)),!this.enable()},_mousedown:function(){this.enable()&&this.fire("pressLink")},_mouseup:function(){this.enable()&&this.fire("clickLink")},_mouseleave:function(){this.enable()&&this.fire("leaveLink")},_mouseenter:function(){this.enable()&&this.fire("enterLink")}}})}(nx,nx.global),function(a){var b=a.util,c=a.define("nx.graphic.Topology.LinksLayer",a.graphic.Topology.Layer,{statics:{defaultConfig:{linkType:"parallel",label:null,color:null,width:null,enable:!0}},events:["pressLink","clickLink","enterLink","leaveLink"],properties:{links:{get:function(){return this.linkDictionary().values().toArray()}},linkMap:{get:function(){return this.linkDictionary().toObject()}},linkDictionary:{value:function(){return new a.data.ObservableDictionary}}},methods:{attach:function(a){this.inherited(a);var b=this.topology();b.watch("stageScale",this.__watchStageScaleFN=function(a,b){this.eachLink(function(a){a.stageScale(b)})},this),b.watch("revisionScale",this.__watchRevisionScale=function(a,b){this.eachLink(function(a){a.revisionScale(b)})},this)},addLink:function(a){var b=a.id(),c=this._generateLink(a);return this.linkDictionary().setItem(b,c),c},removeLink:function(a){var b=this.linkDictionary(),c=b.getItem(a);c&&(c.dispose(),b.removeItem(a))},updateLink:function(a){this.linkDictionary().getItem(a).update()},_generateLink:function(b){var c=b.id(),d=this.topology(),e=new a.graphic.Topology.Link({topology:d});return e.setModel(b,!1),e.attach(this.view()),e.view().sets({"class":"link","data-id":c}),this.updateDefaultSetting(e),e},updateDefaultSetting:function(d){var e=this.topology(),f=a.graphic.Component.__events__;a.each(d.__events__,function(a){-1==f.indexOf(a)&&d.on(a,function(){this.fire(a,d)},this)},this);var g=a.extend({},c.defaultConfig,e.linkConfig());if(delete g.__owner__,a.each(g,function(a,c){b.setProperty(d,c,a,e)},this),a.DEBUG){var h=d.model();d.view().sets({"data-linkKey":h.linkKey(),"data-source-node-id":h.source().id(),"data-target-node-id":h.target().id()})}d.stageScale(e.stageScale()),d.update()},eachLink:function(a,b){this.linkDictionary().each(function(c,d){a.call(b||this,c.value(),d)})},getLink:function(a){return this.linkDictionary().getItem(a)},highlightLinks:function(a){this.highlightedElements().addRange(a)},activeLinks:function(a){this.activeElements().addRange(a)},clear:function(){this.eachLink(function(a){a.dispose()}),this.linkDictionary().clear(),this.inherited()},dispose:function(){this.clear(),this.topology().unwatch("stageScale",this.__watchStageScaleFN,this),this.inherited()}}})}(nx,nx.global),function(a){a.geometry.Vector,a.geometry.Line;a.define("nx.graphic.Topology.LinkSet",a.graphic.Topology.AbstractLink,{events:["pressLinkSetNumber","clickLinkSetNumber","enterLinkSetNumber","leaveLinkSetNumber","collapseLinkSet","expandLinkSet"],properties:{linkType:{get:function(){return this._linkType||"parallel"},set:function(a){var b=this._processPropertyValue(a);return this._linkType!==b?(this._linkType=b,!0):!1}},links:{get:function(){var a={};return this.eachLink(function(b,c){a[c]=b},this),a}},color:{set:function(a){var b=this._processPropertyValue(a);this.view("numBg").dom().setStyle("fill",b),this.view("path").dom().setStyle("stroke",b),this._color=b}},stageScale:{set:function(a){this.view("path").dom().setStyle("stroke-width",a),this.view("number").setTransform(null,null,a),this.model()&&this._updateLinksOffset(),this._stageScale=a}},enable:{get:function(){return void 0===this._enable?!0:this._enable},set:function(a){var b=this._processPropertyValue(a);this.dom().setClass("disable",!a),this._enable=b,this.eachLink(function(a){a.enable(b)})}},collapsedRule:{value:!1},activated:{value:!0},revisionScale:{set:function(a){var b=.6>a?8:12;this.view("numBg").dom().setStyle("stroke-width",b);var c=.6>a?8:10;this.view("num").dom().setStyle("font-size",c),this.view("number").visible(.2!==a)}}},view:{type:"nx.graphic.Group",props:{"data-type":"links-sum","class":"link-set"},content:[{name:"path",type:"nx.graphic.Line",props:{"class":"link-set-bg"}},{name:"number",type:"nx.graphic.Group",content:[{name:"numBg",type:"nx.graphic.Rect",props:{"class":"link-set-circle",height:1},events:{mousedown:"{#_number_mouseup}",mouseenter:"{#_number_mouseenter}",mouseleave:"{#_number_mouseleave}"}},{name:"num",type:"nx.graphic.Text",props:{"class":"link-set-text",y:1}}]}]},methods:{setModel:function(a,b){this.inherited(a,b),this.setBinding("activated","model.activated,direction=<>",this)},update:function(){if(this._activated){var a=this.line();this.view("path").sets({x1:a.start.x,y1:a.start.y,x2:a.end.x,y2:a.end.y});var b=this.centerPoint();this.view("number").setTransform(b.x,b.y)}},updateLinkSet:function(){var a=this._processPropertyValue(this.collapsedRule());this.model().activated(a,{force:!0}),a?(this.append(),this.update(),this._updateLinkNumber(),this.fire("collapseLinkSet")):(this.parent()&&this.remove(),this._updateLinksOffset(),this.fire("expandLinkSet"))},eachLink:function(b,c){var d=this.topology(),e=this.model();a.each(e.edges(),function(a,e){var f=d.getLink(e);f&&b.call(c||this,f,e)})},_updateLinkNumber:function(){var a=Object.keys(this.model().edges()),b=this.view("num"),c=this.view("numBg");if(1==a.length)b.visible(!1),c.visible(!1);else{b.sets({text:a.length,visible:!0});var d=b.getBound(),e=Math.max(d.width-6,1);c.sets({width:e,visible:!0}),c.setTransform(e/-2)}},_updateLinksOffset:function(){if(!this._activated){var b={};this.eachLink(function(a){var c=a.model(),d=c.linkKey(),e=b[d]=b[d]||[];e.push(a)},this),a.each(b,function(b){if(b.length>1){var c=(b.length-1)/2;a.each(b,function(a,b){a.offsetPercentage(-1*b+c),a.update()},this)}},this)}},_number_mousedown:function(a,b){this.enable()&&this.fire("pressLinkSetNumber",b)},_number_mouseup:function(a,b){this.enable()&&this.fire("clickLinkSetNumber",b)},_number_mouseleave:function(a,b){this.enable()&&this.fire("numberleave",b)},_number_mouseenter:function(a,b){this.enable()&&this.fire("numberenter",b)}}})}(nx,nx.global),function(a){var b=a.util,c=a.define("nx.graphic.Topology.LinkSetLayer",a.graphic.Topology.Layer,{statics:{defaultConfig:{label:null,sourceLabel:null,targetLabel:null,color:null,width:null,dotted:!1,style:null,enable:!0,collapsedRule:function(a){if("edgeSetCollection"==a.type())return!0;var b=this.linkType(),c=Object.keys(a.edges()),d="curve"===b?9:5;return c.length>d}}},events:["pressLinkSetNumber","clickLinkSetNumber","enterLinkSetNumber","leaveLinkSetNumber","collapseLinkSet","expandLinkSet"],properties:{linkSets:{get:function(){return this.linkSetDictionary().values().toArray()}},linkSetMap:{get:function(){return this.linkSetDictionary().toObject()}},linkSetDictionary:{value:function(){return new a.data.ObservableDictionary}}},methods:{attach:function(a){this.inherited(a);var b=this.topology();b.watch("stageScale",this.__watchStageScaleFN=function(a,b){this.eachLinkSet(function(a){a.stageScale(b)})},this),b.watch("revisionScale",this.__watchRevisionScale=function(a,b){this.eachLinkSet(function(a){a.revisionScale(b)})},this)},addLinkSet:function(a){var b=this.linkSetDictionary(),c=this._generateLinkSet(a);return b.setItem(a.linkKey(),c),c},updateLinkSet:function(a){this.linkSetDictionary().getItem(a).updateLinkSet()},removeLinkSet:function(a){var b=this.linkSetDictionary(),c=b.getItem(a);return c?(c.dispose(),b.removeItem(a),!0):!1},_generateLinkSet:function(b){var c=this.topology(),d=new a.graphic.Topology.LinkSet({topology:c});return d.setModel(b,!1),d.attach(this.view()),this.updateDefaultSetting(d),d},updateDefaultSetting:function(d){var e=this.topology(),f=a.graphic.Component.__events__;a.each(d.__events__,function(a){-1==f.indexOf(a)&&d.on(a,function(){this.fire(a,d)},this)},this);var g=a.extend({},c.defaultConfig,e.linkSetConfig());if(delete g.__owner__,g.linkType=e.linkConfig()&&e.linkConfig().linkType||a.graphic.Topology.LinksLayer.defaultConfig.linkType,a.each(g,function(a,c){b.setProperty(d,c,a,e)},this),d.stageScale(e.stageScale()),a.DEBUG){var h=d.model();d.view().sets({"data-nx-type":"nx.graphic.Topology.LinkSet","data-linkKey":h.linkKey(),"data-source-node-id":h.source().id(),"data-target-node-id":h.target().id()})}return d.updateLinkSet(),d},eachLinkSet:function(a,b){this.linkSetDictionary().each(function(c,d){a.call(b||this,c.value(),d)})},getLinkSet:function(a,b){var c=this.topology(),d=c.graph().getEdgeSetBySourceAndTarget(a,b);return d?this.getLinkSetByLinkKey(d.linkKey()):null},getLinkSetByLinkKey:function(a){return this.linkSetDictionary().getItem(a)},highlightLinkSets:function(a){this.highlightedElements().addRange(a)},activeLinkSets:function(a){this.activeElements().addRange(a)},clear:function(){this.eachLinkSet(function(a){a.dispose()}),this.linkSetDictionary().clear(),this.inherited()},dispose:function(){this.clear(),this.topology().unwatch("stageScale",this.__watchStageScaleFN,this),this.inherited()}}})}(nx,nx.global),function(a){a.define("nx.graphic.Topology.HierarchicalLayout",{properties:{topology:{},levelBy:{value:function(){return function(a){return a.model().get("role")}}},sortOrder:{value:function(){return[]}},direction:{value:"vertical"},order:{},nodesPositionObject:{},groups:{}},methods:{process:function(a,b,c){var d=this._group(a,b||{}),e=this._calc(d,b||{});this._layout(e,c)},_group:function(b,c){var d={__other__:[]},e=this.topology(),f=c.levelBy||this.levelBy();return e.eachNode(function(b){var c;if(c=a.is(f,"String")&&"model"==f.substr(5)?b.model().get(f.substring(6)):f.call(e,b,b.model())){var g=d[c]=d[c]||[];g.push(b)}else d.__other__.push(b)}),d},_calc:function(b,c){var d={},e=Object.keys(b),f=this.topology(),g=c.sortOrder||this.sortOrder()||[],h=[];a.each(g,function(a){var b=e.indexOf(a);-1!==b&&(h.push(a),e.splice(b,1))}),e.splice(e.indexOf("__other__"),1),h=h.concat(e,["__other__"]),b=this._sort(b,h);var i=f.padding(),j=f.width()-2*i,k=f.height()-2*i,l=this.direction(),m=k/(h.length+1),n=j/(h.length+1),o=n,p=m;return a.each(h,function(c){b[c]&&("vertical"==l?(n=j/(b[c].length+1),a.each(b[c],function(a,b){d[a.id()]={x:n*(b+1),y:p}}),p+=m):(m=k/(b[c].length+1),a.each(b[c],function(a,b){d[a.id()]={x:o,y:m*(b+1)}}),o+=n),delete b[c])}),this.order(h),d},_sort:function(b,c){var d=this.topology(),e=d.graph();b[c[0]].sort(function(a,b){return Object.keys(b.model().edgeSets()).length-Object.keys(a.model().edgeSets()).length});for(var f=0;f<c.length-1;f++){var g=b[c[f]],h=b[c[f+1]],i=[],j=[];a.each(g,function(b){var c=[];a.each(h,function(a,d){null!=e.getEdgesBySourceAndTarget(b,a)&&-1!=c.indexOf(a)&&(c.push(a),j.push(d))}),c.sort(function(a,b){return Object.keys(b.model().edgeSets()).length-Object.keys(a.model().edgeSets()).length}),i=i.concat(c)}),a.each(i,function(a){var b=h.indexOf(a);-1!==b&&h.splice(b,1)}),b[c[f+1]]=i.concat(h)}return this.groups(a.extend({},b)),b},_layout:function(b,c){var d=this.topology(),e=0,f=0,g=function(){e==f&&setTimeout(function(){d.getLayer("links").show(),d.getLayer("linkSet").show(),d.stage().resetFitMatrix(),d.fit(function(){c&&c.call(d)})},0)}.bind(this);d.getLayer("links").hide(),d.getLayer("linkSet").hide(),a.each(b,function(a,b){var c=d.getNode(b);c&&(c.translateTo(a.x,a.y,function(){e++,g()}),f++)})}}})}(nx,nx.global),function(a){a.define("nx.graphic.Topology.EnterpriseNetworkLayout",a.graphic.Topology.HierarchicalLayout,{properties:{},methods:{process:function(a,b,c){this.inherited(a,b,function(){this._appendGroupElements(),c&&c()}.bind(this))},_appendGroupElements:function(){var b=this.topology(),d=b.matrix(),e=b.prependLayer("ENLLayer",new c),f=(b.stage(),b.padding()),g=b.width()-2*f,h=b.height()-2*f,i=this.groups(),j=this.order(),k=h/j.length,l=f,m=[];a.each(i,function(a,b){var c="__other__"!==b?b:"",e=a[0];m.push({left:(f-d.x())/d.scale(),top:e.y()-30/d.scale(),width:g/d.scale(),height:65/d.scale(),label:c,stroke:"#b2e47f"}),l+=k},this),console.log(m),e.items(m)}}});var b=a.define(a.graphic.Group,{properties:{scale:{},top:{},left:{},label:{},width:{},height:{},stroke:{}},view:{type:"nx.graphic.Group",props:{translateY:"{#top}",translateX:"{#left}",scale:"{#scale}"},content:[{type:"nx.graphic.Text",props:{text:"{#label}",fill:"{#stroke}",style:"font-size:19px",y:-5}},{type:"nx.graphic.Rect",props:{width:"{#width}",height:"{#height}",stroke:"{#stroke}"}}]}}),c=a.define(a.graphic.Topology.Layer,{properties:{items:{}},view:{type:"nx.graphic.Group",content:[{type:"nx.graphic.Group",props:{items:"{#items}",template:{type:b,props:{top:"{top}",left:"{left}",label:"{label}",width:"{width}",height:"{height}",scale:"{scale}",stroke:"{stroke}",fill:"none"}}}}]}})}(nx,nx.global),function(a){a.define("nx.graphic.Topology.NeXtForceLayout",{properties:{topology:{},bound:{}},methods:{process:function(a,b,c){{var d=this.topology();d.selectedNodes().toArray()}this._layoutTopology(a,b,c)},_layoutNodes:function(){},_layoutTopology:function(b,c,d){var e=this.topology(),f=e.stage(),g=e.getLayer("links"),h=e.getLayer("linkSet"),i=a.geometry.Vector.transform,j={nodes:[],links:[]},k={},l={};e.eachNode(function(a){k[a.id()]=j.nodes.length,j.nodes.push({id:a.id()})}),e.supportMultipleLink()?h.eachLinkSet(function(a){!l[a.linkKey()]&&k[a.sourceNodeID()]&&k[a.targetNodeID()]&&(j.links.push({source:k[a.sourceNodeID()],target:k[a.targetNodeID()]}),l[a.linkKey()]=a)}):g.eachLink(function(a){!l[a.id()]&&k[a.sourceNodeID()]&&k[a.targetNodeID()]&&(j.links.push({source:k[a.sourceNodeID()],target:k[a.targetNodeID()]}),l[a.id()]=a)}),e.hideLoading(),e.stage().fit(),e.stage().show();var m=new a.data.Force;for(m.nodes(j.nodes),m.links(j.links),m.start();m.alpha();)m.tick();m.stop();var n=this._getBound(j.nodes),o=f.calcRectZoomMatrix(e.graph().getBound(),n);e.getLayer("links").hide(),a.each(j.nodes,function(a){var b=e.getNode(a.id);if(b){var c=i([a.x,a.y],o);b.translateTo(c[0],c[1])}},this),this._timer&&clearTimeout(this._timer),this._timer=setTimeout(function(){e.getLayer("links").show(),e.adjustLayout(),d&&d.call(e)},2e3)},_getBound:function(a){var b=a.length-1,c={left:0,x:0,top:0,y:0,width:0,height:0,maxX:0,maxY:0};return a.sort(function(a,b){return a.x-b.x}),c.x=c.left=a[0].x,c.maxX=a[b].x,c.width=c.maxX-c.x,a.sort(function(a,b){return a.y-b.y}),c.y=c.top=a[0].y,c.maxY=a[b].y,c.height=c.maxY-c.x,c}}})}(nx,nx.global),function(a){var b='<g><path d="M619.5394298853671,313.80444441962175L646.0228861840691,311.4546901823777L650.4620913875144,327.25109005435263L656.9206186672232,350.4640880226964L659.3042908947791,355.47200105830575L661.3524567879306,358.2370314101721L660.8837985564303,360.15513493783544L662.809007471431,361.0689702018459L660.4312830693754,363.72660279493334L660.7885696688766,366.06513662732937L659.779795180524,369.38805660603373L661.9763923370286,374.8219408104094L661.4183970820984,379.8472882980037L663.7412930790721,384.7439769130748L655.9367154126533,385.73370516760747L622.5387014946745,389.06584995859964L622.2327563642075,391.56447912210604L626.1320089497606,394.8192981102334L625.7966132630955,397.937660717364L627.1620505584219,399.3575538508818L625.0416360755073,402.326796882017L622.8996395471405,403.13401857381155L618.5954027331705,400.42176628265315L617.7658160619673,395.8630744067086L616.4983212460745,395.45588474121485L615.3011008338744,399.05389601351794L615.0546918254754,402.46780522924496L610.8520997538458,401.88531814066005L607.3571997120409,373.4427596390018L608.0640939965136,337.56291279807067L608.5384133625773,316.83508354900266L606.8025548680392,315.0121749862352Z" id="Alabama" class="mapPath"></path><path d="M240.44981073501702,473.33857001002207L240.20973372052666,472.28435286470426L241.1748094034017,472.62722108725666L241.42988419136572,473.7143827440516L240.47263470102263,473.8996098180508ZM238.9809896019384,471.72690679735246L239.8931550034597,472.2435419498438L239.904519246838,473.4532488795027L239.48552320903957,473.1818634067846ZM232.89583754132377,466.7817652896703L233.67633571953127,466.37349624044157L234.1117238063512,466.49327251770467L234.3048915084454,467.4493279835266L233.6373637226233,467.89687575326434L232.7877513537724,467.53383541376377ZM230.94447360790565,468.013726518352L232.5006334247106,467.74033239514677L233.26686392379438,468.8105525663915L235.20404148609,469.6434582798637L235.9911029769058,470.28696782558825L236.2575880360404,470.9534220224226L236.66664846315803,470.9667777505118L237.0224184030631,471.8297431782959L237.93697634089006,472.50263436034896L238.28016837259742,473.25584780966216L238.60412749622657,472.87992764742955L238.9874350902054,473.4297336029205L239.89289097172303,475.80605243153923L239.82507219939288,476.4349069766892L238.79174335656737,476.67394415304244L238.10543235909046,475.5459027129643L237.78855464500305,475.76588108801144L236.7611777419828,475.0900960559714L236.64843393368764,475.46699641828184L235.94334898046912,475.36038664022107L236.34284484600983,476.24646377367014L236.8308765107266,475.8213590666992L237.31490128805382,476.0376084249615L237.55693988039724,477.3526618854023L236.82416290556128,477.4444382991171L235.2623961320455,476.18531383967286L234.70483612966274,475.4627558122674L234.48781094679353,474.592148376329L233.6935228509086,474.92278742366767L233.48635700557435,474.27467892787104L234.08470884591904,474.0073166770723L234.5158954321436,473.22756781816435L233.91411995530433,472.2931169187857L233.11734882173374,472.3241906754048L232.4774555035267,470.72314188649045L231.94863743883855,469.989102693517L231.63730830000858,470.7273431744123L231.15496726255935,469.86487369219003L231.52733421484336,469.25803712654533L230.77467417003726,468.3307703468232ZM232.01454391921567,473.12578759408217L232.82000779096137,473.32174065360783L233.11952431037264,472.66207840717396L233.6585995317863,472.7522346426747L233.4716521003338,473.8281401244682L232.62984491901622,473.7954770575015ZM228.73492599803544,464.72342059130585L228.05991748466846,464.2570061327339L228.4883109038753,463.67280007037675L230.50604776658238,463.6731084571234L231.30932398971396,463.37556426093937L232.26290431358407,464.34714413288106L233.63862474910465,464.94982560774866L233.76481079439063,465.701671955242L233.3276768701282,466.2622297552361L232.5035481932117,466.3441095307365L232.10351075685227,466.9643998732983L231.26399051120842,466.93334148373657L230.52331953804747,467.4700776403896L229.88996363619572,466.05287182227755L229.6624123821872,465.071472626809L229.03649364488626,465.23056238332583ZM228.8950737812239,467.75337971823126L228.27642722253196,467.41836772322245L227.45493760874567,466.5440991722394L227.15889603274488,465.77175815342855L227.45465237961633,465.2691046717986L227.99958225132588,465.51471837705355L227.89215433568197,464.83457347512615L229.5866403025667,465.5467137187979L230.06256850935137,466.60016347417053L229.63626248987123,466.8844987009061L229.71978478178815,468.2109185326043L230.16699121467656,468.4468376173131L230.19833706985324,470.01449097493787L229.56977675407504,469.87159770733314L229.76831591503117,470.785672051472L229.28766222810026,470.44600540644853L228.54310441339334,468.76182688985415ZM227.47267522869396,469.5356866367464L227.5747144720294,470.2910887637029L226.9753247465692,470.0210272580886L224.86711176614847,467.61363342573617L223.8185945291452,467.0208069258846L223.91139261170315,466.28474727849243L223.13720432958505,464.79014971357907L221.88184003107932,463.76731381332L222.43233988169544,462.2667191122945L222.98672795092213,462.6672343062635L223.90024163047644,462.84982052425914L224.63992401982557,462.70654135949343L224.9544155124372,463.6988534279097L226.63767455066602,466.75348827814025ZM223.56898718142457,457.44397033926094L224.83090674773985,457.5884326726906L225.45812908125515,457.3213590720683L225.56990141418007,457.8129520391001L227.04218738537128,459.23621282582724L226.30357676868465,459.16485586810705L226.3199557998609,459.7985231523417L227.30712441074374,460.4697575309267L228.01899447733473,461.97719441504125L227.42905840234124,462.6116653245891L227.35844380270663,463.23436903875324L226.53579177511693,464.7234886037641L226.17186150994482,464.7957440847817L225.66213282857416,463.6375133906188L225.68552122954011,462.8435569721803L225.25453243703564,461.8113199570513L224.46009135859038,460.6253445616543L224.3274993962191,459.9155768956701L223.5705337302997,458.30540402180964L222.9228281874362,457.71093938954874L222.4309063092024,456.50812064416186ZM221.37506959499643,464.170997726539L221.85749586154895,464.035271932853L222.6826497439182,465.03215076394076L222.6843785737181,465.88964577306166L221.96562226408133,466.27873404246645L221.728899677962,465.0035456735654ZM218.43008229785906,459.0260677539708L219.43657879916788,458.78574246352554L219.9328391264438,458.0502120356176L221.08845817943973,458.54355611677204L220.81669940992168,459.51703799683673L221.08686595734557,459.77625295586216L221.2926076583455,458.7092026625285L222.52339016624757,458.68924285646955L223.36045740682815,459.19169954150357L223.36166219409142,460.5388049643198L223.6842725674248,460.55608287738823L224.55835731750773,462.0942687318907L223.74575311366553,462.5958713881639L221.72021513042984,461.7236943393413L222.1689286649888,463.08880779617726L221.80772691462062,463.7882703677639L221.12837545030735,463.7182737955269L220.51758807975216,462.9570053348767L219.65425452780792,462.56236565884524L218.78996768556019,461.4959530572627L217.96206530956138,461.1246599848101L217.7283514664012,460.109238790319L218.08992461032872,459.6396915055162L217.99997159637624,458.73385745651984ZM180.6695518561532,452.8510929471005L179.47332030701972,454.63382170297564L179.42954724330554,455.28801658407576L178.363660465346,455.8225110929213L178.50223596275413,454.79912247984214L179.59085857012317,453.6472789983394L180.21638212601783,452.4283916221354ZM178.87780610707776,450.53978310377454L178.83448841491168,451.91591036786605L178.50965204381214,453.3547054228132L177.8310427371705,452.9484877140301L178.20909090152094,451.2895224767742ZM172.27670325148347,387.8802065483302L172.5365068469119,388.1381224964199L173.73253782769325,388.3019617041878L174.32879619585773,388.0623126693619L175.17612204786,387.9687877867716L176.12572163806487,388.1060849551881L176.64905314730137,387.9008642087698L177.24294547689735,388.35833561574606L178.2816717673112,388.8264988418426L179.59715499386496,388.78741404442854L179.9046822990325,388.38773268703085L180.734643911052,388.0518310642368L181.033877228687,387.5438342930411L181.9526754985167,387.3290696915697L181.9902811175196,387.643659913739L182.51300913774287,387.38118655436455L183.73252369932683,387.6767581627334L184.64473036477986,388.3400445655054L185.43968222193607,388.591366064595L185.66319472812114,388.9087743726129L186.342984694267,388.85477816961554L187.08525157226381,389.3240616562749L187.28239251439123,389.681161345082L187.60649059001292,389.29513769652795L188.12500309305796,389.4447181931254L199.98178514494336,449.24312321511684L201.56229145461376,449.47388589593675L201.63681725465975,448.871486135466L203.34832937519934,449.35606669327314L204.04413606503823,448.1391789828331L205.93165450202096,447.6067412530922L205.97689956498527,449.4022692036946L206.5987644234779,449.88712480989784L207.8244967124544,450.1931906381289L208.2825594156798,451.0452371594948L212.37040207107344,453.59871588513164L213.4238400787193,455.59261405155036L213.86051734324838,454.8504060755975L215.01622949451095,453.47203438336857L215.8020412289473,453.2254417511026L215.96649112999657,452.36252972416764L215.62207792779125,451.2273798306751L216.18165530836472,451.07541260077727L216.0464042878397,450.0321375883237L216.96970822123598,449.5161442339205L218.19588702582138,448.2362021729573L220.06140142846067,449.3039153596626L220.18541955380937,450.2411166336382L220.79774848741522,451.03483120170887L221.6804659808515,450.99759327462806L223.1186580017393,452.027237625147L223.16335525733302,452.4266966515462L223.85920283262064,453.00308217485525L225.43858715290617,453.4163295377423L228.75463409041527,456.3174232525685L229.38855546619035,457.1685579707207L230.38609155876844,457.8996191507051L232.1018410831677,459.6751753421313L233.7314498636988,461.1331528345071L233.59943699162184,462.0113586849341L234.757900301672,461.92023538737794L234.8719112303064,463.0947181509581L235.89204179571607,463.2370072247147L236.43764253218126,464.4525245524715L237.2867294583634,464.0803506789814L239.4152030246081,464.7704774483317L240.5424677910164,464.62935239739585L241.30411090295414,465.0378671642874L241.88778145814956,465.01376526981613L242.26109799528854,465.5636463291726L243.42505897149113,465.3202763291847L244.03954576947535,465.93135056545384L244.0506731613103,467.4972813577445L244.5545052668669,468.6093290207142L245.7559747860128,470.30001531616125L245.5511140188668,470.9131315626571L245.34631141295637,472.93934259737995L244.56630661015177,474.63890577372456L243.98371551030877,474.1278317606001L243.59153287954598,474.4988251389339L242.79995110181721,473.3386714623623L242.70195592136247,472.76506351085203L242.0864279491354,472.2636998350792L242.6489929374169,471.2989747326633L242.33382387647083,471.1466039323927L241.83150087591025,472.2790650813572L241.1969055962743,471.89728377713664L240.8050257252786,472.37832279221965L238.87224154253371,471.5371428123268L238.85103527304238,469.87561611526564L238.11199182251772,470.7007117487526L238.33040942491732,471.4590515278446L237.4053958624139,471.1322276317893L237.01002151064722,470.47204559098464L237.23886262949787,469.5230892293401L236.82024326931025,468.7951346657423L236.35630199234276,469.6721726920935L235.2044559467814,468.50954540083126L234.87876474999376,468.9207188625504L234.22948045258258,467.85218721964145L234.63880184244897,466.88421905313567L235.27716594357645,466.66932144457326L234.7800528945499,465.81530758826756L234.71356263708947,464.51272253093344L234.2043124951653,464.72252755755966L232.78610545887676,464.0613402183402L231.62331593385602,463.08436945786013L229.56466271388854,462.76879720311L228.8059038846082,460.26079923334265L228.14297291273311,460.13222702585324L227.94552483135766,459.0651218644806L227.2788591148344,458.97405335911145L226.00162794763554,457.86766539457574L225.54494036074794,457.2194748026489L224.01404831918936,457.42297306780756L221.86472010812193,456.0381343888975L219.92573752353513,451.88850855104505L219.89809646250538,452.980931534323L220.29822551540582,453.8376683878736L221.43867838827532,455.37684941318446L221.35844638792986,455.69953897833375L222.20134379172427,456.98742077831275L222.38393818828817,457.94432205739685L221.6920828628654,457.92136978284526L220.88930869169675,457.03156829849706L220.17503208151356,457.0487354183684L219.31712830259846,457.5887369395483L218.91969457132237,456.09620063853026L218.00228751111567,455.008971376163L217.5901523549446,455.5322035573527L215.18690321751558,454.76464432174845L215.10948509327278,455.1936645368798L216.34312847394347,455.3120254957317L217.49986498304835,456.1154535722439L217.8493255011262,456.05709268016005L218.1852004591701,456.85882270081555L218.90261441658063,457.70404773393926L217.91668520400458,458.5704095609162L217.15369761249713,458.4043813844175L217.36819724991648,459.27639833425445L216.32205484523683,458.84869065993814L215.90437095230394,458.43872253916373L215.36155955217964,458.580527282297L213.54128121235814,457.71222292843174L212.1649630362052,456.87142722419946L211.8936900627869,456.2353901466193L211.04643269528296,455.40749588347563L209.20334917464453,455.1103713798122L208.10673342500792,454.5914861938083L206.3004091211232,454.11747393614064L205.05993313158655,453.5448213391639L204.9566685076888,452.6479226051424L205.31772839630048,452.86307345139187L205.54582834540327,452.22395951627L204.91645438344597,451.03814251970124L205.1975029012362,450.24002274056494L204.91874775420547,449.97051805419864L204.4256342605205,451.47642667153895L202.96177858759143,452.70681056031196L200.92377789605698,452.7929054724462L199.11070385461647,452.30502427984806L198.91902547647243,451.6831367635178L198.1738643035538,451.9703518498807L197.26431737466862,451.6637419296451L195.348284872752,451.5682129092888L194.27303845936297,451.71638197782886L191.92463560858462,452.46401525541836L191.10034357292804,452.84671927934176L189.8701443000531,452.08732597755255L188.4566019480845,451.8564405758858L187.95594332662336,451.3462386217376L187.66492462213867,450.40714434040115L186.75067938457966,450.60463221803957L186.55034496908968,451.5015401505164L184.76034988505037,450.57297887448635L184.43693530667173,450.1062460629895L182.85562606542462,451.2365676772937L182.15695851247918,452.4371921234371L181.69103621274667,451.4403560677127L181.9773600220057,450.8301049908425L182.4824780531227,450.9177220744968L183.99755014881282,449.97917045033864L183.71991043824912,449.4336686925882L183.00737191776938,449.8079526773511L182.62517655321835,449.0927383946099L181.92031983131253,449.0646528093043L181.02108352921593,447.24810476103397L180.81367415659022,447.7404697419373L179.87574086916544,448.09235106363843L179.54005507768636,447.87387555332555L179.2737469323815,448.5147121916596L178.04431865587281,448.4175546627048L178.05643089892175,449.10217573670303L177.25847100305128,449.35605919419936L176.85487432915647,449.13951575993036L177.02296693450268,447.8979949771663L176.6817188520214,447.96436008104945L176.24040059882543,449.3010354165078L177.0411815714533,449.66413863709363L177.19370530611099,450.5885570079011L177.75623653858509,451.54800112715895L177.57273089752795,452.6471777570943L176.92505475973596,452.3438712546825L176.79561695375506,452.89617245667733L177.41415666045606,453.0582790368471L177.87941047027283,454.4596012445721L177.03388236819987,454.8232915981384L176.52930250965522,454.5779819908306L175.79700302911692,455.03519986093823L175.3797064294429,454.74415949008323L174.36855032056732,454.85781424479575L174.36405386432781,454.3176356147473L173.9107456022205,454.71124932333345L173.6924396217476,455.41141173752595L173.22218476000532,454.831987878319L172.74574930551967,455.7287180965336L173.00466979750098,456.1074986369792L172.28520768946382,456.6591039251451L171.60776126847966,456.77354346101345L171.37926229200136,457.4713155760169L170.67527373593225,458.12410669729826L170.15786261994828,457.936789255403L169.63538196973985,458.6840203703686L169.18088089059253,458.67100220859413L168.30571836735984,460.18718275187456L167.28899217910404,460.3386538304386L166.9423477419589,459.88501439277985L166.35191817478855,460.69823765022966L165.05399391784815,460.1304353592421L165.3102193347469,459.0080912308024L166.1303016587311,458.5849922003001L166.67600921498354,458.63680026712336L166.82221604531307,458.1996857670142L167.76051348972442,457.29806712934226L167.7653063266435,456.5785202455268L166.52824807245958,457.599625677287L165.44626466623563,457.0623766191996L165.30774752372517,456.6713894534274L165.78881041015768,455.00144576586683L166.65075897550608,453.7831456604418L166.75411129561192,452.8081031904862L167.01114499462378,452.61797212421993L167.0738714813413,451.57240355820034L166.5734010982242,450.4416401099066L167.6521914204523,449.9650984751568L169.64892642377657,448.21185667917274L170.185525541093,448.82992482372606L170.83609685915937,448.9720850014612L171.74410715388711,448.2318064644461L170.63888233086504,447.3999556236827L170.18763425620793,446.7423474101674L169.36944890524643,446.8594728374871L168.77061514365326,446.56668104807085L168.61375208369446,446.86232350797394L167.65798857192033,447.37507666102056L167.24973272381004,448.2921168406669L166.27451908493774,448.54724220183914L165.2898761470787,449.6249879416598L165.20797731665326,450.31080496855327L164.4345290884276,450.6941196421951L164.28122582254196,451.45343361059633L163.732715770074,451.93544042998724L163.50162051334092,453.27119958648603L162.42300036684867,454.15720370168924L162.96975348989332,454.828988390122L162.5446138819337,455.8441051618041L161.5105359505116,456.04149503659806L161.4395937403813,457.33626961200576L160.4723389828274,457.81511879262325L160.161162737016,457.27894931673563L159.68163737452963,458.2886065713775L159.10335003333626,458.3273769817699L159.21475322185992,459.0455734767376L157.92619516049172,459.4782289221183L157.6659828388054,461.4536712689905L159.15163939184174,461.5608372565747L160.33058736851862,462.09219320745535L160.6683879264785,462.735559108765L160.19760622540102,463.7817997723037L159.40399560215832,464.43361057195153L158.66075806242802,464.4718838550005L158.58710345847805,465.04668349315926L158.10244970979468,465.2622423378118L158.3262847486232,465.9806607987682L157.8187693147631,467.0575059266689L156.7214553730678,468.05796449546955L156.09838723525306,468.0527749122134L155.48978908293265,468.4051655780762L154.9046679682634,468.3253826010978L154.44433822716653,468.7130891607848L154.56811460566016,469.25378073671015L153.7083144247021,469.5254529178606L153.52091507457177,470.3116188323285L152.94156562428861,469.79613638165256L152.25447249401003,471.3232498359168L151.16628896517787,471.1845510795383L151.21769347596793,472.0120718084577L150.5718438999544,471.77601314657295L150.0987057337081,472.1189300898563L150.0594908135081,473.23079220697815L149.259738012085,474.9248462148861L148.0642261967702,475.0913586998395L147.05375216860062,475.83543955003904L146.87683189398965,476.2579195037442L146.28203068735013,475.6178593373481L145.13771801301493,477.209411659701L144.86953723517183,476.727399809094L144.2732384506812,476.836625107281L144.08047652605032,477.7593073379534L143.4481400900808,478.080047945838L142.72837429411373,477.8904270805072L142.09439363059903,478.7826536642101L143.08440884051572,479.13502306564266L141.854772712339,481.1378497986578L138.64756434017482,481.5815302702861L137.61349245732112,483.32943990749305L137.425603116664,482.91789674417436L137.6435730798951,481.78572159426596L137.0388950010379,481.5535863922975L136.22026799458277,481.91214941386636L136.05767996831145,482.36506887311646L134.76191936567545,482.99893124318874L134.15454231898624,483.8034574147728L134.0533557112646,483.18146906980405L133.65951076168923,483.8620751013L132.98103441239172,483.324603401179L131.51136037439957,484.2846971146319L130.504667628076,484.1364949898218L130.7425823209705,483.2982998852403L130.39353343560123,482.4292857488404L129.91352663924636,483.05899895779345L129.8710294782653,483.77528625987475L128.25534125851593,485.78273635882834L127.85349081003069,485.1922797460518L127.60979916862891,485.9918298484673L126.69167201127544,485.73152301940763L126.71399929465152,484.43478122598196L126.18485927228284,484.0770920404829L125.92191983190415,484.5120495133512L126.35413319638008,485.146455666235L125.99447751563392,486.0021725321018L125.17946341557331,486.36363102557243L124.74405214068645,485.29328085689406L124.0637766079683,485.1272549991864L123.88754965219928,485.5003082657783L124.50087274767142,486.1633545620098L123.10720359745093,486.9085707069361L123.9313291363114,487.27718861321387L123.89289339696032,487.705389726564L123.22058728646252,487.28609557560355L122.13536830805344,487.9980620486901L120.27399589785355,487.6841572475113L119.26307804656068,488.1067977874714L119.11428347357905,488.51798091301845L117.96520974774046,488.8419512130986L117.21187602804332,488.53780306628084L117.1435580462032,487.293656102124L117.98471928145239,487.0329872281246L118.80990423619241,485.67991087694736L119.58835425244752,485.7671469519503L121.40069064574841,485.0675903297485L122.74508413927228,485.2294455654715L123.1213502302191,486.22369515257407L123.60344436803729,485.6050491043875L123.63223150203738,484.8136793465872L124.45132583006304,484.56646342260586L125.28146182516915,484.6795671850245L126.61710922105176,483.1221706179134L128.03579534304797,481.7499658681204L129.7969694301949,480.59217743184837L131.7365641757133,480.2003979826341L132.4816084418812,480.5697372409717L133.27914017115464,480.2573706046699L133.4192672616679,480.8483705404683L132.9334548822436,481.4464450365249L133.34184309556053,481.9931894504137L133.5622465145246,481.2233071750722L134.50788238024376,481.2461071979269L134.71892867070693,481.77083488282454L135.2824294149926,482.0049465618794L135.35992428365745,481.4003702076486L134.4538234110684,480.77261691593185L134.40944654557038,480.40806948209314L135.2080056288168,478.7932733939322L136.14759145959613,477.9097662538693L137.37181232876108,477.0842946525933L139.24402427707628,476.4141034091196L140.64382385695208,475.3354343438208L141.23630051865385,475.8106099510294L141.7563977525908,475.6677661574769L141.59510012548844,474.90117096227124L141.8009567101874,474.1963553543318L142.88914757158267,472.7599184078431L144.29647629013218,471.87783156894136L145.44333364622318,470.6499152248071L145.42608666651847,469.9298770518339L146.54819820755176,464.88399302527847L147.91491992490214,463.58471586236845L147.8174181421184,462.5013223313715L144.6296059156918,463.87619529396846L143.65902116032018,463.63500412268L143.46113142261092,462.97400284917126L142.92706220543602,462.649869158085L142.7926526401188,461.9203713809301L142.27338045780013,462.20773030982605L141.87918906872056,463.2956193739229L142.3163009166442,464.7316132868007L141.6201829426629,465.2934020071097L141.05840732428118,465.0351095251803L140.12132726930693,462.72732290932333L139.459399651941,461.5548869186713L139.07419073830766,461.52189539202357L138.74524314388327,462.3226136027602L138.4011599387182,462.436431252486L137.96607567076217,461.71183676529336L137.37045174920337,461.5483303992397L137.2010868433885,460.41360298141683L135.28369187958992,461.4864014554243L133.57146535972967,462.20598286861224L133.38695071672555,462.6914534147844L132.0272553017613,463.29514476485986L131.48014425564884,462.542956806192L132.14367999492464,461.82597266353696L132.1613639199187,459.94704430154536L131.97866974452083,457.93515079005766L132.90462519387097,457.2126388594383L132.41769299709117,455.490762121929L131.94247410948066,454.4921245869846L131.6495948670159,453.0800519415142L131.03448741878893,452.4228600598332L130.7071682069586,453.57643556295557L129.84301565932427,453.71716173185865L128.41231079221427,454.28437830188113L126.76918901515921,454.3764787214366L125.91027127474538,454.1761789707731L125.22579624335324,453.67198515893716L125.29659000642457,452.6284681620477L124.71320327510102,452.21002455862657L123.94242574977602,450.6309182043572L123.15262961589313,450.20961104820526L122.4450996650964,448.4865155766712L123.22056657133658,447.88914437177357L123.57786243715485,446.60092746467956L123.03358130700303,446.8006680675139L123.10376195767742,445.974255878284L123.45641404527588,445.34159312360174L122.93094156168581,444.63226945526515L122.75319336147211,445.2579539493489L122.0320831681552,444.87685130656035L122.1242531429155,443.7620107521334L121.5591332202108,443.5152359767521L121.37360150187712,442.71497863164967L121.55708947749605,441.79888057531815L120.8940407439577,442.11592283079636L120.95686361399515,441.2141531738346L121.7122222256996,441.13326674303113L121.31144966259959,440.03750597817617L122.35193395221609,440.1533710028587L122.56700730338821,438.9511152625051L122.95871704919617,438.18178115327544L125.28222565224456,435.92267264924783L125.80105131739428,435.20837309972507L126.05271298362624,435.3954804952184L126.07228099515149,434.27069949255895L127.08396916228884,432.50826090188184L127.80802142224407,431.8607857590291L128.98577037410337,431.7168182053651L129.81251652891484,432.1673933231561L130.8784828130801,433.48172071892475L131.69967554412017,433.4509630075426L132.95066384672458,432.49614703165764L134.29295629691632,430.96797615082374L134.88442348316576,430.86039509990724L134.9748466136819,431.30511834518745L136.33852757509578,431.465831786279L137.58306001727928,431.2431044684264L138.8396177162814,429.6078041128848L138.88339197764182,429.1796685061756L138.52289077421267,427.4840758045087L138.56221218265526,426.5150140296408L137.85675427957426,425.3937727400517L137.6487954909002,424.4695195132779L138.4477799725995,424.8090976933809L139.30588039530608,424.1426189619556L139.42470243525213,423.43466243956095L138.5639855879458,422.0117940540446L137.70937572628947,422.96247240847356L137.03269151524583,422.7051000743904L136.31376065331017,423.1974498241228L135.55247258579044,423.24922322169544L135.32152583054724,423.61759922298756L134.39615618613246,424.0778897944899L134.01143677360793,425.00344135548545L133.53024191856383,425.3375830466409L133.48310824907787,424.1744167393617L132.99834963154876,423.8555831842517L132.509360977796,424.6923347848373L132.35482987756316,424.2365888132003L131.4862353640964,423.4610269505746L129.52103964617186,423.2005582283875L128.00905641342428,423.68388459227214L127.45870368825115,423.7016607290411L126.39108678853803,423.08363484237873L124.33043261577652,422.20400650822853L123.84500601529598,421.7122420215887L123.70952494547328,421.03036741245666L124.07094700363645,420.1876877819722L123.45248103889367,419.30387353116953L123.7568247881339,418.52412987271885L124.31053870494839,418.19278164993085L124.35728574495396,417.14539366161387L123.6087908185209,417.00098899358323L123.04861912015585,416.5989942040081L121.89242924687713,416.1462162096849L121.3748444823861,415.49081282708653L120.52818755221247,414.7627059310423L120.5844843455694,414.0799242031555L122.25302626537959,413.51900031379665L124.41299421335219,412.4228523180386L125.87942535691437,411.79487600078755L126.530065512513,412.42416166441075L127.26902737370982,412.66691691810945L127.56587858066648,411.9943458495363L127.12878237302175,411.80717539497414L127.19407105463712,411.2022072133256L129.16569378434994,410.5335265911993L131.30616546995856,410.1253023128222L132.40335013814618,410.2228323642097L132.95964827424334,410.5585944895241L132.49008650550212,411.57100152909624L132.4933398527507,412.32943109804546L132.18513000664538,412.8248216053701L132.44638189027563,413.73046822368883L133.18699235337147,413.6942388700231L134.07476337170309,413.96396866526084L135.15131439023963,413.9296937600256L135.41243224123176,414.2883115592179L136.09707067895707,414.4484842963884L136.7438334214264,414.20532533786513L137.49617573409952,414.65609376177645L138.4257061928494,413.3260944022679L138.9796422034252,413.31660159629905L139.3223153619342,413.6416256605899L139.59740521108188,412.8454820200694L138.59623496499168,412.3395289206826L137.5583699454841,412.5417610616053L137.78511702719976,411.4906079552712L137.1435951461842,410.2628496647989L136.3425052523108,409.8023049124511L136.22267306405678,408.74431673072786L136.91160719105685,408.5811659567836L137.62596832471786,409.71121386087543L137.37172711347557,410.5065015180545L137.70533672085293,411.19362487436956L138.51443314997127,412.04282986485936L138.8167104877892,411.2871996578582L137.91721846879585,410.1413011253415L138.56935186422157,408.3518186260929L138.25828596729386,407.9923254156827L137.2212789911289,408.26089123950595L136.21720859502622,408.0248352561375L136.1058723881594,407.6868127321606L135.548734632006,407.9360306203948L133.5349425007866,406.86000393711623L133.6133396908752,406.04365061319567L133.2527513505627,404.1543232958007L132.85275766337742,403.4092989679271L132.14350035154706,402.7217300624715L130.7879084933704,400.9133567837969L130.15824780686566,400.1921293444222L129.4529978057455,399.9229695317662L128.56137253394886,398.67735668105126L127.62374456728006,397.8854520555877L127.61182928948263,397.6664035527885L128.4558843680203,397.50276579833036L128.99034436133658,396.5931308416352L129.3790565410135,394.6482885429056L131.43552704048952,395.1605173426691L134.03206661571727,395.1200536726755L134.74138761651346,394.87101274380836L135.92401523043918,394.04507843065034L137.11607025299205,392.6792339781354L137.52426556448202,391.20357416083897L138.1114105610115,389.9668282902147L139.09657119912887,388.99488766078036L139.55611498640008,388.23739681757974L140.74304312952054,387.0720219732332L140.86060720079038,387.4397976084054L141.7054530407806,387.6428956221988L143.0240814930848,387.11321839812655L143.8739550123594,386.49282167403277L145.91944459473538,384.49666546409213L146.6234229280361,384.44953458700076L146.6702065946432,384.76964719585015L147.39742966979807,384.58000060957926L148.08845191664184,384.7004673304807L149.47465408656743,384.510450865123L150.86666542610317,383.64185637547826L152.27288848419133,381.74802614301484L152.81845514768165,381.35079520253174L152.8990445251855,381.70328606677606L154.89120472754047,382.5687980630349L155.04413309122833,383.13188779404226L154.32314928395516,383.84865150406597L153.9998340556908,383.874383023329L153.98262895711377,384.85474592145664L155.0235318815484,384.5666568363001L155.09518008676557,384.04294103514104L155.57065375457609,383.5627139903086L155.72050094132334,383.8454562199891L156.08405335777164,382.732152221127L157.08221174417298,383.7584885186056L156.90774515084973,384.52706493525085L157.54223413947201,384.7419729834212L157.9132903469417,385.1989242942789L158.46672981942658,384.463777054535L159.4374091523128,384.4245168871052L159.98583905016133,384.17415923190885L161.40260575825664,384.3960710882516L162.12879253397057,384.6590965095054L161.81654555385632,386.1745719502082L163.16316737150274,386.5224750785161L163.27336243275013,386.90508428299563L164.6055633430553,387.5221351160932L164.60439586737732,387.2058331721887L165.5241417843084,386.74214720470263L166.42688072620314,386.73046189188585L166.45833939351485,387.08032374729464L166.98506732039013,387.08557509428624L167.50359530210838,386.56186620678477L168.39847943447697,386.4330273231147L169.04543968322753,386.59847674574775L169.95011913467116,387.0581634876546L170.3441672804379,386.92095057701204L170.97967274346908,387.6082252571167L171.28578933664156,387.29965395579165L171.8425665236272,387.46154981727005ZM161.97378893820303,468.2497836208908L161.95945205159992,468.537304060075L160.76280666395726,468.1222706716161L161.58838781898663,466.4239998524632L162.35441135773362,466.2680058131446L162.847927036351,464.71400136715874L163.45556939007855,466.06615203972115L163.9306228162267,465.58786201620546L164.88623771480994,466.3166738090559L164.91633730866502,467.3576823440653L163.54541370020718,467.53687273262153L162.95202863321668,468.0165977047218ZM158.4606548481068,471.47411679215065L159.4528878444612,470.6098551727685L158.55539267758246,470.43303125237617L158.5356036557099,469.6791392143798L159.2750807800303,469.1746081078014L159.80865262389744,469.53080335904144L159.88978975823997,470.2842043020234L160.1907396453386,469.77933776193925L160.2006294531653,468.6662087778537L160.84981703821583,469.1626593883594L160.95538940068192,468.4433210480363L161.5287880311206,468.866915396681L162.21089316066795,468.8563668934351L162.73378916268763,468.45187621741803L163.61950450689443,469.1154861962248L163.6633591001806,471.01768973282384L164.76855407333963,470.84593093037523L164.07333283330965,472.1209298464673L162.71860805062127,471.6478648315923L163.2345943811792,472.46322761683666L162.86294277140817,473.1527790230626L162.16276535421298,472.8423001482122L162.1646373319263,474.13432199288474L161.1028311418983,474.5081540641905L160.75896435512945,475.0501956136431L160.09360311330894,474.5538172340268L159.40083293907787,475.9213782649171L158.8543299426241,476.0667459230883L158.2679546264928,476.67717021145336L158.05408209823236,475.2062015234063L157.232711246129,475.9931270524163L157.1958511936983,475.52657862879875L156.45864448360982,475.05551732177184L156.41105323086927,473.7274757813193L155.70117840709528,473.1823137293093L156.12113171224624,471.64326872136144L157.52438245607271,470.6830838698851L158.3837953027673,470.75622645793464ZM156.39925029891154,477.60203011761814L155.63704414008023,478.92163999867563L155.40233974557114,478.7037397632025ZM152.3369703295404,481.9818528458338L152.91624399735485,482.06712106010235L152.68449928487388,483.4239417296322L151.7222673910383,483.2206409826286L151.57410180707387,482.7505883340953ZM136.42579942545655,485.2756360463392L136.07753970570556,486.6465454986964L134.8268211544788,487.68164684367565L135.54151256530236,485.9865539487306L135.91220639166858,486.20023647555394ZM134.14135328994678,484.55798184245805L134.8296686140603,484.6248035303567L134.74115298335983,485.3358621166589L133.97356169609856,486.0527574257491L133.41669891584684,485.457398555672L132.97953163712845,485.91675288973835L132.88108709516894,484.6826290437319L133.12388086189026,484.3116168656932ZM127.42733070796763,486.2937629265021L127.438041097654,486.8722732642231L126.96412047986756,487.17351938499263L126.71392391826255,486.52835289888435ZM134.00403984929667,429.9551879058386L133.49612446214687,430.54093202704905L133.4282741815267,429.9533058016007ZM124.96419377174469,489.22308048151353L125.73650053275713,489.57737011024983L125.5844937734605,490.09864377145317L124.94765751346748,489.97868682971944ZM114.44511891935048,488.86501333266676L114.5837723372034,489.65168471679095L113.9492900602597,489.8669188097285L113.88020749725929,489.0557097915289ZM113.56090848523445,489.65260429079444L112.27532461081387,490.1465701293884L112.11769723922323,489.60865509306007L112.72906999040958,489.06642467102694ZM118.73066602140264,449.27898160642707L119.50456566445766,449.16747090239517L119.57594737816746,449.6556668102787L120.2377604219705,449.666811978169L120.78755891387576,450.203507544832L120.58340392255928,452.0651013798952L120.1422443916014,452.6070627455049L119.25039306155176,452.8109731454663L118.95733212877434,453.4148477379288L117.87234852177488,452.481308988384L117.30261796903993,452.4091208940729L116.2711786304597,451.255820904011L115.85137018898374,451.17218615043805L115.25964317529292,450.5027665860142L115.18871228556635,449.6080256568836L115.5788905839366,449.4675766262132L116.71747245206285,449.9154719269172L117.40435005790582,449.35431744350467L118.00755272265295,449.3976205569246L118.35509496393306,448.98840897898367ZM110.99399703663478,490.1264569217939L111.52367339974063,490.7347860483609L110.03028125631961,491.6897183394026L110.01087163586908,491.9042827420958L111.77920850172453,491.3273695549159L111.70926511146395,491.82323275677305L110.95164770469081,492.3003518886758L109.83417780884687,492.48889989173085L109.61532080963067,493.06532721951044L108.36096253531105,493.47680889227496L107.36838817962882,493.31628742698484L106.59784132261612,493.7801755673233L105.27119702233067,494.0542628916436L104.73740543364332,493.3587725223725L106.15368414386074,492.96042589545357L106.53010587135068,493.14683863807744L107.60620800151808,492.7810681165283L107.50273301978446,492.1045323684336L108.1775667215619,491.54705957590687L108.92810108751561,492.02263342056284L109.09357105935842,491.61805563365164L108.24709381488708,491.3058544629098L107.86015513841247,490.75492050782043L108.42859342814086,490.06658402019724L109.98679991799276,489.8980810073079L110.12905429266587,490.8353574773933ZM100.66724019897788,493.6751352563775L102.4067282612472,492.78329937833973L102.6055420605851,492.2785481548552L103.29857573423384,491.80865721820817L104.23400357359644,491.71826528037036L104.62566430734994,492.1304660657256L104.61522260722211,493.00448968919005L102.7851910500676,493.5608793324402L101.61035016283539,494.6913485521612L100.79217145166608,494.9840134316652ZM96.5970118537412,494.4819011923032L96.61503798347634,495.14693979560485L95.61460408332853,494.94051083256215L95.61120913352465,494.4988358351047ZM101.86940103709628,466.6589206937139L101.25228381296613,467.1338386218688L101.30660466927611,466.51856989097405ZM92.7459338575722,494.84644851790955L92.84902942368244,495.4987247553217L92.02334691223102,495.7285039642431L92.07836170042644,495.0796588069558ZM107.67037391686833,424.15376972688836L109.642202446249,425.68329782948456L111.13855887157555,425.21626720416L111.70459950675775,425.43279399734314L112.11531868219154,426.0154469744287L112.06523358433026,426.8160036665324L113.09561063115802,427.5096896637869L113.36165235945,427.97908163701663L114.80254149067227,428.5003415986899L115.63032410803024,428.98287777860446L114.93010204802961,429.8179317626047L114.25551973123214,429.4421810268634L113.44557816471921,429.4372351872883L112.95357880624843,429.7633061133815L112.36591192742408,430.6193158049429L112.02522216581096,429.61389966575837L111.5274238655683,428.8638941237363L110.95040335037808,428.6466964379462L110.83539580592233,427.91491860753337L109.62065274951586,426.715692126437L108.96481731036602,426.50713093804103L107.74969935224004,426.9633535360242L107.07969968516304,426.3725253540185L106.96510354270418,425.52251614950313ZM85.43159117341105,494.93587754446366L85.28994703490108,495.6739129702755L84.51027840408642,495.59906820682465L84.83543232834948,495.0249220629021ZM80.38756384457852,495.08459758519894L80.81186433118374,495.5112215723828L82.26106154106316,495.9076600027165L82.263937218097,496.1314722592482L80.45571237831359,495.92458587429803ZM77.96860137993869,493.43874826200005L78.14098014064872,492.82028492214187L78.7598560067849,492.75348386189427L79.34399884425173,493.6079355349026L78.86996644371757,494.0951052515519L78.41813740513041,493.91653476144904L78.36302045847741,494.6088351080125L77.60440345527053,494.44494739183074L75.82875986442829,494.62577327408246L75.01060475724584,494.135326025803L75.41745309762842,493.74331280765017L76.34117835544441,494.117054256285ZM68.86770088838753,493.3304567785656L69.59507510648159,493.4720584385903L69.32531097444085,494.24546139869125L68.4776670756296,493.834945132007L67.06250821660332,494.3525496991562L67.07516533834978,492.99539546404947L67.54792198439493,493.12698700555717L67.93415678585062,492.2437342325056L68.50992912603066,492.41078266265504L68.27186784573001,493.08223470819263ZM66.45870016243909,491.82576988296944L66.76662918057512,492.2784125147485L66.09775415850837,493.2103294678242L65.40123495531236,493.2976786303521L65.61259806744316,492.654609119536ZM62.71645091103163,490.6245308414184L63.34719624855484,490.9014430849591L63.65403843517629,491.8538396215563L62.7021640723008,492.4850323902505ZM33.755766414152816,469.69958046741436L34.200332174139476,470.42530004403227L33.91803516381982,471.04322007817234L32.33643739706868,470.63483281196784L31.936266600873694,469.19612605559627L32.17680716542881,468.7582029991421Z" id="Alaska" class="mapPath"></path><path d="M296.61007318217173,268.88279274345723L281.93524394378124,374.51304338716216L250.0803451408645,369.7655849583282L232.8925926902283,359.8288884108523L195.85798647500803,337.86348829855876L198.11355064879143,334.0135149685947L201.27384031274977,333.9065234800021L202.43071440470362,332.4564930750945L202.27043777468123,328.85831508955323L200.20090083979284,328.3432707753906L200.56878441329212,321.27774056099565L204.16498088492153,319.2616135219545L205.118109285027,316.6147245910074L205.39648708926978,312.1537522067339L207.8496548410008,309.2755521025565L210.47775677706727,308.528698429883L212.7605649151496,306.4511480946602L210.3120085883101,303.24488868218634L209.2151218884186,297.9859285739601L207.36377225981067,294.46584591310125L207.82595407529573,292.1388077019052L209.22311636788004,289.78656760153456L209.57973815938954,286.2810562962321L209.06791360796848,282.49712991338504L210.34118081765644,271.4892704799853L215.86155805723484,271.84426124028835L217.19516688373642,274.4184011448298L218.66318754678042,274.59787507392844L220.79637044619994,271.74984886400387L223.6615221381652,256.84367072628766L275.33170215576996,265.6736305679822Z" id="Arizona" class="mapPath"></path><path d="M511.3535707801563,291.2956526874125L575.5644933585312,288.9069205416637L577.0906913013936,292.4329346311764L574.9467261589,294.8409150489317L572.7866666992284,298.4869852606598L582.4425701964611,297.8821101004751L582.1818227124799,301.4165187284766L580.0333552585737,302.59036561448545L579.7248595918711,305.5058728662433L577.1192107150868,308.7716033601538L577.6475058939513,313.28766114440964L576.3597565713209,316.6743974160345L574.8984533346297,317.2794429192594L575.9104268366331,318.87191425596586L573.587570790335,320.4572637012269L572.6926264873784,323.71224250446005L571.1568415091624,324.62702393729444L571.6189090308876,328.3187107234161L568.9180139991823,329.50327486526817L569.0700113848716,330.7338644467851L566.0532034211765,333.99450668746044L567.0867357409237,336.00348907002683L564.4691689628738,339.13441955549536L562.3169156069698,345.0210518214153L565.1502127355644,347.351254921449L563.8744699525071,348.963851493236L564.9240784042305,352.8275914746521L563.8651996605305,355.4587704419341L525.8688754498158,356.59482332167954L519.1380736476037,356.74889194761295L518.9322411998942,346.7632269213494L516.7161197419576,345.9830388849681L513.6868364166401,346.96499601428707L512.0507371055172,345.24062095280385L512.3494540907443,312.13371750365127L509.2363105372694,291.32806693141276Z" id="Arkansas" class="mapPath"></path><path d="M118.53469178773884,134.35184862301298L129.8703167619954,137.5292559446351L147.60502967795878,142.767446341986L161.39805566877646,146.4068850877651L153.33147788304342,177.97691479588002L147.29790160877542,201.0492552389229L161.23352433545608,222.00704387441567L174.7219733035521,242.29098223694416L185.59322436408132,258.6009647189593L193.5478120720827,270.5619714879522L207.82595407529573,292.1388077019052L207.36377225981067,294.46584591310125L209.2151218884186,297.9859285739601L210.3120085883101,303.24488868218634L212.7605649151496,306.4511480946602L210.47775677706727,308.528698429883L207.8496548410008,309.2755521025565L205.39648708926978,312.1537522067339L205.118109285027,316.6147245910074L204.16498088492153,319.2616135219545L200.56878441329212,321.27774056099565L200.20090083979284,328.3432707753906L202.27043777468123,328.85831508955323L202.43071440470362,332.4564930750945L201.27384031274977,333.9065234800021L198.11355064879143,334.0135149685947L177.47391747904402,331.53049999445454L160.6325488794464,329.5096386058666L159.34018317631984,326.68515497867475L160.12375409456627,322.85349201518284L159.9890791413468,318.0723598861482L158.57006228709827,314.36739159929084L154.88392859519382,308.8625863106719L149.84530855181322,303.33676843686305L148.43265142429334,304.1652866456892L146.30072074408753,302.913277240693L147.06201939541802,301.18881347858996L145.33534874008654,296.85062736240934L141.62514276759043,296.79641149876375L136.08859954176842,292.5628304133727L135.7420159473907,290.13899259552124L132.27679381596863,286.39725469810946L127.54646538877984,285.29812453168256L123.96655118616218,283.0963378671569L118.89897180281781,282.3042225427913L116.94494422449782,279.22807902289026L118.85687539116464,274.2935473033475L118.18375248073704,273.2613149041284L119.69823803729929,269.8210251399265L116.57162611957074,266.10450916850175L117.40070365602458,262.37407669728566L116.01879169038835,261.7889503538996L114.49171717181008,257.95537380090434L113.0121798634604,256.8045342774599L112.8409474627756,254.6181574379733L109.36105340571368,245.6304720707376L107.37256550672379,242.7191506168773L108.46397664209786,236.6986267718778L109.42135896505516,237.5022280549557L111.40841700898096,234.3039264665764L110.26742384701572,230.55475840335794L107.66219964178214,230.25230725834706L105.2101744899116,226.44548497905816L104.69665559481535,223.82931164608033L105.55236969701923,221.71058218156088L104.75159730271679,218.36658113776093L106.11685617350378,213.6005519903781L108.73406488080064,214.34749428186456L109.55424320279866,207.3857007543313L108.20653249701928,207.7526093574137L107.03843242475438,210.9636084068718L104.0738713321673,210.86372914577532L101.49486249383824,207.4275052703142L102.20239385770827,203.00760712794693L101.05406173735702,199.01275163256037L98.8538642270226,196.10345715633957L98.0409404188618,193.27722850789075L95.34702995763462,187.40668868545004L96.44133812163875,186.2256263759382L96.37514602207426,179.62829860269812L98.21116821753884,176.51493177366967L98.53517350042506,171.11374414574811L96.53902389200846,165.11546503042007L93.97855243942814,161.30948807372943L94.31598071718997,157.8502963673202L100.11911716118749,150.99744616139094L101.59094119754104,148.53498274487856L101.56440110048055,146.26280736042634L104.45710472422962,141.21630451585156L104.86948251500661,135.95473628229388L103.78236935958233,134.3292674181522L105.56695748299899,130.5657586170738Z" id="California" class="mapPath"></path><path d="M322.4925455903443,196.17367918503373L352.9038444683383,199.75601968101762L376.23661495224616,201.84152269558513L404.1007452758222,203.91320832831218L402.8988706018394,222.75650272095072L399.45150884012435,279.3470321321962L385.3337202389477,278.27318182722263L365.64912638481337,276.7848684187272L328.46167790672683,273.0146953899831L320.3585440453609,271.95616019009526L296.61007318217173,268.88279274345723L299.6195066119641,247.09022537619057L299.66578842239494,245.01127162721832L301.93620555639984,229.16498675211517L306.8446238635662,194.21046993247467Z" id="Colorado" class="mapPath"></path><path d="M801.6228578416598,149.16244649142402L818.4453477782895,145.22103075217456L818.5231883265835,145.52009904895476L821.3265114567645,156.29064335065084L820.9566409898363,158.19759927798293L819.6988592262771,158.20399294117044L814.1492882396435,161.11558266141924L807.021792199021,162.4779149983308L804.600834412533,165.72997319231035L801.5297283288678,167.32860513707794L798.1697755933712,170.36646080933917L796.6987796247456,168.49146160594648L799.5596631391346,165.6836272381604L798.2331620708501,164.41252618558553L795.7851846764491,150.37374695600272Z" id="Connecticut" class="mapPath"></path><path d="M779.0051836000212,197.63780618908459L778.1983502311846,200.1401574169546L777.014497232001,201.66686858262028L777.9576065828177,204.525712898527L780.6192684184385,206.79685735563714L782.1543208232989,211.21709076888146L786.2037649508022,215.2919757976863L787.6356279137908,215.1842006860512L789.6747984520628,221.3953547758042L780.4903966928828,223.20925784452993L774.1594166568768,200.27900751323045L776.0813674367477,197.74953475879056Z" id="Delaware" class="mapPath"></path><path d="M759.4865657257926,217.37613884048994L761.6321788654304,218.83751529911137L760.1665752816764,221.13705500311994L758.5530790122256,218.7233567751423Z" id="DistrictofColumbia" class="mapPath"></path><path d="M655.9367154126533,385.73370516760747L663.7412930790721,384.7439769130748L666.5468282569723,389.88904002632046L688.4674819361785,388.3893137307159L709.0205451017604,386.9780136292969L710.3827170175393,390.8183587332636L712.2852376239028,390.4346842550192L712.4259171863694,386.5803703271L711.3073079923148,383.22206435284704L712.5701053591968,381.5831311672133L716.4384080204825,382.55778091039576L720.8815290356241,382.60464722425377L723.075416699587,390.458672097521L726.4874888132107,399.15073788409745L733.0163953935125,410.2339916460502L742.2342099153976,421.6726789142691L741.3150432709587,422.7538796742342L742.6272602054456,428.53275086960673L746.7478393574139,434.566139100541L753.7208038054232,446.91376226553336L755.4118984893653,450.8531827777945L756.0343058346862,455.0738663616217L756.7589176174706,470.47979710246267L755.2490510003202,471.04130584964975L754.3771734216248,476.0103357523842L755.1791033322454,477.41537270569097L752.5114536776254,481.34259217252645L751.0872767309952,480.75666088240916L748.1728733785341,482.66508265813906L742.9351904900117,484.32224658029855L741.0631268035786,482.6730578075229L741.3614390742185,479.75927208407217L736.3179129761702,472.2493028275805L733.1474429209422,471.2011600505552L730.7440298295257,472.69542947687944L728.0435257493581,468.49135899526755L726.9364187052602,464.8634226582514L722.8525127889118,461.26569804670214L721.6316760149564,458.67496604938566L721.5990594368632,454.67519123475654L719.5879706058203,454.25211108404096L720.3815337015324,456.4976407253655L718.7411738535018,457.35353511114016L712.0441646235881,448.1503007515693L709.6081567475267,445.92615972706244L713.5152993740594,437.86112752545404L710.3365044002098,438.7276778240505L708.5042566538723,441.35253790806746L705.8364746890718,438.0231131945256L707.2879052392727,427.5241935166756L706.6367977560053,419.05907054492855L704.3995491823526,417.3108992915446L703.3967971865336,414.66542023963825L700.213749927855,414.48789588700924L695.9802718509584,410.52566471036675L692.8225286618458,409.09234726766897L692.281286901648,406.37787368792976L690.1218289424017,405.6319471231402L688.0511415814035,402.80704903131686L681.3847349118196,399.5357577834076L676.1483217913362,401.1186027850838L676.7623852862407,403.93147717352315L674.941749376882,403.63915186833765L668.6658064134855,407.89663470206847L661.6154719676467,409.5336629784879L661.5620239497616,407.47989648895657L659.6141671525215,405.226766033122L650.6667041637985,400.6406114775733L644.4594378190122,398.91953428832903L639.0522898201885,398.8459419389669L634.6216561511397,399.689385600753L625.0416360755073,402.326796882017L627.1620505584219,399.3575538508818L625.7966132630955,397.937660717364L626.1320089497606,394.8192981102334L622.2327563642075,391.56447912210604L622.5387014946745,389.06584995859964Z" id="Florida" class="mapPath"></path><path d="M683.5852647255116,306.51867033142537L680.9096886985141,310.9401651618575L680.9222478971075,312.91554817294855L686.5125598690792,316.214915386278L688.0444455621639,315.69103408685476L690.9367961776401,319.45131030477853L691.7367116565014,321.5248470987576L694.7006035031993,325.0606911831196L698.5416816198656,326.90327198330283L701.0521033411719,330.07753189450466L705.6220358174244,332.6301217855248L705.7732410530939,334.7941165406552L708.9813926689327,337.8528192542824L713.540380657015,340.07371430215653L715.0227729928599,342.96916376841966L715.8048794511074,346.9086417146559L718.1268523752676,347.90116912890016L721.3683526518986,352.4933086160719L721.9503854066797,355.62793759738076L725.7859858986405,356.682825704935L722.9436906985878,363.58553171104825L722.7694207642992,366.94011437448114L721.5827296753121,370.03609292576755L721.8696636010022,373.00416027995277L720.3508222316673,374.59038917845044L720.8815290356241,382.60464722425377L716.4384080204825,382.55778091039576L712.5701053591968,381.5831311672133L711.3073079923148,383.22206435284704L712.4259171863694,386.5803703271L712.2852376239028,390.4346842550192L710.3827170175393,390.8183587332636L709.0205451017604,386.9780136292969L688.4674819361785,388.3893137307159L666.5468282569723,389.88904002632046L663.7412930790721,384.7439769130748L661.4183970820984,379.8472882980037L661.9763923370286,374.8219408104094L659.779795180524,369.38805660603373L660.7885696688766,366.06513662732937L660.4312830693754,363.72660279493334L662.809007471431,361.0689702018459L660.8837985564303,360.15513493783544L661.3524567879306,358.2370314101721L659.3042908947791,355.47200105830575L656.9206186672232,350.4640880226964L650.4620913875144,327.25109005435263L646.0228861840691,311.4546901823777L665.4048252319898,309.0899507325836L675.9679149412508,307.8496403899686Z" id="Georgia" class="mapPath"></path><path d="M337.66825717223924,494.8137793999218L333.3008056271658,493.2012563545584L332.6158690566279,491.5707399185602L333.1786122896854,487.3838387306816L330.0568533721774,480.25652121483887L332.46157681167983,477.9023772971097L334.18420786245156,474.63367322479587L332.9209657413738,472.4998945556187L333.2967879962326,470.25756140973175L338.22615642195746,472.8813487410811L343.7353800229104,474.78349407982654L347.132985243703,477.61295115916414L347.15123676854864,480.05944310660243L352.20744839109955,483.99617367944757L349.13995263110127,487.2861332001685L343.63627302532797,488.85690652141966L339.7797905974825,491.3306239051295ZM320.7458819850947,456.1531316435669L322.7685406806838,458.69100911610565L325.3608831584327,457.5665131348264L331.0421369152031,460.4968195579712L330.186517067289,463.1449109151893L324.4166762393203,464.4853764090948L323.2606272377218,463.97926432207436L322.9650671513999,460.7245050245639L319.9829185852378,460.01785531740575L318.8269551194047,458.1890126611491ZM313.82880507535975,452.80543625407495L312.100272537222,454.7358437920507L308.0667110769971,454.73275542434686L309.31718685767356,452.6002853814197ZM296.87123646959583,443.7382243312352L298.77289607004974,448.10925196087527L297.80504829694894,450.64468199922067L294.06125924124564,451.03625358713896L291.5917247250078,445.84653682837967L293.79665228288155,445.7553008732619ZM270.42965875616966,433.7267357206383L272.4351107028807,433.9482777752147L273.3737288393164,435.8820968491426L272.7749646209711,438.61361787647616L270.74894396974827,440.3185453730591L265.2197772691863,438.1327655419979L265.92197416404827,435.0994914662453Z" id="Hawaii" class="mapPath"></path><path d="M241.797560686922,31.113549917192017L237.83403252580308,49.62479993859699L240.75173023367216,55.5362757710526L239.77309694789233,60.52193843698933L241.70192456647587,63.21141060596858L244.06487220581465,64.53219512544149L244.071595612715,65.88385736507792L247.74070429621509,71.72231369172073L247.88881126318543,73.83029950208731L250.82004138849402,76.39062781166012L250.72015641666627,77.61770772335638L254.4041025563694,78.23877470968444L251.26741816733153,84.69140980706936L250.07107142265778,88.92993603709738L250.84696244080737,91.99720855993826L248.1423672827842,93.54764134645029L248.67731041861927,95.63296502725836L247.64940574099592,97.51449631951937L250.01783242262607,99.96033452477354L253.6705751568065,98.06435885235169L255.32075159721063,96.29916290974177L257.2948425338599,98.54877126120243L256.6570626642181,99.98908784837658L257.2602283750659,103.74750196152274L258.68311017493477,107.86835611282334L259.9992290922977,109.46765378861141L259.2735119374605,112.97912733778571L260.4890967455503,114.76723020909071L263.16075895699794,115.46553494651039L263.795951740789,121.72806799362525L265.11972623322185,123.00874110963048L266.7890778905771,121.53640931268126L270.8566355906513,122.35948321154137L274.1475435124985,121.2663113426861L275.78301138926884,122.4836107121406L279.0032631678432,122.19844116901663L279.47862057186137,123.31816123783801L282.2513470097533,123.0532524959001L285.89275005016526,119.70492916478463L287.444537746396,123.28006692751421L289.50553423066026,125.58425883168934L282.1799350125684,171.46858137784818L266.97354741014306,169.053496240169L241.5033802898587,164.41986129692418L201.25851104669152,155.9241546144723L208.79776218799992,122.40545042484473L211.86215636622916,116.78017219992978L211.1286061987301,115.03862420660266L208.7025249824854,114.1761565967372L208.34506922186074,111.46531342925402L212.43842004627783,105.5587240055836L213.91678283820596,105.26040939042298L215.86190048891217,102.86041200189584L216.02905707292024,101.11376231314512L217.99668084776,99.24346916330535L219.47755023951981,96.21658095297437L223.32557518483674,91.40693412224641L222.82515831661624,88.68088638125948L220.114641147834,86.72148843795276L219.06525348440363,83.24269162905694L219.70937699588058,80.03846732717477L218.76500390945984,76.47935586999643L219.30814344953285,75.03310160530248L224.69273624467968,50.79118222389559L229.85199324167547,28.490963827517362Z" id="Idaho" class="mapPath"></path><path d="M561.9413629642941,176.20400854107584L587.2317328460733,174.8384864932499L600.6760523037519,173.74630886454224L600.5372501459817,177.37503644769254L603.0024350136455,181.3990436751626L605.7949581109103,188.08145482206646L609.67732153674,232.3775615605183L608.4158983304573,235.91050150858246L610.5744899474716,239.76194889425392L611.105167791651,243.03237431322805L609.5324647645846,245.86824619162587L609.2769365599308,248.379151554562L607.0166461906704,252.61924212600877L605.3794902222274,253.0702118373896L605.9772664265171,255.4035352054558L604.9442839243032,256.42401274033716L604.441185311257,260.923313178438L605.023122271465,262.1182791957457L603.3302774665126,264.9541939700101L604.9643571595436,268.13480449573206L599.0948079517864,270.3747952997236L598.6875887599064,272.37550023435915L600.2507791548189,274.73787883408465L598.5210330462762,276.4289407421762L592.906282365004,273.9589470567506L591.232237280129,274.29008261591173L589.216260582398,277.7501324532426L590.016663512827,278.7278305559755L587.6614259227118,278.68922048268337L583.9861778979346,273.5612878969372L585.1067583810403,272.24195556935126L583.6553304439541,268.71828864927136L583.4582248394572,265.83302451075633L578.4788732431662,262.12757173042314L576.9100617959747,262.6424859059646L575.1595364897544,260.2692163561667L570.6314805255051,256.71682124909285L570.5329590364203,253.72212498824058L572.6930395826913,248.7285254744868L572.1912072998074,247.00020830408164L573.4702562289197,244.64512327734155L571.3416499312596,243.4305702860106L568.1464216593155,242.79276533395205L566.594955940205,244.64072717819442L565.4287485961272,243.56894000133093L564.1410022108578,237.43530603328668L559.1533650728968,233.67074505523203L554.5423751541298,229.04454090257627L552.4779551532781,223.35652052517798L552.1423965462385,219.54942004466955L553.2498287369635,216.81036386849325L553.3165619608319,213.39814841153213L557.1345404535858,211.14168305812814L557.3695835276986,208.23733683394096L559.110683462492,206.28702354125028L559.1649018623197,202.97927391617407L556.7366447599358,200.4217290547425L557.4790790934576,197.07971279869844L562.8225818541636,195.86082639099425L567.0093512190175,193.2436204741307L567.2914377408687,190.33605512897793L569.0304322739869,188.99187225884054L569.3370686771614,185.36032661585068L568.8151682236714,183.0189060834133L565.6227596584629,181.35410649843413L565.1324885259914,179.42313577182279Z" id="Illinois" class="mapPath"></path><path d="M626.8169993665525,185.09874278927475L643.0734264228732,183.27789363826844L643.2187173061357,184.50590378953973L645.9365916539571,206.8213951955048L648.7967086331247,232.98975226088749L647.7999544668684,233.93900708345893L649.5781974037427,238.9287853801991L647.0805948100661,239.3257913068329L644.6129666667771,241.37789788019052L640.8285915515469,240.97415258555054L641.3986555750337,244.65165649614494L639.1266778723378,246.46227440338396L638.4384904198707,248.92747606363287L636.0097938040003,250.12558012959198L635.1684370465721,254.99376479779596L633.6318351883278,256.402710311207L630.1955984142663,254.99470320258501L629.4192649339444,252.89394061160942L626.486634937497,255.57853815756425L626.9307865212274,257.61011739195885L623.741682035414,258.65253195711557L622.6072471149,256.8951547151122L619.1269531747237,259.0963012226946L618.1161495845681,261.1624729260179L614.1971432949942,258.7234680301907L612.342955974989,259.51302773500606L610.9507771393073,258.2889884678609L609.8751341756126,259.731769062862L606.2300045524875,260.25406094872574L605.023122271465,262.1182791957457L604.441185311257,260.923313178438L604.9442839243032,256.42401274033716L605.9772664265171,255.4035352054558L605.3794902222274,253.0702118373896L607.0166461906704,252.61924212600877L609.2769365599308,248.379151554562L609.5324647645846,245.86824619162587L611.105167791651,243.03237431322805L610.5744899474716,239.76194889425392L608.4158983304573,235.91050150858246L609.67732153674,232.3775615605183L605.7949581109103,188.08145482206646L607.2650402762256,189.190872514523L611.4951387068943,188.80130526905316L615.3643092213972,186.25871887955464Z" id="Indiana" class="mapPath"></path><path d="M551.0840683371126,158.13366802712835L553.1492432263587,158.0312797942796L553.4366976657107,160.7951874467674L555.528461107374,162.54069982349188L554.0148643857663,164.8835268889094L554.6751121470313,169.07217465852818L555.8713177678015,171.9980734254683L560.8372813701617,173.8949303652007L561.9413629642941,176.20400854107584L565.1324885259914,179.42313577182279L565.6227596584629,181.35410649843413L568.8151682236714,183.0189060834133L569.3370686771614,185.36032661585068L569.0304322739869,188.99187225884054L567.2914377408687,190.33605512897793L567.0093512190175,193.2436204741307L562.8225818541636,195.86082639099425L557.4790790934576,197.07971279869844L556.7366447599358,200.4217290547425L559.1649018623197,202.97927391617407L559.110683462492,206.28702354125028L557.3695835276986,208.23733683394096L557.1345404535858,211.14168305812814L553.3165619608319,213.39814841153213L553.2498287369635,216.81036386849325L551.6778548748914,216.26546309109187L548.6532291160687,212.5830454380192L547.1966782692566,212.75100303341264L527.2101280477013,213.9938376940513L507.8883023372457,214.61799967981926L491.94469021786847,214.4427535471384L490.32451769765464,211.96977195651243L491.08429531997666,207.12065176566466L489.70249539365153,202.8943847286671L489.77483034842317,198.15186353526917L487.34240211458683,196.5024415397437L486.9658668758374,193.92541652455714L487.8013801174367,191.65918801632938L486.89753073317723,188.36141009429264L485.0134654702323,187.12139136908002L482.56388962967424,178.6683752226753L480.0432330557633,174.53715882188033L481.2544061057259,171.76654527992105L481.7215839194361,168.06607157325527L482.76833375960064,166.73438138105143L481.071410650761,164.87467713468084L481.53454981593404,161.58779725736588L480.8044247335514,160.0419364469335L482.5792398274297,159.6405303416932Z" id="Iowa" class="mapPath"></path><path d="M404.99100327223323,222.88831032176859L498.4935252878671,225.4528895653665L499.9056346357501,227.19666207415435L504.5091081320007,228.59570117877593L501.36975421014967,234.10072748008304L503.1867694330337,235.94105232135712L505.5106971202136,240.35454201074185L508.5856190548517,241.2425029675211L509.09950051692294,281.9319198877722L428.29835082822456,280.7824636417788L399.45150884012435,279.3470321321962L402.8988706018394,222.75650272095072Z" id="Kansas" class="mapPath"></path><path d="M662.6268040277648,237.63454180120243L666.172048875791,239.78001355088293L668.271454520835,238.15040635927164L673.8725549065075,238.85818088174517L675.1877806826668,236.8020833292701L677.1379714951772,235.90730816210225L678.2055526511,238.99131046314028L679.9240594685699,239.27230381360891L682.2477171752763,241.55177062847713L682.6518447417179,247.231982892274L684.8990529191336,250.56359353413598L687.5916063945003,252.99375386095357L688.6163258371168,255.0369019224098L691.7089710925363,256.77664350664725L693.6609939772844,256.80099310462276L688.8223724304896,262.62547684684887L683.863969622299,266.14932434920536L684.0653312603406,267.5810936312413L682.074006390632,269.11091176673676L682.1410792257032,270.76981966419885L679.4299862930895,271.873434758426L678.744860695353,274.0514606759798L671.2061023891675,277.7649503748801L671.0041652145868,278.103672500167L658.3872671909056,279.48125860827815L647.3302756192996,280.152736717426L644.4442834032902,280.68414507845637L628.0368455206715,281.6831700403485L609.4584708949742,283.8186559170962L606.1492524495843,283.2701517490199L606.6766843601283,286.645470538057L588.2282454083145,287.8626955254326L586.4552895195195,288.19380985033604L587.1021150349719,285.76806703232626L589.3509927295738,286.43718132921197L590.016663512827,278.7278305559755L589.216260582398,277.7501324532426L591.232237280129,274.29008261591173L592.906282365004,273.9589470567506L598.5210330462762,276.4289407421762L600.2507791548189,274.73787883408465L598.6875887599064,272.37550023435915L599.0948079517864,270.3747952997236L604.9643571595436,268.13480449573206L603.3302774665126,264.9541939700101L605.023122271465,262.1182791957457L606.2300045524875,260.25406094872574L609.8751341756126,259.731769062862L610.9507771393073,258.2889884678609L612.342955974989,259.51302773500606L614.1971432949942,258.7234680301907L618.1161495845681,261.1624729260179L619.1269531747237,259.0963012226946L622.6072471149,256.8951547151122L623.741682035414,258.65253195711557L626.9307865212274,257.61011739195885L626.486634937497,255.57853815756425L629.4192649339444,252.89394061160942L630.1955984142663,254.99470320258501L633.6318351883278,256.402710311207L635.1684370465721,254.99376479779596L636.0097938040003,250.12558012959198L638.4384904198707,248.92747606363287L639.1266778723378,246.46227440338396L641.3986555750337,244.65165649614494L640.8285915515469,240.97415258555054L644.6129666667771,241.37789788019052L647.0805948100661,239.3257913068329L649.5781974037427,238.9287853801991L647.7999544668684,233.93900708345893L648.7967086331247,232.98975226088749L654.2604672837626,232.33277476945216L657.632019194617,235.870796662408L658.0710746182145,237.48126019186225Z" id="Kentucky" class="mapPath"></path><path d="M525.8688754498158,356.59482332167954L563.8651996605305,355.4587704419341L565.4243693073914,357.54279730935934L564.3581485959027,358.42209456296257L564.3815346889318,362.23283041580703L566.8147159215764,364.47586985303246L567.4501842493764,370.0031073127743L565.7810494666116,374.41332232984814L562.204188732455,377.2683813786325L561.4576417400319,381.52167145534077L559.8787849836539,381.18598242146174L559.9433709096769,388.07022506889757L558.0385305928271,388.36446059249L559.3421599074261,392.00261875661306L558.2692905437998,393.3875569674252L588.3774065620519,391.7043309766641L587.20560435723,397.947831633939L590.1051915673577,401.86650155545385L590.9252543141322,404.89267251263857L592.9932496211733,406.703677293037L588.4026839113308,409.57592592871185L588.1690618266398,411.4380509804432L592.139050769644,412.406527695067L593.615762034088,409.3301227922167L597.1779441892935,412.05835930940896L597.0784886891726,414.425355689138L595.2015316673015,415.58246040196286L591.5073719010852,414.91094404332125L592.0667962753741,416.6168961882139L591.0018444717903,419.35381110447145L594.2706366278691,421.490990418293L599.3016126131405,421.85608680277664L601.2811461473117,424.4804701406996L602.7368876276174,424.7837152469317L600.3798593892642,428.1318276919683L597.4785637153293,427.7236908012801L594.8434793214792,424.6284981988447L588.7595963060257,423.2927140164212L588.5546598511294,420.129326046184L585.6863932415758,421.33721007785743L586.0313723411991,423.97921839985474L584.8472527265018,426.51130584424345L582.7305706404898,427.0509015526312L580.9594748847003,424.3927610097853L577.2110631967068,424.5095561221427L576.0355525643712,427.44299872846307L573.5803782380048,428.3982609904217L570.8082370477584,426.80783689411567L568.6558134678965,426.7158189209787L566.3720634572065,422.2255381116631L562.6257764230716,420.36157882081943L561.2182461986165,420.73565617266263L559.6168623298436,416.91816417504026L555.3825238546665,417.6197315863112L555.1920207580373,415.2718790963778L551.119957245033,417.6961507701616L551.7233538581909,419.4124496824967L548.5894108950002,421.17552088947343L543.5806397466226,420.5430298697677L537.7216010004067,418.1813510372617L533.6063242278506,417.18077014958465L524.8473031301726,418.33291911725064L523.7097967358162,419.075717961632L522.2488600416464,417.26578259014445L525.9008096332133,410.52478937050455L524.5803216731765,406.9698181437452L525.6784090571157,404.99604917933766L525.0892712958672,402.44702142217784L526.6217681799997,400.46108841998296L528.1630457704014,395.60000733187087L527.7972699646052,391.6066162704042L523.2619645926341,384.11815782697613L523.0810401168004,380.01253180060905L519.5344510153614,375.97856959301816L519.1380736476037,356.74889194761295Z" id="Louisiana" class="mapPath"></path><path d="M827.9093598627953,122.56750954129132L825.9815015224099,121.70635120992563L825.7116263236262,119.86187719648967L823.0740573851309,118.33902795400115L815.8186519870349,94.7785297846508L812.0552088411744,83.27528959775634L816.8637931936526,79.3230781737592L815.6143350721428,78.28562193175242L816.9312054572508,74.9573969221916L818.7147958476694,73.08809853279092L818.002671311342,72.11836669203933L819.5327552224815,69.892526518247L818.0418720013818,66.9140781130659L817.9615342440825,61.85143050300951L819.430961960895,59.74666752022381L818.7749230183782,54.53017256853764L824.3607872137599,38.121444084905875L826.7366674938328,38.06650369936301L827.8382155631964,41.34675307642851L829.7899639838681,42.04808872897547L833.1661883325253,38.93109083980164L835.6403263165691,38.19391535197565L836.9972100207497,36.406732891655906L841.2574550488133,38.20012593291824L843.9766713246245,39.92435820617277L850.2268748663712,59.873367564678574L851.4184636524786,64.74532680449136L856.1170312939298,64.69020190481422L856.1358827505888,66.93246746880607L857.8378328049628,68.54731429236006L857.4902668143277,70.58320967379586L860.1274725211658,72.7661756071276L862.2837534478638,71.44986014624726L866.5535896835393,77.08665629163727L864.8145732992167,80.74786916107348L862.9544609214909,80.14728168703891L862.3149895562397,82.49290296944264L860.3590190527565,82.56159668578573L860.6644798309928,84.29131071667621L858.2405874555205,84.82177462013658L855.6433917258256,89.79397412787421L853.9348623417378,87.4176151337856L852.5515591613564,87.62042730830149L854.0372007728611,90.27930237091971L851.5136738579572,92.53621385434985L850.1396425485584,90.4840347178723L849.0925573772829,92.07985460627265L845.8034759135304,93.05159570671151L844.952553158934,90.41519559423227L843.1686730585286,91.5791447334916L844.0653323575071,93.34744749831123L843.3905054659572,97.81960196174202L844.057516977476,98.80136107065391L842.2924108997593,101.66503079676954L839.6680535862697,101.56604588354764L838.9065030438351,104.2405030764229L837.0118926236667,105.10040128929177L835.9159088271708,107.43889469720375L833.8209500324579,107.60205545221504L832.6998711979578,105.78326079744261L830.6778952661161,109.7594219681389L832.0095659151654,111.52180697603592L830.0685649334637,112.80675641452797L830.391679464848,114.52992962568919L828.5396131061042,117.27866629565642Z" id="Maine" class="mapPath"></path><path d="M778.2328899842199,233.52100387369728L777.9204665057138,233.58771572994112L777.5299155467233,233.67100427607943ZM722.6066303114933,210.3678108515454L774.1594166568768,200.27900751323045L780.4903966928828,223.20925784452993L789.6747984520628,221.3953547758042L788.6105991279453,229.78100947231098L786.4959916502507,230.56583950810284L782.8392833112385,232.52865347059196L779.9683338412683,233.99421888963832L779.395389214076,230.9479948341326L777.966579023814,229.98680539431643L779.3196566632578,228.32305497972118L776.4935624591097,225.7600803022466L776.074393081097,227.2224020955473L773.0556935894117,227.54535734243723L771.3443482585336,224.42241385336354L772.2752219919507,224.2266149040039L771.4369171028547,219.86470010726828L772.0013767512837,217.95114327659303L769.5320799883036,212.3506796765812L770.3423541006334,208.59139192864893L772.5891549953388,207.48020453118022L772.2163078989824,203.86453541332764L770.5448343365053,204.64315877940817L770.8545996545738,206.4773014048335L767.6664625773756,209.5771144788223L767.0352878242654,211.924477640923L767.9220112796127,217.3304827901594L767.0572410783179,220.1474475140111L768.558945031159,224.2658441506286L771.0341556775229,226.8090797779273L771.2662776588502,229.08200119346805L772.9010855414163,231.06096594076598L772.5952233576267,232.70820052030308L768.7086074721603,230.45834773410888L763.7430184224472,230.0015824626655L761.7669443059742,227.45171841105548L759.4474726430453,229.60454934936968L757.9902479375937,227.5787338771854L759.5190179546311,224.3230113953888L760.1665752816764,221.13705500311994L761.6321788654304,218.83751529911137L759.4865657257926,217.37613884048994L758.5530790122256,218.7233567751423L756.3547039605814,217.37380961963095L753.2413245958744,217.04502484492946L752.700805407474,214.30979543078354L750.8621852130082,213.0933787893115L748.6487133878372,213.21066422239812L746.0326426510788,208.35446484267106L743.6559966988866,208.81210976226419L740.9512967156436,207.54120926014048L739.9169727182452,209.20798912642795L737.5965508659625,209.53888248331248L737.4381816871266,211.6690519992352L733.0453654309247,211.11654105474054L730.776635607975,214.36367111636412L728.8188215574652,214.08750905171917L726.6067096704143,217.73436477762266L724.1306553769225,219.95409220370095Z" id="Maryland" class="mapPath"></path><path d="M825.9436025531822,126.40499202647834L827.318985280742,126.3523273100642L828.6858765972738,129.39288789870045L828.8095594103561,132.13203405746435L827.3563147667395,135.08416198861005L828.0338155679298,137.88735470243478L831.0446619225052,137.49919959455065L833.5735614171895,139.90542476930466L833.9069124217974,142.27036385376698L835.527121100198,142.46771760846968L836.2455048036095,144.5141858545751L840.4618689795032,145.2743777800822L844.2935208663473,142.3846684618361L844.0421121434977,145.1311525767826L838.2872497877745,149.08308007619564L835.9702198640917,149.82506728606597L834.1179176282803,148.51385812011233L832.0556281591971,149.60664317841122L832.3316495706333,150.9199926499989L830.0507210694537,152.38738895283473L828.1450719500249,149.3763741858245L827.619423863548,148.87672296963274L825.8840878803776,147.95235291358426L824.017679172141,143.86414848058996L822.0479785671416,144.384397707291L818.5231883265835,145.52009904895476L818.4453477782895,145.22103075217456L801.6228578416598,149.16244649142402L795.7851846764491,150.37374695600272L795.3228907359628,149.7435991929392L795.619243356459,136.95970963921138L806.4193633383201,134.59531310922443L821.9032770038029,131.21637261639842L822.8956841183735,129.14149387854673Z" id="Massachusetts" class="mapPath"></path><path d="M661.701296709542,181.4586791094223L643.2187173061357,184.50590378953973L643.0734264228732,183.27789363826844L626.8169993665525,185.09874278927475L615.3643092213972,186.25871887955464L617.9094097300613,183.52476893722496L619.3676182169961,179.13492427913604L620.8310249743467,176.39914121355548L621.7342537639026,172.68432204329554L621.9510013563219,167.48848131440627L621.0838102716306,161.99317285452332L616.0039211115404,151.55664645488355L616.8384637657762,147.34334467913175L615.4689911710761,142.52824464360344L618.0148731280123,137.21613010142846L618.2359428910431,132.96650409691836L617.5712153433724,130.76784504096577L619.6404581504133,129.62571211801844L619.6082470364021,126.53837975303009L622.9011561562756,125.36436684232115L625.1195825046639,121.72392225916803L625.6408478885892,128.4676984749625L627.0435213784262,128.6225446467149L628.3962277469451,125.06988540311886L627.8291488424676,119.36341402740061L628.7410820711389,117.81890493944661L632.206234689831,116.49532359616842L630.6087170915504,112.66395530590114L632.5642729535505,109.04088311341172L635.447782033653,108.4944773924617L638.9685401545025,110.23189533332527L642.2008927064823,110.14235235313254L644.0947986163785,112.58473252556519L646.5390125637539,112.48074429670896L650.9119724651606,114.38993461224015L652.3231834662756,114.10068033124094L655.061869431066,117.76253037305992L653.5588943718404,120.13255034596443L655.6441852554715,122.64430574132359L656.7136544349065,125.70563779072802L656.8492822196704,132.72248747295976L654.4020518357811,134.80729721764226L654.2181193393386,138.45427442276412L651.1794307169394,140.09171517578113L649.9789730565456,144.59338733284335L650.8442647680574,146.1397274007022L654.2581019637497,147.25247608281438L656.4339585387045,144.58328311034666L658.7077529633128,139.41009216994678L663.0319217121577,136.9541997685335L665.4800583384904,138.06382431606016L667.2333041145259,140.51264387380456L669.7173567138389,148.04569736478106L670.4889063232956,151.88127707929493L672.630663973556,156.35302014553315L672.1911373990963,163.27612096556584L670.1129629736537,164.6106384158628L669.6939901801868,162.1752647330169L668.3137818860939,163.09649021700682L667.3870986518072,168.94147781882975L664.9265963079911,171.46216072925654L664.6882078660167,175.86015249650677L661.7229088826208,179.8965929882993ZM625.2413252164765,110.38913483830322L625.7025145616117,112.60091304239825L624.0397195779444,113.19584750308479L624.4042409747852,109.96749107684116ZM599.276685280689,124.90529840976376L597.0961284786864,123.1442995259905L598.0822108321152,120.38676752100048L594.9688691295368,120.24628531117037L595.9650086773729,117.59356228117736L595.8252391296415,114.32119249478637L592.9287718658505,112.31215635507658L591.2402071960104,110.09543282864774L585.5575813668067,108.71113480976283L583.9028972122518,109.45495630080791L578.1672775321603,107.1207460551816L564.6147932905567,104.2491968069537L563.009789802566,101.17964764470298L560.5475680906151,100.20326853600352L565.4251689691114,97.96592211732923L567.5294381257249,95.58514716234754L573.0774433262111,94.29395957245458L576.5225974038143,91.29308646846175L578.1927816013805,91.0688751494514L579.4460064904231,89.03622696561536L583.2084148400407,85.99267777287844L585.040287052679,83.50134929647959L587.9013830664718,81.73907690457588L590.8564286175853,82.81807621297276L586.3154048345754,88.91002748916844L585.2828856256862,90.93321783793965L585.6279959597609,94.37962726074909L587.8649676331052,91.54205554325245L592.3040350226454,91.57978376034623L595.8910692339318,93.10864861437256L599.4321404407387,97.90804290371238L601.2032309424019,98.66758426503145L604.3610426305253,97.55280321333987L605.2406304056867,98.59589214535856L608.5351072624525,98.89161585493571L614.9844028599223,93.93572692593966L618.5135599318569,93.15386644729313L623.2959712894799,92.83830349974278L626.3543939346143,91.05954036265575L628.7886939659056,90.67813859717592L629.8767145867988,95.78577676239354L632.4861088657238,96.19921919764181L634.9152749566989,95.08814727015954L636.1142013201621,96.17631941307832L637.6126250328449,94.45270539921887L641.2631180938772,93.48621270109538L642.1470331065927,99.95609962723177L644.1840476207494,102.47748541077738L646.8151342553542,102.86123955789787L646.8615795870012,101.00173178078148L649.3275753069854,100.68017109135155L650.920933952335,102.42705727785733L649.978679248865,103.99402961346857L642.7592041930975,103.68702728108462L639.468504816203,104.9196601066792L635.5243445274295,103.13501097668086L634.7068602933882,105.28991181784045L635.4078066418256,106.95547861898808L633.7311225751546,106.74300338037006L631.0292234098793,104.48806851407585L626.6875595296224,103.44284486219487L624.5578713921877,103.5781459653673L622.775940118889,106.24008807091832L619.4433989974625,107.21581075629933L615.7074110443297,107.0941487835421L614.3239628490069,108.26325723352397L614.1766453006562,110.33250570317898L610.2991363255064,112.4673369131799L610.2715297601017,110.00523415103169L608.4473014852599,109.67066027853423L607.9835074394078,112.28255262590517L605.0058457104963,112.66950169439838L603.7584339777792,113.91581894427168L602.1651383368202,118.47923323228645L598.9441775132473,124.42082551548776ZM579.2630628666423,72.74572846603235L576.2665201484674,75.30929165020927L574.6325823524141,75.73302458493788L574.6323050031331,73.79992193084365L582.2121907281589,68.85653393028917L580.9370280896107,72.00712916262432Z" id="Michigan" class="mapPath"></path><path d="M539.8687220837581,98.69375074374716L538.8505205385316,97.92012100232012L536.3093025139531,99.55184191622152L536.7388164715592,110.56157421579371L536.0006979252136,111.71431201494636L532.358294716608,113.38182540641355L529.4998757944844,117.46713573489012L529.3727186496271,120.1309941411863L530.882586951505,120.28520605938093L532.6118663286885,122.57915981583312L531.203580489924,125.49472239424972L531.5999957412209,128.65630748192768L530.893593056439,135.5473376058585L534.494278129575,138.80607263036177L537.2665311509214,139.0100215217799L538.7282297468585,141.00528187222164L542.8910561957204,142.88661458248316L543.6537397667511,145.3183088527718L547.5980169527504,148.3259292791647L549.7550528087478,148.94339164667178L552.5234596858851,152.91966267719692L552.3043536488835,155.9131951831498L553.1492432263587,158.0312797942796L551.0840683371126,158.13366802712835L482.5792398274297,159.6405303416932L482.73887156174135,126.00132023636911L479.7341794923738,123.83461836192771L477.4694140189821,120.23640250225935L481.07263714811177,116.27692164701068L481.3706824871805,114.13303283154062L480.9190770525838,106.67723187655065L479.3763031605228,104.7281854866983L478.35047074774894,100.64131245722353L478.60304851990355,95.65104134816829L478.11900667085996,94.83229896248599L477.8055463233033,82.92945572065628L475.3760307108513,76.61029639751621L474.4513903883102,73.04980382545284L474.12997539696664,65.54940419055413L474.9802752443245,63.02975428730997L473.4173951788225,57.147323002906205L499.1680344703376,57.19903456009513L499.10507403463,50.13444672066248L501.53853962283597,50.311928620831964L503.17709158578697,51.7049425519707L504.9320370706891,61.27756786769794L506.2439161937942,62.37132121301022L510.34379395925737,62.60682825169317L510.8385944806443,63.50823124295016L515.6290269072641,63.81371485116233L516.2225779440654,65.82462482747371L520.3152783232345,65.21631327083344L520.2936956442585,64.40696932213052L523.4766784181098,63.305568687688265L526.2894916257834,63.62450178141489L529.5523127298163,65.0352922993219L530.509092714165,66.92663104751944L532.3511902163908,66.65770214886243L534.2218839420769,70.74380968071796L534.9795931653881,68.99074874296002L538.1024015379887,68.0540952894338L538.7232283435334,69.7519227013106L542.4857649666219,70.8052349400283L542.558892487193,72.42556130886214L544.478441977739,73.65708945667745L548.2317997630734,72.76518158430724L550.409035096804,70.82725466053262L553.4410390635189,69.54989595780512L554.6906121157434,72.22247273445441L556.7888812427215,71.4952333247611L559.3690372868602,71.95456462933623L562.3019277107351,71.37087357742905L565.8210859659978,73.48592086746146L569.0309681937993,72.86771636279491L568.8234377591189,73.89836902580862L564.767704374786,76.50210721707231L559.0040498214794,78.68480664258175L555.305536878125,80.82845043027578L550.072419656925,85.88983431939437L547.8500617777705,88.95381392884406L544.3755643978478,92.4805475413134L538.8211981556892,97.2075094907151Z" id="Minnesota" class="mapPath"></path><path d="M602.7449359147271,315.3400390570382L606.8025548680392,315.0121749862352L608.5384133625773,316.83508354900266L608.0640939965136,337.56291279807067L607.3571997120409,373.4427596390018L610.8520997538458,401.88531814066005L609.1604967742107,402.8423164243942L605.2630093475533,402.73428296260056L603.5890687373278,401.62821680428783L599.7855141791318,402.73235881202606L594.5746222856835,405.2600244738861L592.9932496211733,406.703677293037L590.9252543141322,404.89267251263857L590.1051915673577,401.86650155545385L587.20560435723,397.947831633939L588.3774065620519,391.7043309766641L558.2692905437998,393.3875569674252L559.3421599074261,392.00261875661306L558.0385305928271,388.36446059249L559.9433709096769,388.07022506889757L559.8787849836539,381.18598242146174L561.4576417400319,381.52167145534077L562.204188732455,377.2683813786325L565.7810494666116,374.41332232984814L567.4501842493764,370.0031073127743L566.8147159215764,364.47586985303246L564.3815346889318,362.23283041580703L564.3581485959027,358.42209456296257L565.4243693073914,357.54279730935934L563.8651996605305,355.4587704419341L564.9240784042305,352.8275914746521L563.8744699525071,348.963851493236L565.1502127355644,347.351254921449L562.3169156069698,345.0210518214153L564.4691689628738,339.13441955549536L567.0867357409237,336.00348907002683L566.0532034211765,333.99450668746044L569.0700113848716,330.7338644467851L568.9180139991823,329.50327486526817L571.6189090308876,328.3187107234161L571.1568415091624,324.62702393729444L572.6926264873784,323.71224250446005L573.587570790335,320.4572637012269L575.9104268366331,318.87191425596586L574.8984533346297,317.2794429192594Z" id="Mississippi" class="mapPath"></path><path d="M547.1966782692566,212.75100303341264L548.6532291160687,212.5830454380192L551.6778548748914,216.26546309109187L553.2498287369635,216.81036386849325L552.1423965462385,219.54942004466955L552.4779551532781,223.35652052517798L554.5423751541298,229.04454090257627L559.1533650728968,233.67074505523203L564.1410022108578,237.43530603328668L565.4287485961272,243.56894000133093L566.594955940205,244.64072717819442L568.1464216593155,242.79276533395205L571.3416499312596,243.4305702860106L573.4702562289197,244.64512327734155L572.1912072998074,247.00020830408164L572.6930395826913,248.7285254744868L570.5329590364203,253.72212498824058L570.6314805255051,256.71682124909285L575.1595364897544,260.2692163561667L576.9100617959747,262.6424859059646L578.4788732431662,262.12757173042314L583.4582248394572,265.83302451075633L583.6553304439541,268.71828864927136L585.1067583810403,272.24195556935126L583.9861778979346,273.5612878969372L587.6614259227118,278.68922048268337L590.016663512827,278.7278305559755L589.3509927295738,286.43718132921197L587.1021150349719,285.76806703232626L586.4552895195195,288.19380985033604L585.4802266506815,288.26109830332973L584.6676265102861,288.3166577854802L585.0647534963482,292.94659960291494L582.4425701964611,297.8821101004751L572.7866666992284,298.4869852606598L574.9467261589,294.8409150489317L577.0906913013936,292.4329346311764L575.5644933585312,288.9069205416637L511.3535707801563,291.2956526874125L509.2363105372694,291.32806693141276L509.09950051692294,281.9319198877722L508.5856190548517,241.2425029675211L505.5106971202136,240.35454201074185L503.1867694330337,235.94105232135712L501.36975421014967,234.10072748008304L504.5091081320007,228.59570117877593L499.9056346357501,227.19666207415435L498.4935252878671,225.4528895653665L494.97647348921134,220.51990352864323L491.94469021786847,214.4427535471384L507.8883023372457,214.61799967981926L527.2101280477013,213.9938376940513Z" id="Missouri" class="mapPath"></path><path d="M388.9445180510233,53.02176010643723L387.232227196119,74.01380071928611L384.14897664882676,109.52299545522192L382.7243905932953,127.16163282928801L382.50846759652615,127.14330010231527L358.1420951571532,124.72957772776522L316.7021466791289,119.69173111652776L290.9852989773508,115.85753522360108L289.50553423066026,125.58425883168934L287.444537746396,123.28006692751421L285.89275005016526,119.70492916478463L282.2513470097533,123.0532524959001L279.47862057186137,123.31816123783801L279.0032631678432,122.19844116901663L275.78301138926884,122.4836107121406L274.1475435124985,121.2663113426861L270.8566355906513,122.35948321154137L266.7890778905771,121.53640931268126L265.11972623322185,123.00874110963048L263.795951740789,121.72806799362525L263.16075895699794,115.46553494651039L260.4890967455503,114.76723020909071L259.2735119374605,112.97912733778571L259.9992290922977,109.46765378861141L258.68311017493477,107.86835611282334L257.2602283750659,103.74750196152274L256.6570626642181,99.98908784837658L257.2948425338599,98.54877126120243L255.32075159721063,96.29916290974177L253.6705751568065,98.06435885235169L250.01783242262607,99.96033452477354L247.64940574099592,97.51449631951937L248.67731041861927,95.63296502725836L248.1423672827842,93.54764134645029L250.84696244080737,91.99720855993826L250.07107142265778,88.92993603709738L251.26741816733153,84.69140980706936L254.4041025563694,78.23877470968444L250.72015641666627,77.61770772335638L250.82004138849402,76.39062781166012L247.88881126318543,73.83029950208731L247.74070429621509,71.72231369172073L244.071595612715,65.88385736507792L244.06487220581465,64.53219512544149L241.70192456647587,63.21141060596858L239.77309694789233,60.52193843698933L240.75173023367216,55.5362757710526L237.83403252580308,49.62479993859699L241.797560686922,31.113549917192017L297.18701905863225,41.697470276835816L322.3201832385753,45.45356006346094Z" id="Montana" class="mapPath"></path><path d="M389.279279401805,165.17905735580428L412.27893875972,166.85162362218273L454.7157984675425,168.66688164477307L455.1379793586266,169.60394273755685L462.06418632104965,173.16083771057538L463.74163628523013,171.34192532600343L465.6718654006104,171.78926228422768L472.0830593831379,171.8873025690168L479.214737230148,175.45759049198352L480.09420203395257,178.1397514019875L482.56388962967424,178.6683752226753L485.0134654702323,187.12139136908002L486.89753073317723,188.36141009429264L487.8013801174367,191.65918801632938L486.9658668758374,193.92541652455714L487.34240211458683,196.5024415397437L489.77483034842317,198.15186353526917L489.70249539365153,202.8943847286671L491.08429531997666,207.12065176566466L490.32451769765464,211.96977195651243L491.94469021786847,214.4427535471384L494.97647348921134,220.51990352864323L498.4935252878671,225.4528895653665L404.99100327223323,222.88831032176859L402.8988706018394,222.75650272095072L404.1007452758222,203.91320832831218L376.23661495224616,201.84152269558513L379.4183703053286,164.37958890380935Z" id="Nebraska" class="mapPath"></path><path d="M201.25851104669152,155.9241546144723L241.5033802898587,164.41986129692418L223.6615221381652,256.84367072628766L220.79637044619994,271.74984886400387L218.66318754678042,274.59787507392844L217.19516688373642,274.4184011448298L215.86155805723484,271.84426124028835L210.34118081765644,271.4892704799853L209.06791360796848,282.49712991338504L209.57973815938954,286.2810562962321L209.22311636788004,289.78656760153456L207.82595407529573,292.1388077019052L193.5478120720827,270.5619714879522L185.59322436408132,258.6009647189593L174.7219733035521,242.29098223694416L161.23352433545608,222.00704387441567L147.29790160877542,201.0492552389229L153.33147788304342,177.97691479588002L161.39805566877646,146.4068850877651L178.79769928195634,150.87592564813747Z" id="Nevada" class="mapPath"></path><path d="M812.0552088411744,83.27528959775634L815.8186519870349,94.7785297846508L823.0740573851309,118.33902795400115L825.7116263236262,119.86187719648967L825.9815015224099,121.70635120992563L827.9093598627953,122.56750954129132L827.318985280742,126.3523273100642L825.9436025531822,126.40499202647834L822.8956841183735,129.14149387854673L821.9032770038029,131.21637261639842L806.4193633383201,134.59531310922443L804.9088802960246,133.4908770701809L804.3747000399563,130.76105791283658L805.2771653468587,129.47230109842894L804.4773617569012,126.91657829780127L803.5379849860215,118.99001502379724L804.9093232825614,114.82446208605302L805.0026047339218,110.45464336461407L805.7544271252391,108.67144336137153L804.5315157066751,104.21822740309767L808.3983502475169,101.41326710123053L809.7033859481621,97.78462759210754L807.7285846726106,95.12405869154384L808.6976136495032,91.69093842042992L808.0878053473893,89.94503562417799L808.6695201787034,84.81402666286726L811.7213857332968,84.53031401329565Z" id="NewHampshire" class="mapPath"></path><path d="M789.6154614545178,169.42075005287245L794.770346416917,170.96399963689464L794.3839996176479,176.67234910941715L792.4203608149276,178.40443904556537L791.8760045753061,181.49768080337662L795.9613873392157,182.02467128651472L796.7595294026873,184.06292889861277L797.4139146121875,194.3002583215772L794.7864511068556,202.65055972616187L792.4455612797915,205.4139977407374L790.9720822266382,210.62172088877412L788.9841179713537,207.89536639369533L784.5849038882175,207.29449858661394L778.7218890914448,204.35878165701774L777.8211911439412,201.70221181800514L777.6567985922637,201.31541399350203L778.1983502311846,200.1401574169546L779.0051836000212,197.63780618908459L782.3927184716545,195.30141933746268L782.3056096499913,193.84018733595508L785.865551901261,189.86584091194936L786.1800702150525,188.101241815599L781.4189657717166,185.26098883952523L780.7499034711038,182.9788772975935L778.885828025929,182.7605826439525L778.2652377091888,180.67913615882503L779.6448494974966,176.98906078467462L778.0952932849048,175.3274507565568L780.6692193418417,170.73326538451477L780.958437266529,168.55357624016438L782.4448844973772,166.84135255489866Z" id="NewJersey" class="mapPath"></path><path d="M320.3585440453609,271.95616019009526L328.46167790672683,273.0146953899831L365.64912638481337,276.7848684187272L385.3337202389477,278.27318182722263L384.64210032332505,287.64483899869947L384.0735485137171,287.6027650853166L380.5234362661584,334.3078663259595L378.7723010093344,353.28440612828456L377.3740271007042,372.05459154454115L321.6807175770955,366.85857009105825L321.0450827845674,368.6486014414984L322.6103482186883,370.9948145380671L296.2280135526869,367.8237681871128L295.1359699251489,376.2774975982751L281.93524394378124,374.51304338716216L296.61007318217173,268.88279274345723Z" id="NewMexico" class="mapPath"></path><path d="M784.5667021336577,95.90232792114898L785.6266605882113,99.65077810575053L785.7439742539027,103.20821208576353L787.7445969405037,106.20414276021415L788.2393176496372,109.778800717855L787.6416479385122,113.83101224807592L789.9927450615431,118.54350487908209L789.6407747445776,120.21430133724823L792.4468684174865,122.70382096071171L795.0843376850465,135.3956643504913L795.619243356459,136.95970963921138L795.3228907359628,149.7435991929392L795.7851846764491,150.37374695600272L798.2331620708501,164.41252618558553L799.5596631391346,165.6836272381604L796.6987796247456,168.49146160594648L798.1697755933712,170.36646080933917L804.3419354951805,170.46510937212804L805.263066678699,169.0716098874417L810.2447684298875,167.83961569409485L812.6200770804162,166.6069535153813L816.0376065508033,162.65683673234264L816.869003025039,164.6797051617831L819.2494347385714,165.02842438343066L814.9610038975844,168.99507884862032L805.4408341251063,175.6122996939814L801.220844856243,177.4842892009824L798.2521727683961,177.98272142891255L796.2931946195979,179.40194441517644L794.3839996176479,176.67234910941715L794.770346416917,170.96399963689464L789.6154614545178,169.42075005287245L782.4448844973772,166.84135255489866L781.5534817759367,165.6698660518441L779.4529977645009,166.04024057021945L776.3055623413054,163.47271328172894L775.9935288431057,160.6912218320765L773.8969917877428,158.94241793255947L772.8859406318129,159.27270290371905L770.8543193115938,157.08440641845186L711.3191890419313,168.78165697614475L710.5137295735705,164.1129072381376L710.461212382511,163.80849760409535L717.8099793436342,157.08068038193323L718.6800156957402,154.31016122936535L721.0130377388246,152.1093484230671L719.4155058309551,149.1585246048934L718.2070752998644,148.75018445510636L716.4907429236533,143.83522378032376L723.8948778882818,140.28425434944063L730.8200759577658,139.07851504753114L733.6786401374969,139.04970413491083L737.0539447602121,140.48461878617616L738.7849460092259,139.30431437428967L744.5440198335909,138.25332640085105L747.7589151715265,136.2318209814298L750.7612333350696,132.14517386513L753.124164640892,131.54394271458614L752.1356865386522,126.50311740786219L752.7406821006982,123.33145677390348L749.3768684352507,121.94253390081315L749.5364364559007,119.49722426646372L754.0888001732319,115.27920664096837L755.4281922477198,112.15825891642714L760.3302729704278,104.68521819629609L765.4919571752735,100.27482052550852L774.3341771755312,98.76410921309969Z" id="NewYork" class="mapPath"></path><path d="M710.9223090175132,272.7414607956309L721.0128204165634,271.4098542652855L732.5035835663662,269.5495909788011L785.5873044519724,258.9841607876332L788.851528302955,265.99060308452226L784.6208450884334,266.16004700853114L784.2543436705791,267.1881280183633L779.5221792656591,269.3469130442842L779.0113835452162,270.5081747119175L775.7834569732744,271.49359097892454L776.2150422896859,272.77482427994426L780.041861735563,271.0311377986893L780.7731226281683,271.72175110461353L784.9949106510328,269.88023740558276L786.8055660383088,271.2881084404519L789.3016898204334,270.01234826142297L791.2260368966458,274.24268938418686L790.7987398396976,276.5526665299519L789.0690206851226,277.13638709960367L786.3225170296656,282.47053928951414L781.4264065543128,283.7102259264432L781.2668267638873,287.0103257983768L784.0323299198437,289.7005645823929L785.8677682574946,289.9477406781573L783.7662107322332,295.76180984862526L780.944961072657,295.7144090637688L776.3079397143956,297.1887520299533L773.2590891408104,298.9602748630065L768.7951254856102,303.52526397112024L765.5881907027697,308.98213763696424L764.5711353338336,315.2655192068381L761.1738807734208,314.55018378091256L755.9348011435773,316.79194300048187L735.689638726173,302.2037932998436L718.8010075799923,304.71710582820094L718.7022727290258,302.5389517948761L715.898955777065,299.7504451869712L714.5202394825915,301.1191546644976L714.1310720015858,299.1962420617888L695.5542987837498,301.0812415217662L691.5554869512612,302.38642862071924L688.5976504536507,304.57567063801287L683.5852647255116,306.51867033142537L675.9679149412508,307.8496403899686L665.4048252319898,309.0899507325836L665.2720189039958,304.63644593180675L668.1793205516119,303.85751354412525L668.9402444730058,300.64126629967154L672.2708477516823,297.40573553621743L676.3457681660607,296.7685011089143L679.637322483721,293.4131834198648L683.3288746562353,291.8682666692057L685.9999891978578,287.22455095588145L687.856139381391,285.71224185755386L688.5225902345138,287.4945353250482L693.846059392758,283.0779305122337L696.6231251339184,283.40008567908785L697.9669261279956,279.65151150023496L700.5733540608838,278.3199591075713L700.5523777232653,273.8324977508347Z" id="NorthCarolina" class="mapPath"></path><path d="M473.4173951788225,57.147323002906205L474.9802752443245,63.02975428730997L474.12997539696664,65.54940419055413L474.4513903883102,73.04980382545284L475.3760307108513,76.61029639751621L477.8055463233033,82.92945572065628L478.11900667085996,94.83229896248599L478.60304851990355,95.65104134816829L478.35047074774894,100.64131245722353L479.3763031605228,104.7281854866983L480.9190770525838,106.67723187655065L481.3706824871805,114.13303283154062L384.14897664882676,109.52299545522192L387.232227196119,74.01380071928611L388.9445180510233,53.02176010643723Z" id="NorthDakota" class="mapPath"></path><path d="M701.115674416374,170.91807049844567L705.2118275682193,195.84241377032617L703.3271356207191,197.19604551208715L704.6481995947611,199.07136815181366L705.0381632087795,201.93524094904342L703.8569439238516,206.72814334824898L703.6544774097572,213.7664809124741L699.1316693938319,220.65286733037522L697.4790240094156,221.74688844494426L695.7415127451995,220.762085031948L694.5226758468642,223.66546742664082L692.878789923962,223.81151367307712L691.6326550523587,227.65498559814773L692.3446437191681,229.74086881840378L691.1244192216666,231.69937091351665L688.5949106983505,229.1523070786094L686.603999668607,234.03775679371358L687.7263868546731,236.79613239279706L686.15223285207,238.06948042905378L685.9589217403302,240.60221576683455L682.2477171752763,241.55177062847713L679.9240594685699,239.27230381360891L678.2055526511,238.99131046314028L677.1379714951772,235.90730816210225L675.1877806826668,236.8020833292701L673.8725549065075,238.85818088174517L668.271454520835,238.15040635927164L666.172048875791,239.78001355088293L662.6268040277648,237.63454180120243L658.0710746182145,237.48126019186225L657.632019194617,235.870796662408L654.2604672837626,232.33277476945216L648.7967086331247,232.98975226088749L645.9365916539571,206.8213951955048L643.2187173061357,184.50590378953973L661.701296709542,181.4586791094223L667.3816930500366,183.29236932435174L669.398394866649,184.57541186069363L670.5541530358491,182.95807294261454L673.9807852218191,185.49493266692434L675.9955164040241,186.14502657385606L682.0372011430593,182.76447647082546L685.8723418381785,182.71148912963463L689.3962620436689,178.6282277604313L694.7803736886689,174.34267600357782L701.115674416374,170.91807049844567Z" id="Ohio" class="mapPath"></path><path d="M428.29835082822456,280.7824636417788L509.09950051692294,281.9319198877722L509.2363105372694,291.32806693141276L512.3494540907443,312.13371750365127L512.0507371055172,345.24062095280385L506.1081544387754,343.26278888657L504.5649361924287,341.1165257290804L500.5874879445952,339.29947212523496L499.5894238877871,340.95606650577463L495.62707801303,340.87726008813115L494.7798580677321,339.8505969227964L491.1611116759782,341.7160381392126L489.64233546193043,340.6874337477997L486.3540028871761,341.61331906943644L483.30752567368404,344.4901492620993L482.1319087319933,342.83698339216744L478.93354670228064,341.47977034657265L475.5605982816944,341.45346240623996L474.4854020353682,339.2793941254814L470.5601801437338,343.4609435496495L469.32493051512415,341.0752034972047L467.5442312082222,341.77193090360595L466.2185048984929,340.20641876595494L462.6214968436176,338.7038403338786L459.8796416978007,341.1259848710388L458.7521483013877,338.526652090428L456.57096061868975,338.1711255884426L455.3560447592738,336.0821208647767L452.43614398021055,335.1876589553128L450.4591968310773,336.88993484149364L449.2401252561766,335.31091653421186L446.2113308967687,335.43206175469504L442.9042293664281,333.6819401927381L439.7940430543678,333.78711995759613L438.8273691839701,330.1440733866507L433.98250517943876,329.7633505497066L432.1181959061072,330.31100123627687L428.8363701509594,326.5676617574044L427.6592055307538,326.72498027889435L429.1962221992817,290.2263434056613L402.2749496219448,288.8353295620468L384.64210032332505,287.64483899869947L385.3337202389477,278.27318182722263L399.45150884012435,279.3470321321962Z" id="Oklahoma" class="mapPath"></path><path d="M140.87563533233254,59.53232332006769L142.0905751068957,59.67654920007055L144.20496457485297,62.315051578332486L144.73970467462414,64.80996926389741L143.7933655995643,70.38742067727264L149.6988085708034,74.20553951904844L156.0115175902897,72.8990024546647L159.53665517916937,73.55683429023588L163.26574833409933,75.63667217876605L163.35848350728804,76.93319522440186L170.95313534081936,76.21861784361352L172.37578289828457,77.54643144311183L176.23829690130538,78.03020762744666L179.80971863982313,77.0548387831775L185.7404415546149,76.88092398471349L190.88414275622978,77.74799014745315L192.9062170795401,76.98566723040403L219.06525348440363,83.24269162905694L220.114641147834,86.72148843795276L222.82515831661624,88.68088638125948L223.32557518483674,91.40693412224641L219.47755023951981,96.21658095297437L217.99668084776,99.24346916330535L216.02905707292024,101.11376231314512L215.86190048891217,102.86041200189584L213.91678283820596,105.26040939042298L212.43842004627783,105.5587240055836L208.34506922186074,111.46531342925402L208.7025249824854,114.1761565967372L211.1286061987301,115.03862420660266L211.86215636622916,116.78017219992978L208.79776218799992,122.40545042484473L201.25851104669152,155.9241546144723L178.79769928195634,150.87592564813747L161.39805566877646,146.4068850877651L147.60502967795878,142.767446341986L129.8703167619954,137.5292559446351L118.53469178773884,134.35184862301298L105.56695748299899,130.5657586170738L104.32677248684297,127.92285508629993L105.10912071768871,121.80689250655234L106.56713709815187,117.84031918256949L105.75599802372761,114.14337359346814L107.94839940871697,111.5911428371777L110.35493818645875,107.06042666812311L113.83186652548807,102.53728472647083L116.05870983829772,98.27696318111714L122.09249177599742,83.49026847602579L122.51071903768974,81.3678246729637L125.77978915553052,75.08149027249044L129.04919143530054,66.02329983232482L129.90745026458012,60.73058715147033L131.43833569339546,57.886404773787945L137.19181102494866,56.73751928236118L138.75692487352399,59.4388966153175Z" id="Oregon" class="mapPath"></path><path d="M710.5137295735705,164.1129072381376L711.3191890419313,168.78165697614475L770.8543193115938,157.08440641845186L772.8859406318129,159.27270290371905L773.8969917877428,158.94241793255947L775.9935288431057,160.6912218320765L776.3055623413054,163.47271328172894L779.4529977645009,166.04024057021945L781.5534817759367,165.6698660518441L782.4448844973772,166.84135255489866L780.958437266529,168.55357624016438L780.6692193418417,170.73326538451477L778.0952932849048,175.3274507565568L779.6448494974966,176.98906078467462L778.2652377091888,180.67913615882503L778.885828025929,182.7605826439525L780.7499034711038,182.9788772975935L781.4189657717166,185.26098883952523L786.1800702150525,188.101241815599L785.865551901261,189.86584091194936L782.3056096499913,193.84018733595508L782.3927184716545,195.30141933746268L779.0051836000212,197.63780618908459L776.0813674367477,197.74953475879056L774.1594166568768,200.27900751323045L722.6066303114933,210.3678108515454L708.0068074675554,212.8493556171353L705.2118275682193,195.84241377032617L701.115674416374,170.91807049844567L701.115674416374,170.91807049844567L703.4790740233354,169.48319622724364L710.461212382511,163.80849760409535Z" id="Pennsylvania" class="mapPath"></path><path d="M828.1450719500249,149.3763741858245L830.0507210694537,152.38738895283473L827.5124671478075,153.49136085225018ZM822.0479785671416,144.384397707291L824.017679172141,143.86414848058996L825.8840878803776,147.95235291358426L827.619423863548,148.87672296963274L825.9288877734266,149.00661451762608L825.2480683508556,152.0653571476406L825.8069076445936,155.96907553433255L820.9566409898363,158.19759927798293L821.3265114567645,156.29064335065084L818.5231883265835,145.52009904895476Z" id="RhodeIsland" class="mapPath"></path><path d="M688.5976504536507,304.57567063801287L691.5554869512612,302.38642862071924L695.5542987837498,301.0812415217662L714.1310720015858,299.1962420617888L714.5202394825915,301.1191546644976L715.898955777065,299.7504451869712L718.7022727290258,302.5389517948761L718.8010075799923,304.71710582820094L735.689638726173,302.2037932998436L755.9348011435773,316.79194300048187L753.4491979742609,318.194378755803L750.681125415457,321.8419180386986L748.2897087583419,327.192086342984L748.3937081401671,331.148356226023L746.3356855110552,334.6510195101904L742.8938163773632,335.2557485981912L742.5261127118237,337.61815346801427L739.3261717978892,340.67690053014417L737.7514858269319,343.65928867144055L734.7289751337099,345.31718957719534L731.7315566646535,348.7357330282972L731.6102799276839,350.11070595277397L728.6343226826141,352.1614523894202L725.7859858986405,356.682825704935L721.9503854066797,355.62793759738076L721.3683526518986,352.4933086160719L718.1268523752676,347.90116912890016L715.8048794511074,346.9086417146559L715.0227729928599,342.96916376841966L713.540380657015,340.07371430215653L708.9813926689327,337.8528192542824L705.7732410530939,334.7941165406552L705.6220358174244,332.6301217855248L701.0521033411719,330.07753189450466L698.5416816198656,326.90327198330283L694.7006035031993,325.0606911831196L691.7367116565014,321.5248470987576L690.9367961776401,319.45131030477853L688.0444455621639,315.69103408685476L686.5125598690792,316.214915386278L680.9222478971075,312.91554817294855L680.9096886985141,310.9401651618575L683.5852647255116,306.51867033142537Z" id="SouthCarolina" class="mapPath"></path><path d="M384.14897664882676,109.52299545522192L481.3706824871805,114.13303283154062L481.07263714811177,116.27692164701068L477.4694140189821,120.23640250225935L479.7341794923738,123.83461836192771L482.73887156174135,126.00132023636911L482.5792398274297,159.6405303416932L480.8044247335514,160.0419364469335L481.53454981593404,161.58779725736588L481.071410650761,164.87467713468084L482.76833375960064,166.73438138105143L481.7215839194361,168.06607157325527L481.2544061057259,171.76654527992105L480.0432330557633,174.53715882188033L482.56388962967424,178.6683752226753L480.09420203395257,178.1397514019875L479.214737230148,175.45759049198352L472.0830593831379,171.8873025690168L465.6718654006104,171.78926228422768L463.74163628523013,171.34192532600343L462.06418632104965,173.16083771057538L455.1379793586266,169.60394273755685L454.7157984675425,168.66688164477307L412.27893875972,166.85162362218273L389.279279401805,165.17905735580428L379.4183703053286,164.37958890380935L382.50846759652615,127.14330010231527L382.7243905932953,127.16163282928801Z" id="SouthDakota" class="mapPath"></path><path d="M606.6766843601283,286.645470538057L606.1492524495843,283.2701517490199L609.4584708949742,283.8186559170962L628.0368455206715,281.6831700403485L644.4442834032902,280.68414507845637L647.3302756192996,280.152736717426L658.3872671909056,279.48125860827815L671.0041652145868,278.103672500167L671.2061023891675,277.7649503748801L700.5523777232653,273.8324977508347L700.5733540608838,278.3199591075713L697.9669261279956,279.65151150023496L696.6231251339184,283.40008567908785L693.846059392758,283.0779305122337L688.5225902345138,287.4945353250482L687.856139381391,285.71224185755386L685.9999891978578,287.22455095588145L683.3288746562353,291.8682666692057L679.637322483721,293.4131834198648L676.3457681660607,296.7685011089143L672.2708477516823,297.40573553621743L668.9402444730058,300.64126629967154L668.1793205516119,303.85751354412525L665.2720189039958,304.63644593180675L665.4048252319898,309.0899507325836L646.0228861840691,311.4546901823777L619.5394298853671,313.80444441962175L606.8025548680392,315.0121749862352L602.7449359147271,315.3400390570382L574.8984533346297,317.2794429192594L576.3597565713209,316.6743974160345L577.6475058939513,313.28766114440964L577.1192107150868,308.7716033601538L579.7248595918711,305.5058728662433L580.0333552585737,302.59036561448545L582.1818227124799,301.4165187284766L582.4425701964611,297.8821101004751L585.0647534963482,292.94659960291494L584.6676265102861,288.3166577854802L585.4802266506815,288.26109830332973L586.4552895195195,288.19380985033604L588.2282454083145,287.8626955254326Z" id="Tennessee" class="mapPath"></path><path d="M402.2749496219448,288.8353295620468L429.1962221992817,290.2263434056613L427.6592055307538,326.72498027889435L428.8363701509594,326.5676617574044L432.1181959061072,330.31100123627687L433.98250517943876,329.7633505497066L438.8273691839701,330.1440733866507L439.7940430543678,333.78711995759613L442.9042293664281,333.6819401927381L446.2113308967687,335.43206175469504L449.2401252561766,335.31091653421186L450.4591968310773,336.88993484149364L452.43614398021055,335.1876589553128L455.3560447592738,336.0821208647767L456.57096061868975,338.1711255884426L458.7521483013877,338.526652090428L459.8796416978007,341.1259848710388L462.6214968436176,338.7038403338786L466.2185048984929,340.20641876595494L467.5442312082222,341.77193090360595L469.32493051512415,341.0752034972047L470.5601801437338,343.4609435496495L474.4854020353682,339.2793941254814L475.5605982816944,341.45346240623996L478.93354670228064,341.47977034657265L482.1319087319933,342.83698339216744L483.30752567368404,344.4901492620993L486.3540028871761,341.61331906943644L489.64233546193043,340.6874337477997L491.1611116759782,341.7160381392126L494.7798580677321,339.8505969227964L495.62707801303,340.87726008813115L499.5894238877871,340.95606650577463L500.5874879445952,339.29947212523496L504.5649361924287,341.1165257290804L506.1081544387754,343.26278888657L512.0507371055172,345.24062095280385L513.6868364166401,346.96499601428707L516.7161197419576,345.9830388849681L518.9322411998942,346.7632269213494L519.1380736476037,356.74889194761295L519.5344510153614,375.97856959301816L523.0810401168004,380.01253180060905L523.2619645926341,384.11815782697613L527.7972699646052,391.6066162704042L528.1630457704014,395.60000733187087L526.6217681799997,400.46108841998296L525.0892712958672,402.44702142217784L525.6784090571157,404.99604917933766L524.5803216731765,406.9698181437452L525.9008096332133,410.52478937050455L522.2488600416464,417.26578259014445L523.7097967358162,419.075717961632L521.0480253050381,419.2363097708202L512.6508498041032,421.947896463854L509.60667266941647,420.55985787658676L509.03275332604056,417.4974438177712L506.92927784148435,419.6729829381338L505.4135938642322,419.17856512735784L504.64192165840024,421.84697728811136L506.3449483355127,422.95366147482184L506.6524097783372,426.42718857460034L503.6544658435135,430.13904904094926L498.7654054725364,434.77605094500666L488.89896579385163,439.70973285755935L487.9095146423126,438.8929585232861L484.9386532073316,440.11359075092065L484.85138415778005,438.9905727210516L480.79984339357515,439.79203851246154L478.92472381307664,437.4334867889197L477.75306293011874,437.9362301151482L482.0471886235596,442.75725955173004L478.8820323366814,444.27099001782284L475.91135699540246,443.33147010595417L475.43199888211757,446.6935487184257L471.68874748941374,450.12405947924975L467.79939617658334,456.4963896352027L465.24448376561315,463.1792900243832L463.4258516140429,462.6425965205659L462.9297341403467,465.07642459588703L464.8592913036627,464.4961743877821L463.8691360151864,469.36236926039976L462.5821057843895,469.5451146445945L462.44528538278166,472.287041600398L463.98339085385635,473.8356119807614L464.3583941591002,479.42636886816075L466.17684783269635,481.3811501943471L466.5900258109484,484.93732097163786L468.03122586506845,488.09941963211105L462.8051485490693,489.94960212317517L460.7111769246175,487.4821355972464L456.74163601390273,486.4958032880936L451.45432695655654,486.5849797339449L446.9917986967923,483.43265603463385L443.57777371397765,483.03601109870243L441.06063195736095,480.52756503862537L437.5778356953847,479.60814633724743L435.25642087142177,477.1967040974683L433.8818937280316,471.56125693775186L430.9735247865892,468.10273591524594L431.4425821704214,465.270967304956L430.1833152566553,462.1714679205401L430.7365639118994,459.54427932313416L428.75264338360194,456.5160125758912L427.0364849705794,456.14423127949294L424.32575618610946,453.385865244623L423.55718782023405,449.9891083908258L421.24297673422274,446.8307481244388L417.8329174498506,444.1285758612476L416.3781058264566,438.44462980318906L414.83217159886226,436.8393923541357L412.89535419131073,432.24811004415875L412.359723931025,428.5394558318592L410.4390794671002,425.78298368096785L407.08514201892007,423.25506941458184L406.3709436941908,421.5786748706596L403.24848338251354,419.97490009152716L400.99383167495733,415.7491296533142L393.9631184135086,414.4093002128428L389.7010383773096,414.34576444014124L386.1673730490137,412.6778810418674L385.24092739025707,414.5648117792906L381.30290043930216,414.91019070407185L378.10243842352344,418.58109756940814L375.8734886918989,424.67333465712386L374.8857159141797,424.70346660328175L372.38263581063256,428.206353655596L369.6953372550674,428.1048844216947L365.9028720095705,424.93911925457473L356.2272266203011,419.52364892085757L354.48648300905694,416.90932479279877L350.79571837606807,414.2207087329788L348.53715775416526,408.67221233433474L348.8001251829901,403.86318411772106L346.4371825077592,399.7345939162984L346.13956563894055,396.3096476556635L344.5936835764531,394.00106113745267L338.7067257884345,390.23538377301634L335.83060384981263,385.61661243843514L333.2959502218418,383.81003535433274L330.81931426150265,379.83687516267673L327.0483509463554,377.47364617219614L324.8212513789637,372.27258824902776L322.6103482186883,370.9948145380671L321.0450827845674,368.6486014414984L321.6807175770955,366.85857009105825L377.3740271007042,372.05459154454115L378.7723010093344,353.28440612828456L380.5234362661584,334.3078663259595L384.0735485137171,287.6027650853166L384.64210032332505,287.64483899869947Z" id="Texas" class="mapPath"></path><path d="M266.97354741014306,169.053496240169L282.1799350125684,171.46858137784818L279.2060856612808,190.0954620978813L306.8446238635662,194.21046993247467L301.93620555639984,229.16498675211517L299.66578842239494,245.01127162721832L299.6195066119641,247.09022537619057L296.61007318217173,268.88279274345723L275.33170215576996,265.6736305679822L223.6615221381652,256.84367072628766L241.5033802898587,164.41986129692418Z" id="Utah" class="mapPath"></path><path d="M808.0878053473893,89.94503562417799L808.6976136495032,91.69093842042992L807.7285846726106,95.12405869154384L809.7033859481621,97.78462759210754L808.3983502475169,101.41326710123053L804.5315157066751,104.21822740309767L805.7544271252391,108.67144336137153L805.0026047339218,110.45464336461407L804.9093232825614,114.82446208605302L803.5379849860215,118.99001502379724L804.4773617569012,126.91657829780127L805.2771653468587,129.47230109842894L804.3747000399563,130.76105791283658L804.9088802960246,133.4908770701809L806.4193633383201,134.59531310922443L795.619243356459,136.95970963921138L795.0843376850465,135.3956643504913L792.4468684174865,122.70382096071171L789.6407747445776,120.21430133724823L789.9927450615431,118.54350487908209L787.6416479385122,113.83101224807592L788.2393176496372,109.778800717855L787.7445969405037,106.20414276021415L785.7439742539027,103.20821208576353L785.6266605882113,99.65077810575053L784.5667021336577,95.90232792114898L797.8620727415225,92.80588483358315Z" id="Vermont" class="mapPath"></path><path d="M229.85199324167547,28.490963827517362L224.69273624467968,50.79118222389559L219.30814344953285,75.03310160530248L218.76500390945984,76.47935586999643L219.70937699588058,80.03846732717477L219.06525348440363,83.24269162905694L192.9062170795401,76.98566723040403L190.88414275622978,77.74799014745315L185.7404415546149,76.88092398471349L179.80971863982313,77.0548387831775L176.23829690130538,78.03020762744666L172.37578289828457,77.54643144311183L170.95313534081936,76.21861784361352L163.35848350728804,76.93319522440186L163.26574833409933,75.63667217876605L159.53665517916937,73.55683429023588L156.0115175902897,72.8990024546647L149.6988085708034,74.20553951904844L143.7933655995643,70.38742067727264L144.73970467462414,64.80996926389741L144.20496457485297,62.315051578332486L142.0905751068957,59.67654920007055L140.87563533233254,59.53232332006769L138.75692487352399,59.4388966153175L137.19181102494866,56.73751928236118L135.15667280792178,55.38285201817905L133.00094433172836,55.90606706449489L131.101459459455,53.62424879599348L132.3168584097295,51.32815996927252L134.32323529109908,50.550841478918755L132.95288866122996,46.08728885254391L134.22099689742873,35.93653130346797L133.60846241500474,34.365943964618396L134.37198318833572,27.15901813654864L132.8021480924428,23.804184179809226L133.4411598593373,18.267293190283226L135.8363928445312,15.1922030979689L137.75463775070716,17.58772050644052L142.00595079253475,21.32430921557716L145.39620772298144,22.241060097685477L148.50037527602478,24.11962038608442L151.92862596988044,24.180730163601538L152.99259033877996,26.18302310188494L155.8664998833092,26.91384781454792L156.7305275996497,31.386984437046067L158.2766383810595,31.51417435046767L157.03376468848836,36.861782245362406L156.53497684584153,41.8993459016408L157.88128426085677,41.75413843839385L157.84610567527932,37.30528578762437L159.32167357826063,33.39623947622715L162.4806028480341,29.86340721976387L161.36016155777224,27.753192042917362L162.06061257863593,24.791175050638117L161.79036675197585,21.238277393414933L163.04990100143033,19.0717239799518L163.0402350016094,16.123202326352157L161.2509290056861,15.188774505403217L160.0728178502082,12.638956362188878L161.09187610883004,10.83019194524195ZM158.01248967445576,23.208573468785175L159.82016098651326,22.885863924493606L158.5202706440371,26.41342896688718L156.9962478532887,24.49696588242523ZM155.7393518679006,17.27620695084147L157.7308528656111,15.3278445837949L158.68509911197856,18.659789189025787L157.45483358098937,20.93843299788739L154.88893692132717,19.45316440613942Z" id="Washington" class="mapPath"></path><path d="M705.2118275682193,195.84241377032617L708.0068074675554,212.8493556171353L722.6066303114933,210.3678108515454L724.1306553769225,219.95409220370095L726.6067096704143,217.73436477762266L728.8188215574652,214.08750905171917L730.776635607975,214.36367111636412L733.0453654309247,211.11654105474054L737.4381816871266,211.6690519992352L737.5965508659625,209.53888248331248L739.9169727182452,209.20798912642795L740.9512967156436,207.54120926014048L743.6559966988866,208.81210976226419L746.0326426510788,208.35446484267106L748.6487133878372,213.21066422239812L747.7966312508938,217.05766472995947L739.3001243849769,212.26583668548642L739.5576670405424,217.8906173085203L734.3623666667264,226.62165798156104L732.2808816199035,225.3200978761305L730.4324520998289,232.47283231800566L729.2200918160837,234.26215970229146L726.7324481905104,233.86218311624475L723.8682167216925,231.74140106488835L723.5153227287211,236.2051223205326L721.2887920696083,240.15098141127385L720.7610601792245,243.6984836766767L718.547086101072,246.90083487243567L717.4621916386875,250.11939491375983L717.9436183214061,253.49459511811676L715.6758413064363,255.545599799971L714.9359020111779,254.51598005306164L708.9197228724005,259.15225937323123L705.3385659120682,260.7641026596682L703.0454778203707,259.1357164091993L700.6350785322551,262.015440425119L698.8162670988921,262.39728223667623L696.1133552017391,261.238438163076L693.6502565197044,258.36886357630294L693.6609939772844,256.80099310462276L691.7089710925363,256.77664350664725L688.6163258371168,255.0369019224098L687.5916063945003,252.99375386095357L684.8990529191336,250.56359353413598L682.6518447417179,247.231982892274L682.2477171752763,241.55177062847713L685.9589217403302,240.60221576683455L686.15223285207,238.06948042905378L687.7263868546731,236.79613239279706L686.603999668607,234.03775679371358L688.5949106983505,229.1523070786094L691.1244192216666,231.69937091351665L692.3446437191681,229.74086881840378L691.6326550523587,227.65498559814773L692.878789923962,223.81151367307712L694.5226758468642,223.66546742664082L695.7415127451995,220.762085031948L697.4790240094156,221.74688844494426L699.1316693938319,220.65286733037522L703.6544774097572,213.7664809124741L703.8569439238516,206.72814334824898L705.0381632087795,201.93524094904342L704.6481995947611,199.07136815181366L703.3271356207191,197.19604551208715Z" id="WestVirginia" class="mapPath"></path><path d="M560.5475680906151,100.20326853600352L563.009789802566,101.17964764470298L564.6147932905567,104.2491968069537L578.1672775321603,107.1207460551816L583.9028972122518,109.45495630080791L585.5575813668067,108.71113480976283L591.2402071960104,110.09543282864774L592.9287718658505,112.31215635507658L595.8252391296415,114.32119249478637L595.9650086773729,117.59356228117736L594.9688691295368,120.24628531117037L598.0822108321152,120.38676752100048L597.0961284786864,123.1442995259905L599.276685280689,124.90529840976376L598.9719829554444,127.19406366898318L596.4878223658988,127.82220406911983L594.6898099839764,132.29470119911707L594.1433798737426,135.32396571404604L595.7081194148021,135.7061835840916L597.5686883163228,133.5912234278578L599.4136483602504,129.7260476759352L602.0244558349243,128.052084535198L603.7514231323128,123.16354178018435L606.3809490664029,121.88943537577131L606.3970377557747,124.35589517447784L604.7383441892009,126.77423736207697L601.7664514627905,134.86692530931919L601.1352156194556,139.24810677604978L601.481507282828,142.30749279249596L600.1874583768756,143.45257604175697L599.3133381084721,147.75427123592965L600.0656321950231,151.2968171968405L599.0955555445541,153.7530863793403L597.9762351487261,159.72918876703056L598.7400856411267,164.30816202583446L600.7266254558342,168.26699769887603L600.6760523037519,173.74630886454224L587.2317328460733,174.8384864932499L561.9413629642941,176.20400854107584L560.8372813701617,173.8949303652007L555.8713177678015,171.9980734254683L554.6751121470313,169.07217465852818L554.0148643857663,164.8835268889094L555.528461107374,162.54069982349188L553.4366976657107,160.7951874467674L553.1492432263587,158.0312797942796L552.3043536488835,155.9131951831498L552.5234596858851,152.91966267719692L549.7550528087478,148.94339164667178L547.5980169527504,148.3259292791647L543.6537397667511,145.3183088527718L542.8910561957204,142.88661458248316L538.7282297468585,141.00528187222164L537.2665311509214,139.0100215217799L534.494278129575,138.80607263036177L530.893593056439,135.5473376058585L531.5999957412209,128.65630748192768L531.203580489924,125.49472239424972L532.6118663286885,122.57915981583312L530.882586951505,120.28520605938093L529.3727186496271,120.1309941411863L529.4998757944844,117.46713573489012L532.358294716608,113.38182540641355L536.0006979252136,111.71431201494636L536.7388164715592,110.56157421579371L536.3093025139531,99.55184191622152L538.8505205385316,97.92012100232012L539.8687220837581,98.69375074374716L542.7612850896289,98.77298378354612L551.529755007342,95.19012110853203L554.7317088096495,93.28664448338623L555.9251423925555,94.54706456612928L554.3041788657806,97.08407776812976L558.6990427641182,100.00425979167483Z" id="Wisconsin" class="mapPath"></path><path d="M316.7021466791289,119.69173111652776L358.1420951571532,124.72957772776522L382.50846759652615,127.14330010231527L379.4183703053286,164.37958890380935L376.23661495224616,201.84152269558513L352.9038444683383,199.75601968101762L322.4925455903443,196.17367918503373L306.8446238635662,194.21046993247467L279.2060856612808,190.0954620978813L282.1799350125684,171.46858137784818L289.50553423066026,125.58425883168934L290.9852989773508,115.85753522360108Z" id="Wyoming" class="mapPath"></path><path id="PuertoRico" class="mapPath"></path></g>',c="http://d3js.org/d3.v3.min.js",d=a.util;
a.define("nx.graphic.Topology.USMapLayout",{properties:{topology:{},projection:{}},methods:{process:function(a,b,e){"undefined"==typeof d3?d.loadScript(c,function(){this._process(a,b,e)}.bind(this)):this._process(a,b,e)},_process:function(b,c,d){var e=this.topology(),f=d3.geo.albersUsa();e.prependLayer("usmap","nx.graphic.Topology.USMapLayer");var g=c.longitude||"model.longitude",h=c.latitude||"model.latitude",i=g.split(".").pop(),j=h.split(".").pop();e.graph().eachVertex(function(b){b.positionGetter(function(){var c=f([a.path(b,i),a.path(b,j)]);return{x:c[0],y:c[1]}}),b.positionSetter(function(a){var c=f.invert([a.x,a.y]);b.set(i,c[0]),b.set(j,c[1])}),b.position(b.positionGetter().call(b))}),e.stage().resetFitMatrix(),this.projection(f),e.fit(function(){d&&d.call(e)})}}}),a.define("nx.graphic.Topology.USMapLayer",a.graphic.Topology.Layer,{view:{type:"nx.graphic.Group",content:{name:"map",type:"nx.graphic.Group"}},methods:{draw:function(){var a=this.view("map"),c="http://www.w3.org/2000/svg",d=(new DOMParser).parseFromString('<svg  xmlns="'+c+'">'+b+"</svg>","text/xml");a.view().dom().$dom.appendChild(document.importNode(d.documentElement.firstChild,!0))},updateMap:function(){}}})}(nx,nx.global),function(a){var b,c="http://d3js.org/topojson.v1.min.js",d="http://bl.ocks.org/mbostock/raw/4090846/world-50m.json",e=960,f=480,g=a.util;a.define("nx.graphic.Topology.WorldMapLayout",{properties:{topology:{},projection:{}},methods:{process:function(a,b,c){return b.worldTopoJson?(d=b.worldTopoJson,void this._loadD3(function(){this._loadTopoJSON(function(){this._process(a,b,c)}.bind(this))}.bind(this))):void console.log("Please idenity world topo json url, download from:http://bl.ocks.org/mbostock/raw/4090846/world-50m.json")},_loadD3:function(a){"undefined"==typeof d3?g.loadScript(c,function(){a.call(this)}.bind(this)):a.call(this)},_loadTopoJSON:function(a){"undefined"==typeof topojson?g.loadScript(c,function(){a.call(this)}.bind(this)):a.call(this)},_process:function(c,d,g){var h=this.topology();b=d3.geo.equirectangular().translate([e/2,f/2]).precision(.1),h.prependLayer("worldMap","nx.graphic.Topology.WorldMapLayer");var i=d.longitude||"model.longitude",j=d.latitude||"model.latitude";h.eachNode(function(c){var d=c.model(),e=b([a.path(c,i),a.path(c,j)]);d.position({x:e[0],y:e[1]})}),this.projection(b),g&&h.getLayer("worldMap").complete(function(){g.call(h)})}}}),a.define("nx.graphic.Topology.WorldMapLayer",a.graphic.Topology.Layer,{properties:{complete:{}},view:{type:"nx.graphic.Group",content:{name:"map",type:"nx.graphic.Group"}},methods:{draw:function(){var a=this.view("map"),c=this.topology(),e=d3.select(a.view().dom().$dom),f=d3.geo.path().projection(b);d3.json(d,function(a,b){e.insert("path",".graticule").datum(topojson.feature(b,b.objects.land)).attr("class","land mapPath").attr("d",f),e.insert("path",".graticule").datum(topojson.mesh(b,b.objects.countries,function(a,b){return a!==b})).attr("class","boundary mapBoundary").attr("d",f),c.stage().resetFitMatrix(),c.fit(null,null,!0),this.complete()&&this.complete().call()}.bind(this))},updateMap:function(){},update:function(){var a=this.topology();this.set("scale",a.scale())}}})}(nx,nx.global),function(a){a.define("nx.graphic.Topology.TooltipPolicy",{events:[],properties:{topology:{},tooltipManager:{}},methods:{init:function(a){this.inherited(a),this.sets(a),this._tm=this.tooltipManager()},pressStage:function(){this._tm.closeAll()},zoomstart:function(){this._tm.closeAll()},clickNode:function(a){this._tm.openNodeTooltip(a)},clickLinkSetNumber:function(a){this._tm.openLinkSetTooltip(a)},dragStageStart:function(){this._tm.closeAll()},clickLink:function(a){this._tm.openLinkTooltip(a)},resizeStage:function(){this._tm.closeAll()},fitStage:function(){this._tm.closeAll()},deleteNode:function(){this._tm.closeAll()},deleteNodeSet:function(){this._tm.closeAll()}}})}(nx,nx.global),function(a){a.define("nx.graphic.Topology.Tooltip",a.ui.Popover,{properties:{lazyClose:{value:!1},pin:{value:!1},listenWindow:{value:!0}}})}(nx,nx.global),function(a){a.define("nx.graphic.Topology.NodeTooltipContent",a.ui.Component,{properties:{node:{set:function(b){var c=b.model();this.view("list").set("items",new a.data.Dictionary(c.getData())),this.title(b.label())}},topology:{},title:{}},view:{content:[{name:"header",props:{"class":"n-topology-tooltip-header"},content:[{tag:"span",props:{"class":"n-topology-tooltip-header-text"},name:"title",content:"{#title}"}]},{name:"content",props:{"class":"n-topology-tooltip-content n-list"},content:[{name:"list",tag:"ul",props:{"class":"n-list-wrap",template:{tag:"li",props:{"class":"n-list-item-i",role:"listitem"},content:[{tag:"label",content:"{key}: "},{tag:"span",content:"{value}"}]}}}]}]},methods:{init:function(a){this.inherited(a),this.sets(a)}}})}(nx,nx.global),function(a){a.define("nx.graphic.Topology.LinkTooltipContent",a.ui.Component,{properties:{link:{set:function(b){var c=b.model();this.view("list").set("items",new a.data.Dictionary(c.getData()))}},topology:{},tooltipmanager:{}},view:{content:{props:{"class":"n-topology-tooltip-content n-list"},content:[{name:"list",tag:"ul",props:{"class":"n-list-wrap",template:{tag:"li",props:{"class":"n-list-item-i",role:"listitem"},content:[{tag:"label",content:"{key}: "},{tag:"span",content:"{value}"}]}}}]}}})}(nx,nx.global),function(a){a.define("nx.graphic.Topology.LinkSetTooltipContent",a.ui.Component,{properties:{linkSet:{set:function(b){var c=[];a.each(b.model().edges(),function(a){c.push({item:"Source:"+a.sourceID()+" Target :"+a.targetID(),edge:a})}),this.view("list").items(c)}},topology:{}},view:[{props:{style:{maxHeight:"247px",overflow:"auto","overflow-x":"hidden"}},content:{name:"list",props:{"class":"list-group",style:"width:200px",template:{tag:"a",props:{"class":"list-group-item"},content:"{item}",events:{click:"{#_click}"}}}}}],methods:{_click:function(a){a.model().edge}}})}(nx,nx.global),function(a,b){a.define("nx.graphic.Topology.TooltipManager",{events:["openNodeToolTip","closeNodeToolTip","openLinkToolTip","closeLinkToolTip","openLinkSetTooltip","closeLinkSetToolTip"],properties:{topology:{value:null},tooltips:{value:function(){return new a.data.ObservableDictionary}},nodeTooltip:{},linkTooltip:{},linkSetTooltip:{},nodeSetTooltip:{},nodeTooltipClass:{value:"nx.graphic.Topology.Tooltip"},linkTooltipClass:{value:"nx.graphic.Topology.Tooltip"},linkSetTooltipClass:{value:"nx.graphic.Topology.Tooltip"},nodeSetTooltipClass:{value:"nx.graphic.Topology.Tooltip"},nodeTooltipContentClass:{value:"nx.graphic.Topology.NodeTooltipContent"},linkTooltipContentClass:{value:"nx.graphic.Topology.LinkTooltipContent"},linkSetTooltipContentClass:{value:"nx.graphic.Topology.LinkSetTooltipContent"},nodeSetTooltipContentClass:{value:"nx.graphic.Topology.NodeSetTooltipContent"},showNodeTooltip:{value:!0},showLinkTooltip:{value:!0},showLinkSetTooltip:{value:!0},showNodeSetTooltip:{value:!0},tooltipPolicyClass:{get:function(){return void 0!==this._tooltipPolicyClass?this._tooltipPolicyClass:"nx.graphic.Topology.TooltipPolicy"},set:function(c){if(this._tooltipPolicyClass!==c){this._tooltipPolicyClass=c;var d=this.topology(),e=a.path(b,this.tooltipPolicyClass());if(e){var f=new e({topology:d,tooltipManager:this});this.tooltipPolicy(f)}return!0}return!1}},tooltipPolicy:{value:function(){var b=this.topology();return new a.graphic.Topology.TooltipPolicy({topology:b,tooltipManager:this})}},activated:{get:function(){return void 0!==this._activated?this._activated:!0},set:function(a){return this._activated!==a?(this._activated=a,!0):!1}}},methods:{init:function(c){this.inherited(c),this.sets(c),this.registerTooltip("nodeTooltip",this.nodeTooltipClass()),this.registerTooltip("linkTooltip",this.linkTooltipClass()),this.registerTooltip("linkSetTooltip",this.linkSetTooltipClass()),this.registerTooltip("nodeSetTooltip",this.nodeSetTooltipClass());var d=this.getTooltip("nodeTooltip");d.on("close",function(){this.fire("closeNodeToolTip")},this),d.view().dom().addClass("n-topology-tooltip"),this.nodeTooltip(d);var e=this.getTooltip("linkTooltip");e.on("close",function(){this.fire("closeLinkToolTip",e)},this),e.view().dom().addClass("n-topology-tooltip"),this.linkTooltip(e);var f=this.getTooltip("linkSetTooltip");f.on("close",function(){this.fire("closeLinkSetToolTip",f)},this),f.view().dom().addClass("n-topology-tooltip"),this.linkSetTooltip(f);var g=this.getTooltip("nodeSetTooltip");g.on("close",function(){this.fire("closeNodeSetToolTip")},this),g.view().dom().addClass("n-topology-tooltip"),this.nodeSetTooltip(g);var h=this.topology(),i=a.path(b,this.tooltipPolicyClass());if(i){var j=new i({topology:h,tooltipManager:this});this.tooltipPolicy(j)}},registerTooltip:function(c,d){var e=this.tooltips(),f=this.topology(),g=d;a.is(g,"String")&&(g=a.path(b,d));var h=new g;h.sets({topology:f,tooltipManager:this,model:f.graph(),"data-tooltip-type":c}),e.setItem(c,h)},getTooltip:function(a){var b=this.tooltips();return b.getItem(a)},executeAction:function(a,b){if(this.activated()){var c=this.tooltipPolicy();c&&c[a]&&c[a].call(c,b)}},openNodeTooltip:function(c,d){var e,f=this.topology(),g=this.nodeTooltip();if(g.close(!0),this.showNodeTooltip()!==!1){var h=d||f.getAbsolutePosition(c.position()),i=a.path(b,this.nodeTooltipContentClass());i&&(e=new i,e.sets({topology:f,node:c,model:f.model()})),e&&(g.content(null),e.attach(g));var j=c.getBound(!0);g.open({target:h,offset:Math.max(j.height,j.width)/2}),this.fire("openNodeToolTip",c)}},openNodeSetTooltip:function(c,d){var e,f=this.topology(),g=this.nodeSetTooltip();if(g.close(!0),this.showNodeSetTooltip()!==!1){var h=d||f.getAbsolutePosition(c.position()),i=a.path(b,this.nodeSetTooltipContentClass());i&&(e=new i,e.sets({topology:f,nodeSet:c,model:f.model()})),e&&(g.content(null),e.attach(g));var j=c.getBound(!0);g.open({target:h,offset:Math.max(j.height,j.width)/2}),this.fire("openNodeSetToolTip",c)}},openLinkTooltip:function(c,d){var e,f=this.topology(),g=this.linkTooltip();if(g.close(!0),this.showLinkTooltip()!==!1){var h=d||f.getAbsolutePosition(c.centerPoint()),i=a.path(b,this.linkTooltipContentClass());i&&(e=new i,e.sets({topology:f,link:c,model:f.model()})),e&&(g.content(null),e.attach(g)),g.open({target:h,offset:4}),this.fire("openLinkToolTip",c)}},openLinkSetTooltip:function(c,d){var e,f=this.topology(),g=this.linkSetTooltip();if(g.close(!0),this.showLinkSetTooltip()!==!1){var h=d||f.getAbsolutePosition(c.centerPoint()),i=a.path(b,this.linkSetTooltipContentClass());i&&(e=new i,e.sets({topology:f,linkSet:c,model:f.model()})),e&&(g.content(null),e.attach(g)),g.open({target:h,offsetX:0,offsetY:8}),this.fire("openLinkSetToolTip",c)}},closeAll:function(){this.tooltips().each(function(a){a.value().close(!0)},this)},dispose:function(){this.tooltips().each(function(a){a.value().close(!0),a.value().dispose()},this),this.inherited()}}})}(nx,nx.global),function(a){a.define("nx.graphic.Topology.Scene",a.data.ObservableObject,{properties:{topology:{value:null}},methods:{init:function(a){this.sets(a)},activate:function(){},deactivate:function(){}}})}(nx,nx.global),function(a){a.define("nx.graphic.Topology.DefaultScene",a.graphic.Topology.Scene,{events:[],methods:{activate:function(){this._topo=this.topology(),this._nodesLayer=this._topo.getLayer("nodes"),this._nodeSetLayer=this._topo.getLayer("nodeSet"),this._linksLayer=this._topo.getLayer("links"),this._linkSetLayer=this._topo.getLayer("linkSet"),this._groupsLayer=this._topo.getLayer("groups"),this._tooltipManager=this._topo.tooltipManager(),this._nodeDragging=!1,this._sceneTimer=null,this._interval=600},deactivate:function(){this._tooltipManager.closeAll()},dispatch:function(a,b,c){this._tooltipManager.executeAction(a,c)},pressStage:function(){},clickStage:function(a,b){b.target!=this._topo.stage().view().dom().$dom||b.shiftKey||this._topo.selectedNodes().clear()},dragStageStart:function(){var b=this._nodesLayer.nodes().length;b>300&&this._linksLayer.hide(),this._recover(),this._blockEvent(!0),a.dom.Document.html().addClass("n-moveCursor")},dragStage:function(a,b){var c=this._topo.stage();c.applyTranslate(b.drag.delta[0],b.drag.delta[1])},dragStageEnd:function(){this._linksLayer.show(),this._blockEvent(!1),a.dom.Document.html().removeClass("n-moveCursor")},projectionChange:function(){},zoomstart:function(){var a=this._nodesLayer.nodes().length;a>300&&this._linksLayer.setStyle("display","none"),this._recover()},zooming:function(){},zoomend:function(){this._linksLayer.setStyle("display","block"),this._topo.adjustLayout()},beforeSetData:function(){},afterSetData:function(){},insertData:function(){},ready:function(){},enterNode:function(b,c){clearTimeout(this._sceneTimer),this._nodeDragging||(this._sceneTimer=setTimeout(function(){this._nodeDragging||this._topo.activeRelatedNode(c)}.bind(this),this._interval),this._recover()),a.dom.Document.body().addClass("n-dragCursor")},leaveNode:function(){clearTimeout(this._sceneTimer),this._nodeDragging||this._recover(),a.dom.Document.body().removeClass("n-dragCursor")},hideNode:function(){},dragNodeStart:function(){this._nodeDragging=!0,this._blockEvent(!0),a.dom.Document.html().addClass("n-dragCursor"),setTimeout(this._recover.bind(this),0)},dragNode:function(a,b){this._topo._moveSelectionNodes(event,b)},dragNodeEnd:function(){this._nodeDragging=!1,this._blockEvent(!1),this._topo.stage().resetFitMatrix(),a.dom.Document.html().removeClass("n-dragCursor")},pressNode:function(){},clickNode:function(a,b){this._nodeDragging||(event.shiftKey||this._topo.selectedNodes().clear(),b.selected(!b.selected()))},selectNode:function(a,b){var c=this._topo.selectedNodes();b.selected()?-1==c.indexOf(b)&&this._topo.selectedNodes().add(b):-1!==c.indexOf(b)&&this._topo.selectedNodes().remove(b)},updateNodeCoordinate:function(){},enterLink:function(){},pressNodeSet:function(){},clickNodeSet:function(a,b){clearTimeout(this._sceneTimer),this._recover(),event.shiftKey?b.selected(!b.selected()):b.collapsed(!b.collapsed())},enterNodeSet:function(a,b){clearTimeout(this._sceneTimer),this._nodeDragging||(this._sceneTimer=setTimeout(function(){this._topo.activeRelatedNode(b)}.bind(this),this._interval))},leaveNodeSet:function(){clearTimeout(this._sceneTimer),this._nodeDragging||this._recover()},beforeExpandNodeSet:function(b,c){this._blockEvent(!0);for(var d=c.parentNodeSet();d&&d.group;){var e=d.group;e.clear(),e.nodes(a.util.values(d.nodes())),e.draw(),d=d.parentNodeSet()}this._recover()},expandNodeSet:function(b,c){clearTimeout(this._sceneTimer),this._recover(),this._topo.stage().resetFitMatrix(),this._topo.fit(function(){c.group=this._groupsLayer.addGroup({shapeType:"nodeSetPolygon",nodeSet:c,nodes:a.util.values(c.nodes()),label:c.label(),color:"#9BB150",id:c.id()});for(var b=c.parentNodeSet();b&&b.group;)b.group.draw(),b=b.parentNodeSet();this._blockEvent(!1),this._topo.adjustLayout()},this,1.5)},beforeCollapseNodeSet:function(b,c){this._blockEvent(!0),c.group&&(this._groupsLayer.removeGroup(c.id()),delete c.group),a.each(c.nodeSets(),function(a){a.group&&(this._groupsLayer.removeGroup(a.id()),delete a.group)},this),this._topo.fadeIn(),this._recover()},collapseNodeSet:function(b,c){for(var d=c.parentNodeSet();d&&d.group;){var e=d.group;e.clear(),e.nodes(a.util.values(d.nodes())),d=d.parentNodeSet()}this._topo.stage().resetFitMatrix(),this._topo.fit(function(){this._blockEvent(!1)},this)},removeNodeSet:function(a,b){b.group&&(this._groupsLayer.removeGroup(b.id()),delete b.group),this._topo.stage().resetFitMatrix()},updateNodeSet:function(b,c){c.group&&(c.group.clear(),c.group.nodes(a.util.values(c.nodes())))},dragNodeSetStart:function(){this._nodeDragging=!0,this._recover(),this._blockEvent(!0),a.dom.Document.html().addClass("n-dragCursor")},dragNodeSet:function(a,b){this._topo._moveSelectionNodes(event,b)},dragNodeSetEnd:function(){this._nodeDragging=!1,this._blockEvent(!1),a.dom.Document.html().removeClass("n-dragCursor"),this._topo.stage().resetFitMatrix()},selectNodeSet:function(a,b){var c=this._topo.selectedNodes();b.selected()?-1==c.indexOf(b)&&this._topo.selectedNodes().add(b):-1!==c.indexOf(b)&&this._topo.selectedNodes().remove(b)},addNode:function(){this._topo.stage().resetFitMatrix(),this._topo.adjustLayout()},addNodeSet:function(){this._topo.stage().resetFitMatrix(),this._topo.adjustLayout()},removeNode:function(){this._topo.adjustLayout()},dragGroupStart:function(){},dragGroup:function(a,b){if(event){var c=this._topo.stageScale();b.updateNodesPosition(event.drag.delta[0],event.drag.delta[1]),b.move(event.drag.delta[0]*c,event.drag.delta[1]*c)}},dragGroupEnd:function(){},clickGroupLabel:function(){},collapseNodeSetGroup:function(a,b){var c=b.nodeSet();c&&c.collapsed(!0)},enterGroup:function(b,c){if(a.is(c,"nx.graphic.Topology.NodeSetPolygonGroup")){var d=c.nodeSet();this._topo.activeNodes(a.util.values(d.nodes())),this._topo.fadeOut(),this._groupsLayer.fadeOut(),c.view().dom().addClass("fade-active-item")}},leaveGroup:function(a,b){b.view().dom().removeClass("fade-active-item"),this._topo.fadeIn(),this._topo.recoverActive()},right:function(){this._topo.move(30,null,.5)},left:function(){this._topo.move(-30,null,.5)},up:function(){this._topo.move(null,-30,.5)},down:function(){this._topo.move(null,30,.5)},pressR:function(){a.DEBUG&&this._topo.activateLayout("force")},pressA:function(){if(a.DEBUG){var b=this._topo.selectedNodes().toArray();this._topo.selectedNodes().clear(),this._topo.aggregationNodes(b)}},pressS:function(){a.DEBUG&&this._topo.activateScene("selection")},pressM:function(){a.DEBUG&&this._topo.activateScene("default")},pressF:function(){a.DEBUG&&this._topo.fit()},topologyGenerated:function(){this._topo.adjustLayout()},_recover:function(){this._topo.fadeIn(),this._topo.recoverActive()},_blockEvent:function(a){this._topo.blockEvent(a)}}})}(nx,nx.global),function(a){a.define("nx.graphic.Topology.SelectionScene",a.graphic.Topology.DefaultScene,{methods:{activate:function(a){this.appendRect(),this.inherited(a),this.topology().dom().addClass("n-crosshairCursor")},deactivate:function(){this.inherited(),this.rect.dispose(),delete this.rect,this.topology().dom().removeClass("n-crosshairCursor"),a.dom.Document.html().removeClass("n-crosshairCursor")},_dispatch:function(a,b,c){this[a]&&this[a].call(this,b,c)},appendRect:function(){var b=this.topology();this.rect||(this.rect=new a.graphic.Rect({"class":"selectionRect"}),this.rect.attach(b.stage().staticLayer())),this.rect.sets({x:0,y:0,width:0,height:0})},dragStageStart:function(){this.rect.set("visible",!0),this._blockEvent(!0),a.dom.Document.html().addClass("n-crosshairCursor")},dragStage:function(a,b){var c=this.rect,d=b.drag.origin,e=b.drag.offset;e[0]<0?(c.set("x",d[0]+e[0]),c.set("width",-e[0])):(c.set("x",d[0]),c.set("width",e[0])),e[1]<0?(c.set("y",d[1]+e[1]),c.set("height",-e[1])):(c.set("y",d[1]),c.set("height",e[1]))},dragStageEnd:function(){this._stageTranslate=null,this.rect.set("visible",!1),this._blockEvent(!1),a.dom.Document.html().removeClass("n-crosshairCursor")},_getRectBound:function(){var a=this.rect.getBoundingClientRect(),b=this.topology().getBound();return{top:a.top-b.top,left:a.left-b.left,width:a.width,height:a.height,bottom:a.bottom-b.top,right:a.right-b.left}},esc:{},clickNodeSet:function(){},dragNode:function(){},dragNodeSet:function(){},_blockEvent:function(b){b?(this.topology().scalable(!1),a.dom.Document.body().addClass("n-userselect n-blockEvent")):(this.topology().scalable(!0),a.dom.Document.body().removeClass("n-userselect"),a.dom.Document.body().removeClass("n-blockEvent"))}}})}(nx,nx.global),function(a){a.define("nx.graphic.Topology.SelectionNodeScene",a.graphic.Topology.SelectionScene,{properties:{selectedNodes:{get:function(){return this.topology().selectedNodes()}}},methods:{activate:function(){this.inherited();var a=this._tooltipManager;a.activated(!1)},deactivate:function(){this.inherited();var a=this._tooltipManager;a.activated(!0)},pressStage:function(a,b){var c=this.selectedNodes(),d=this._multi=b.metaKey||b.ctrlKey||b.shiftKey;d||c.clear(),b.captureDrag(a.stage().view(),this.topology().stage())},enterNode:function(){},clickNode:function(){},dragStageStart:function(a,b){this.inherited(a,b);var c=this.selectedNodes(),d=this._multi=b.metaKey||b.ctrlKey||b.shiftKey;d||c.clear(),this._prevSelectedNodes=this.selectedNodes().toArray().slice()},dragStage:function(a,b){this.inherited(a,b),this.selectNodeByRect(this.rect.getBound())},selectNode:function(a,b){b.selected()?this._topo.selectedNodes().add(b):this._topo.selectedNodes().remove(b)},selectNodeSet:function(a,b){b.selected()?this._topo.selectedNodes().add(b):this._topo.selectedNodes().remove(b)},pressNode:function(a,b){if(b.enable()){var c=this.selectedNodes();this._multi=event.metaKey||event.ctrlKey||event.shiftKey,this._multi||c.clear(),b.selected(!b.selected())}},pressNodeSet:function(a,b){if(b.enable()){var c=this.selectedNodes();this._multi=event.metaKey||event.ctrlKey||event.shiftKey,this._multi||c.clear(),b.selected(!b.selected())}},selectNodeByRect:function(a){this.topology().eachNode(function(b){var c=b.getBound(),d=b.selected();this._hittest(a,c)?d||b.selected(!0):this._multi?-1==this._prevSelectedNodes.indexOf(b)&&d&&b.selected(!1):d&&b.selected(!1)},this)},collapseNodeSetGroup:function(){},enterGroup:function(){},_hittest:function(a,b){var c=b.top>=a.top&&b.top<=a.top+a.height,d=b.left>=a.left&&b.left<=a.left+a.width,e=a.top+a.height>=b.top+b.height&&b.top+b.height>=a.top,f=a.left+a.width>=b.left+b.width&&b.left+b.width>=a.left,g=a.top>=b.top&&a.top+a.height<=b.top+b.height,h=a.left>=b.left&&a.left+a.width<=b.left+b.width;return c&&d||e&&f||c&&f||e&&d||c&&h||e&&h||d&&g||f&&g}}})}(nx,nx.global),function(a){a.define("nx.graphic.Topology.ZoomBySelection",a.graphic.Topology.SelectionScene,{events:["finish"],properties:{},methods:{activate:function(b){this.inherited(b),a.dom.Document.html().addClass("n-zoomInCursor")},deactivate:function(){this.inherited(),a.dom.Document.html().removeClass("n-zoomInCursor")},dragStageEnd:function(a,b){var c=this.rect.getBound();this.inherited(a,b),this.fire("finish",c)},esc:function(){this.fire("finish")}}})}(nx,nx.global),function(a,b){var c={rect:"nx.graphic.Topology.RectGroup",circle:"nx.graphic.Topology.CircleGroup",polygon:"nx.graphic.Topology.PolygonGroup",nodeSetPolygon:"nx.graphic.Topology.NodeSetPolygonGroup"},d=["#C3A5E4","#75C6EF","#CBDA5C","#ACAEB1 ","#2CC86F"];a.define("nx.graphic.Topology.GroupsLayer",a.graphic.Topology.Layer,{statics:{colorTable:d},events:["dragGroupStart","dragGroup","dragGroupEnd","clickGroupLabel","enterGroup","leaveGroup","collapseNodeSetGroup"],properties:{shapeType:"polygon",groupItems:{value:function(){var b=new a.data.ObservableDictionary;return b.on("change",function(b,c){var d=c.action,e=c.items;"clear"==d&&a.each(e,function(a){a.value().dispose()})},this),b}},groups:{get:function(){return this._groups||[]},set:function(b){a.is(b,Array)&&(a.each(b,function(a){this.addGroup(a)},this),this._groups=b)}}},methods:{registerGroupItem:function(a,b){c[a]=b},attach:function(a){this.inherited(a);var b=this.topology();b.on("afterFitStage",this._redraw.bind(this),this),b.on("zoomend",this._redraw.bind(this),this),b.watch("revisionScale",this._redraw.bind(this),this),b.watch("showIcon",this._redraw.bind(this),this)},addGroup:function(e){var f=this.groupItems(),g=e.shapeType||this.shapeType(),h=e.nodes,i=a.path(b,c[g]),j=new i({topology:this.topology()}),k=a.clone(e);k.color||(k.color=d[f.count()%5]),delete k.nodes,delete k.shapeType,j.sets(k),j.attach(this),j.nodes(h);var l=k.id||j.__id__;f.setItem(l,j);var m=["dragGroupStart","dragGroup","dragGroupEnd","clickGroupLabel","enterGroup","leaveGroup","collapseNodeSetGroup"];return a.each(m,function(a){j.on(a,function(){this.fire(a,j)},this)},this),j},_redraw:function(){this.groupItems().each(function(a){a.value()._draw()},this)},removeGroup:function(a){var b=this.groupItems(),c=b.getItem(a);c&&(c.dispose(),b.removeItem(a))},getGroup:function(a){return this.groupItems().getItem(a)},eachGroupItem:function(a,b){this.groupItems().each(function(c){a.call(b||this,c.value(),c.key())},this)},clear:function(){this.groupItems().clear(),this.inherited()},dispose:function(){this.clear();var a=this.topology();a.off("collapseNodeSet",this._redraw.bind(this),this),a.off("expandNodeSet",this._redraw.bind(this),this),a.off("zoomend",this._redraw.bind(this),this),a.off("fitStage",this._redraw.bind(this),this),a.unwatch("revisionScale",this._redraw.bind(this),this),a.unwatch("showIcon",this._redraw.bind(this),this),this.inherited()}}})}(nx,nx.global),function(a){a.define("nx.graphic.Topology.GroupItem",a.graphic.Group,{events:[],properties:{topology:{},nodes:{get:function(){return this._nodes||[]},set:function(b){var c=this.topology(),d=c.graph(),e=this.vertices();(a.is(b,Array)||a.is(b,a.data.ObservableCollection))&&(a.each(b,function(b){var c;a.is(b,a.graphic.Topology.AbstractNode)?c=b.model():d.getVertex(b)&&(c=d.getVertex(b)),c&&-1==e.indexOf(c)&&e.push(c)},this),a.each(e,function(a){this.attachEvent(a)},this),this.draw()),this._nodes=b}},vertices:{value:function(){return[]}},color:{},label:{},blockDrawing:{value:!1}},view:{},methods:{attachEvent:function(a){a.watch("generated",this._draw,this),a.on("updateCoordinate",this._draw,this)},detachEvent:function(a){a.unwatch("generated",this._draw,this),a.off("updateCoordinate",this._draw,this)},getNodes:function(){var b=[],c=this.topology();return a.each(this.vertices(),function(a){if(a.generated()){var d=c.getNode(a.id());d&&b.push(d)}}),b},addNode:function(b){var c,d=this.topology(),e=d.graph(),f=this.vertices();a.is(b,a.graphic.Topology.AbstractNode)?c=b.model():e.getVertex(b)&&(c=e.getVertex(b)),c&&-1==f.indexOf(c)&&(f.push(c),this.attachEvent(c),this.draw())},removeNode:function(b){var c,d=this.topology(),e=d.graph(),f=this.vertices(),g=this.nodes();if(a.is(b,a.graphic.Topology.AbstractNode)?c=b.model():e.getVertex(b)&&(c=e.getVertex(b)),c&&-1!=f.indexOf(c)){if(f.splice(f.indexOf(c),1),this.detachEvent(c),a.is(g,Array)){var h=c.id(),i=d.getNode(h);-1!==g.indexOf(h)?g.splice(g.indexOf(h),1):i&&-1!==g.indexOf(i)&&g.splice(g.indexOf(i),1)}this.draw()}},_draw:function(){this.blockDrawing()||this.draw()},draw:function(){0===this.getNodes().length?this.hide():this.show()},updateNodesPosition:function(b,c){var d=this.topology().stageScale();a.each(this.getNodes(),function(a){a.move(b*d,c*d)})},clear:function(){a.each(this.vertices(),function(a){this.detachEvent(a)},this),this.vertices([]),this.nodes([])},dispose:function(){this.clear(),this.inherited()}}})}(nx,nx.global),function(a){a.define("nx.graphic.Topology.RectGroup",a.graphic.Topology.GroupItem,{events:["dragGroupStart","dragGroup","dragGroupEnd","clickGroupLabel","enterGroup","leaveGroup"],view:{type:"nx.graphic.Group",props:{"class":"group"},content:[{name:"shape",type:"nx.graphic.Rect",props:{"class":"bg"},events:{mousedown:"{#_mousedown}",dragstart:"{#_dragstart}",dragmove:"{#_drag}",dragend:"{#_dragend}"}},{name:"text",type:"nx.graphic.Group",content:{name:"label",type:"nx.graphic.Text",props:{"class":"groupLabel",text:"{#label}"},events:{click:"{#_clickLabel}"}}}]},properties:{},methods:{draw:function(){this.inherited(),this.setTransform(0,0);var a=this.topology(),b=a.stageScale(),c=(a.revisionScale(),{x:a.matrix().x(),y:a.matrix().y()}),d=a.getBoundByNodes(this.getNodes());if(null!=d){d.left-=c.x,d.top-=c.y;var e=this.view("shape");e.sets({x:d.left,y:d.top,width:d.width,height:d.height,fill:this.color(),stroke:this.color(),scale:a.stageScale()});var f=this.view("text");f.setTransform((d.left+d.width/2)*b,(d.top-12)*b,b),f.view().dom().setStyle("fill",this.color()),this.view("label").view().dom().setStyle("font-size",11)}},_clickLabel:function(){this.fire("clickGroupLabel")},_mousedown:function(a,b){b.captureDrag(this.view("shape"),this.topology().stage())},_dragstart:function(a,b){this.blockDrawing(!0),this.fire("dragGroupStart",b)},_drag:function(a,b){this.fire("dragGroup",b)},_dragend:function(a,b){this.blockDrawing(!1),this.fire("dragGroupEnd",b)}}})}(nx,nx.global),function(a){a.define("nx.graphic.Topology.CircleGroup",a.graphic.Topology.GroupItem,{events:["dragGroupStart","dragGroup","dragGroupEnd","clickGroupLabel","enterGroup","leaveGroup"],view:{type:"nx.graphic.Group",props:{"class":"group"},content:[{name:"shape",type:"nx.graphic.Circle",props:{"class":"bg"},events:{mousedown:"{#_mousedown}",dragstart:"{#_dragstart}",dragmove:"{#_drag}",dragend:"{#_dragend}"}},{name:"text",type:"nx.graphic.Group",content:{name:"label",type:"nx.graphic.Text",props:{"class":"groupLabel",text:"{#label}"},events:{click:"{#_clickLabel}"}}}]},methods:{draw:function(){this.inherited(),this.setTransform(0,0);var a=this.topology(),b=(a.revisionScale(),{x:a.matrix().x(),y:a.matrix().y()}),c=a.getBoundByNodes(this.getNodes());if(null!=c){var d=Math.sqrt(Math.pow(c.width/2,2)+Math.pow(c.height/2,2)),e=this.view("shape");e.sets({cx:c.left-b.x+c.width/2,cy:c.top-b.y+c.height/2,r:d,fill:this.color(),stroke:this.color(),scale:a.stageScale()});var f=this.view("text"),g=a.stageScale();c.left-=b.x,c.top-=b.y,f.setTransform((c.left+c.width/2)*g,(c.top+c.height/2-d-12)*g,g),f.view().dom().setStyle("fill",this.color()),this.view("label").view().dom().setStyle("font-size",11),this.setTransform(0,0)}},_clickLabel:function(){this.fire("clickGroupLabel")},_mousedown:function(a,b){b.captureDrag(this.view("shape"),this.topology().stage())},_dragstart:function(a,b){this.blockDrawing(!0),this.fire("dragGroupStart",b)},_drag:function(a,b){this.fire("dragGroup",b)},_dragend:function(a,b){this.blockDrawing(!1),this.fire("dragGroupEnd",b)}}})}(nx,nx.global),function(a){a.define("nx.graphic.Topology.PolygonGroup",a.graphic.Topology.GroupItem,{events:["dragGroupStart","dragGroup","dragGroupEnd","clickGroupLabel","enterGroup","leaveGroup"],view:{type:"nx.graphic.Group",props:{"class":"group"},content:[{name:"shape",type:"nx.graphic.Polygon",props:{"class":"bg"},events:{mousedown:"{#_mousedown}",dragstart:"{#_dragstart}",dragmove:"{#_drag}",dragend:"{#_dragend}"}},{name:"text",type:"nx.graphic.Group",content:{name:"label",type:"nx.graphic.Text",props:{"class":"nodeSetGroupLabel",text:"{#label}",style:{"alignment-baseline":"central","text-anchor":"middle","font-size":12}},events:{click:"{#_clickLabel}"}}}],events:{mouseenter:"{#_mouseenter}",mouseleave:"{#_mouseleave}"}},properties:{shape:{get:function(){return this.view("shape")}}},methods:{draw:function(){this.inherited(),this.setTransform(0,0);var b=this.topology(),c=b.stageScale(),d=b.revisionScale(),e={x:b.matrix().x(),y:b.matrix().y()},f=[];a.each(this.getNodes(),function(a){a.visible()&&f.push({x:a.model().x(),y:a.model().y()})});var g=this.view("shape");g.sets({fill:this.color()}),g.dom().setStyle("stroke",this.color()),g.dom().setStyle("stroke-width",60*c*d),g.nodes(f);var h=b.getInsideBound(g.getBound());h.left-=e.x,h.top-=e.y,h.left*=c,h.top*=c,h.width*=c,h.height*=c;var i=this.view("text");i.setTransform(h.left+h.width/2,h.top-40*c*d,c),this.view("label").view().dom().setStyle("font-size",11),i.view().dom().setStyle("fill",this.color())},_clickLabel:function(){this.fire("clickGroupLabel")},_mousedown:function(a,b){b.captureDrag(this.view("shape"),this.topology().stage())},_dragstart:function(a,b){this.blockDrawing(!0),this.fire("dragGroupStart",b)},_drag:function(a,b){this.fire("dragGroup",b)},_dragend:function(a,b){this.blockDrawing(!1),this.fire("dragGroupEnd",b)}}})}(nx,nx.global),function(a){a.define("nx.graphic.Topology.NodeSetPolygonGroup",a.graphic.Topology.GroupItem,{events:["dragGroupStart","dragGroup","dragGroupEnd","clickGroupLabel","enterGroup","leaveGroup","collapseNodeSetGroup"],view:{type:"nx.graphic.Group",props:{"class":"group aggregationGroup"},content:[{name:"shape",type:"nx.graphic.Polygon",props:{"class":"bg"}},{name:"icons",type:"nx.graphic.Group",content:[{name:"minus",type:"nx.graphic.Group",content:{name:"minusIcon",type:"nx.graphic.Icon",props:{iconType:"collapse"}},events:{click:"{#_collapse}"}},{name:"nodeIcon",type:"nx.graphic.Group",content:{name:"nodeIconImg",type:"nx.graphic.Icon",props:{iconType:"nodeSet",scale:1}}},{name:"labelContainer",type:"nx.graphic.Group",content:{name:"label",type:"nx.graphic.Text",props:{"class":"nodeSetGroupLabel",text:"{#label}",style:{"alignment-baseline":"central","text-anchor":"start","font-size":12},visible:!1},events:{click:"{#_clickLabel}"}},events:{}}],events:{mouseenter:"{#_mouseenter}",mouseleave:"{#_mouseleave}",mousedown:"{#_mousedown}",dragstart:"{#_dragstart}",dragmove:"{#_drag}",dragend:"{#_dragend}"}}]},properties:{nodeSet:{},topology:{},opacity:{set:function(a){Math.max(a,.1);
this._opacity=a}},shape:{get:function(){return this.view("shape")}}},methods:{draw:function(){this.inherited(),this.setTransform(0,0);var b=this.topology(),c=b.stageScale(),d={x:b.matrix().x(),y:b.matrix().y()},e=[];a.each(this.getNodes(),function(a){a.visible()&&e.push({x:a.model().x(),y:a.model().y()})});var f=this.view("shape");f.nodes(e);var g=b.getInsideBound(f.getBound());g.left-=d.x,g.top-=d.y,g.left*=c,g.top*=c,g.width*=c,g.height*=c;{var h=this.view("minus"),i=this.view("label"),j=this.view("nodeIcon"),k=this.view("nodeIconImg");this.view("labelContainer")}if(b.showIcon()&&b.revisionScale()>.6){f.dom().setStyle("stroke-width",60*c),k.set("iconType",this.nodeSet().iconType());var l=k.size();h.setTransform(g.left+g.width/2,g.top-l.height*c/2-22*c,1*c),j.visible(!0),j.setTransform(g.left+g.width/2+3*c+l.width*c/2,g.top-l.height*c/2-22*c,.5*c),i.sets({x:g.left+g.width/2-3*c+l.width*c,y:g.top-l.height*c/2-22*c}),i.view().dom().setStyle("font-size",16*c)}else f.dom().setStyle("stroke-width",30*c),h.setTransform(g.left+g.width/2,g.top-45*c/2,c),j.visible(!1),i.sets({x:g.left+g.width/2+12*c,y:g.top-45*c/2}),i.view().dom().setStyle("font-size",16*c)},_clickLabel:function(){this.fire("clickGroupLabel")},_mousedown:function(a,b){b.captureDrag(this.view("icons"),this.topology().stage())},_dragstart:function(a,b){this.blockDrawing(!0),this.fire("dragGroupStart",b)},_drag:function(a,b){this.fire("dragGroup",b)},_dragend:function(a,b){this.blockDrawing(!1),this.fire("dragGroupEnd",b)},_collapse:function(){this.fire("collapseNodeSetGroup",event)},_mouseenter:function(){this.fire("enterGroup")},_mouseleave:function(){this.fire("leaveGroup")}}})}(nx,nx.global),function(a){var b=a.geometry.Vector,c=a.geometry.Line,d=0,e=["#b2e47f","#e4e47f","#bec2f9","#b6def7","#89f0de"];a.define("nx.graphic.Topology.Path",a.graphic.Component,{view:{type:"nx.graphic.Group",content:{name:"path",type:"nx.graphic.Path"}},properties:{pathStyle:{value:{stroke:"#666","stroke-width":"0px"}},pathWidth:{value:"auto"},pathGutter:{value:13},pathPadding:{value:"auto"},arrow:{value:"none"},links:{value:[],set:function(b){this._links=b,this.edgeIdCollection().clear();var c=[];(a.is(b,"Array")||a.is(b,a.data.Collection))&&(a.each(b,function(a){c.push(a.model().id())}.bind(this)),this.edgeIdCollection().addRange(c)),this.draw()}},edgeIdCollection:{value:function(){var b,c=new a.data.ObservableCollection,d=function(){this.draw()}.bind(this);return c.on("change",function(e,f){var g=function(e,h){if(h){this.unwatch("topology",g),b=b||a.path(this,"topology.graph.edges"),verticesIdCollection=this.verticesIdCollection();var i=[];"add"===f.action?(a.each(f.items,function(a){var c=b.getItem(a);c.watch("generated",d),i.push(c.sourceID()),i.push(c.targetID())}.bind(this)),a.each(i,function(a){verticesIdCollection.contains(a)||verticesIdCollection.add(a)})):(a.each(f.items,function(a){var c=b.getItem(a);c.unwatch("generated",d)}.bind(this)),verticesIdCollection.clear(),a.each(c,function(a){var c=b.getItem(a);verticesIdCollection.contains(c.sourceID())&&verticesIdCollection.add(c.sourceID()),verticesIdCollection.contains(c.targetID())&&verticesIdCollection.add(c.targetID())}.bind(this)))}}.bind(this);this.topology()?g("topology",this.topology()):this.watch("topology",g)}.bind(this)),c}},verticesIdCollection:{value:function(){var b,c=new a.data.ObservableCollection,d=function(){this.draw()}.bind(this);return c.on("change",function(c,e){b=b||a.path(this,"topology.graph.vertices"),"add"===e.action?a.each(e.items,function(a){var c=b.getItem(a);c.watch("position",d)}.bind(this)):a.each(e.items,function(a){var c=b.getItem(a);c.unwatch("position",d)}.bind(this))}.bind(this)),c}},reverse:{value:!1},owner:{},topology:{}},methods:{init:function(a){this.inherited(a);var b=this.pathStyle();this.view("path").sets(b),b.fill||this.view("path").setStyle("fill",e[d++%5])},draw:function(){if(this.topology()){var c=!0,d=this.topology(),e=a.path(this,"topology.graph.edges"),f=a.path(this,"topology.graph.vertices");if(a.each(this.verticesIdCollection(),function(a){var b=f.getItem(a);return b.generated()?void 0:(c=!1,!1)}.bind(this)),a.each(this.edgeIdCollection(),function(a){var b=e.getItem(a);return b.generated()?void 0:(c=!1,!1)}.bind(this)),!c)return void this.view("path").set("d","M0 0");var g,h,i,j,k,l,m,n,o=[],p=[],q=this.topology().stageScale(),r=this.pathWidth(),s=this.pathPadding(),t=this.arrow(),u=this.edgeIdCollection(),v=[];a.each(u,function(a){v.push(d.getLink(a))});var w=this._serializeLinks(v),x=v.length,y=v[0],z=y.getOffset();if(y.reverse()&&(z*=-1),z=new b(0,this.reverse()?-1*z:z),h=w[0].translate(z),"auto"===s?(k=Math.min(y.sourceNode().showIcon()?24:4,h.length()/4/q),l=Math.min(y.targetNode().showIcon()?24:4,h.length()/4/q)):a.is(s,"Array")?(k=s[0],l=s[1]):k=l=s,"string"==typeof k&&k.indexOf("%")>0&&(k=h.length()*q*parseInt(k,10)/100/q),"auto"===r&&(r=3*q),m=new b(0,r/2*q),n=new b(0,-r/2*q),k*=q,j=h.translate(m).pad(k,0).start,o.push("M",j.x,j.y),j=h.translate(n).pad(k,0).start,p.unshift("L",j.x,j.y,"Z"),v.length>1)for(var A=1;x>A;A++)g=v[A],i=w[A].translate(new b(0,g.getOffset())),j=h.translate(m).intersection(i.translate(m)),isFinite(j.x)&&isFinite(j.y)&&o.push("L",j.x,j.y),j=h.translate(n).intersection(i.translate(n)),isFinite(j.x)&&isFinite(j.y)&&p.unshift("L",j.x,j.y),h=i;else i=h;"string"==typeof l&&l.indexOf("%")>0&&(l=i.length()*parseInt(l,10)/100/q),l*=q,"cap"==t?(j=i.translate(m).pad(0,2.5*r+l).end,o.push("L",j.x,j.y),j=j.add(i.normal().multiply(r/2)),o.push("L",j.x,j.y),j=i.translate(n).pad(0,2.5*r+l).end,p.unshift("L",j.x,j.y),j=j.add(i.normal().multiply(-r/2)),p.unshift("L",j.x,j.y),j=i.pad(0,l).end,o.push("L",j.x,j.y)):"end"==t?(j=i.translate(m).pad(0,2*r+l).end,o.push("L",j.x,j.y),j=i.translate(n).pad(0,2*r+l).end,p.unshift("L",j.x,j.y),j=i.pad(0,l).end,o.push("L",j.x,j.y)):"full"==t?(j=i.pad(0,l).end,o.push("L",j.x,j.y)):(j=i.translate(m).pad(0,l).end,o.push("L",j.x,j.y),j=i.translate(n).pad(0,l).end,p.unshift("L",j.x,j.y)),this.view("path").set("d",o.concat(p).join(" "))}},_serializeLinks:function(a){var b=[],d=a.length;b.push(this.reverse()?new c(a[0].targetVector(),a[0].sourceVector()):new c(a[0].sourceVector(),a[0].targetVector()));for(var e=1;d>e;e++){var f=a[e-1],g=a[e],h=f.sourceVector(),i=f.targetVector(),j=g.sourceVector(),k=g.targetVector();f.targetNodeID()==g.sourceNodeID()?b.push(new c(j,k)):f.targetNodeID()==g.targetNodeID()?b.push(new c(k,j)):f.sourceNodeID()==g.sourceNodeID()?(b.pop(),b.push(new c(i,h)),b.push(new c(j,k))):(b.pop(),b.push(new c(i,h)),b.push(new c(k,j)))}return this.reverse()&&b.reverse(),b},isEqual:function(a,b){return a.x==b.x&&a.y==b.y},dispose:function(){a.each(this.nodes,function(a){a.off("updateNodeCoordinate",this.draw,this)},this),this.inherited()}}})}(nx,nx.global),function(a){a.define("nx.graphic.Topology.BasePath",a.graphic.Component,{events:[],properties:{nodes:{},pathGenerator:{value:function(){return function(){}}},pathStyle:{value:function(){return{stroke:"#666","stroke-width":2,fill:"none"}}},topology:{}},view:{type:"nx.graphic.Group",content:{name:"path",type:"nx.graphic.Path",props:{}}},methods:{attach:function(b){this.inherited(b);var c=this._nodesWatcher=new a.graphic.Topology.NodeWatcher;c.observePosition(!0),c.topology(this.topology()),c.updater(this._draw.bind(this)),c.nodes(this.nodes()),this.view("path").dom().setStyles(this.pathStyle())},_draw:function(){var a=this.view("path"),b=this._nodesWatcher.getNodes();if(b.length==this.nodes().length){var c=this.topology(),d=this.pathStyle(),e=this.pathGenerator().call(this);if(e){a.set("d",e),a.visible(!0);var f=parseInt(d["stroke-width"],10)||1;a.dom().setStyle("stroke-width",f*c.stageScale())}}else a.visible(!1)},draw:function(){this._draw()}}})}(nx,nx.global),function(a){a.util;a.define("nx.graphic.Topology.PathLayer",a.graphic.Topology.Layer,{properties:{paths:{value:function(){return[]}}},view:{type:"nx.graphic.Group"},methods:{attach:function(){this.attach.__super__.apply(this,arguments);var a=this.topology();a.on("zoomend",this._draw,this),a.watch("revisionScale",this._draw,this)},_draw:function(){a.each(this.paths(),function(a){a.draw()})},addPath:function(a){this.paths().push(a),a.topology(this.topology()),a.attach(this),a.draw()},removePath:function(a){this.paths().splice(this.paths().indexOf(a),1),a.dispose()},clear:function(){a.each(this.paths(),function(a){a.dispose()}),this.paths([]),this.inherited()},dispose:function(){this.clear();var a=this.topology();a.off("zoomend",this._draw,this),a.unwatch("revisionScale",this._draw,this),this.inherited()}}})}(nx,nx.global),function(a){a.define("nx.graphic.Topology.Nav",a.ui.Component,{properties:{topology:{get:function(){return this.owner()}},scale:{},showIcon:{value:!1},visible:{get:function(){return void 0!==this._visible?this._visible:!0},set:function(a){this.view().dom().setStyle("display",a?"":"none"),this.view().dom().setStyle("pointer-events",a?"all":"none"),this._visible=a}}},view:{props:{"class":"n-topology-nav"},content:[{tag:"ul",content:[{tag:"li",content:{name:"mode",tag:"ul",props:{"class":"n-topology-nav-mode"},content:[{name:"selectionMode",tag:"li",content:{props:{"class":"n-icon-selectnode",style:"-webkit-transform: rotate(90deg)",title:"Select node mode"},tag:"span"},events:{mousedown:"{#_switchSelectionMode}",touchstart:"{#_switchSelectionMode}"}},{name:"moveMode",tag:"li",props:{"class":"n-topology-nav-mode-selected"},content:{props:{"class":"n-icon-movemode",title:"Move mode"},tag:"span"},events:{mousedown:"{#_switchMoveMode}",touchstart:"{#_switchMoveMode}"}}]}},{tag:"li",props:{"class":"n-topology-nav-zoom"},content:[{name:"zoomin",tag:"span",props:{"class":"n-topology-nav-zoom-in n-icon-zoomin-plus",title:"Zoom out"},events:{click:"{#_in}"}},{name:"zoomout",tag:"span",props:{"class":"n-topology-nav-zoom-out n-icon-zoomout-minus",title:"Zoom in"},events:{click:"{#_out}"}}]},{tag:"li",name:"zoomselection",props:{"class":"n-topology-nav-zoom-selection n-icon-zoombyselection",title:"Zoom by selection"},events:{click:"{#_zoombyselection}"}},{tag:"li",name:"fit",props:{"class":"n-topology-nav-fit n-icon-fitstage",title:"Fit stage"},events:{click:"{#_fit}"}},{tag:"li",name:"agr",props:{"class":"n-topology-nav-agr n-icon-aggregation",title:"Aggregation"},events:{click:"{#_agr}"}},{tag:"li",name:"fullscreen",props:{"class":"n-topology-nav-full n-icon-fullscreen",title:"Enter full screen mode"},events:{click:"{#_full}"}},{tag:"li",name:"setting",content:[{name:"icon",tag:"span",props:{"class":"n-topology-nav-setting-icon n-icon-viewsetting"},events:{mouseenter:"{#_openPopover}",mouseleave:"{#_closePopover}"}},{name:"settingPopover",type:"nx.ui.Popover",props:{title:"Topology Setting",direction:"right",lazyClose:!0},content:[{tag:"h5",content:"Display icons as dots :"},{tag:"label",content:[{tag:"input",props:{type:"radio",checked:"{#showIcon,converter=inverted,direction=<>}"}},{tag:"span",content:"Always"}],props:{"class":"radio-inline"}},{tag:"label",content:[{tag:"input",props:{type:"radio",checked:"{#showIcon,direction=<>}"}},{tag:"span",content:"Auto-resize"}],props:{"class":"radio-inline"}},{name:"displayLabelSetting",tag:"h5",content:[{tag:"span",content:"Display Label : "},{tag:"input",props:{"class":"toggleLabelCheckBox",type:"checkbox",checked:!0},events:{click:"{#_toggleNodeLabel}"}}]},{tag:"h5",content:"Theme :"},{props:{"class":"btn-group"},content:[{tag:"button",props:{"class":"btn btn-default",value:"blue"},content:"Blue"},{tag:"button",props:{"class":"btn btn-default",value:"green"},content:"Green"},{tag:"button",props:{"class":"btn btn-default",value:"dark"},content:"Dark"},{tag:"button",props:{"class":"btn btn-default",value:"slate"},content:"Slate"},{tag:"button",props:{"class":"btn btn-default",value:"yellow"},content:"Yellow"}],events:{click:"{#_switchTheme}"}},{name:"customize"}],events:{open:"{#_openSettingPanel}",close:"{#_closeSettingPanel}"}}],props:{"class":"n-topology-nav-setting"}}]}]},methods:{init:function(a){this.inherited(a),this.view("settingPopover").view().dom().addClass("n-topology-setting-panel"),window.top.frames.length&&this.view("fullscreen").style().set("display","none")},attach:function(a){this.inherited(a);var b=this.topology();b.watch("scale",function(a,c){var d=b.maxScale(),e=b.minScale(),f=this.view("zoomball").view(),g=65/(d-e);f.setStyles({top:72-(c-e)*g+14})},this),b.selectedNodes().watch("count",function(a,b){this.view("agr").dom().setStyle("display",b>1?"block":"none")},this),b.watch("currentSceneName",function(a,b){"selection"==b?(this.view("selectionMode").dom().addClass("n-topology-nav-mode-selected"),this.view("moveMode").dom().removeClass("n-topology-nav-mode-selected")):(this.view("selectionMode").dom().removeClass("n-topology-nav-mode-selected"),this.view("moveMode").dom().addClass("n-topology-nav-mode-selected"))},this),this.view("agr").dom().setStyle("display","none")},_switchSelectionMode:function(){var a=this.topology(),b=a.currentSceneName();"selection"!=b&&(a.activateScene("selection"),this._prevSceneName=b)},_switchMoveMode:function(){var a=this.topology(),b=a.currentSceneName();"selection"==b&&(a.activateScene(this._prevSceneName||"default"),this._prevSceneName=null)},_fit:function(a){this._fitTimer||(this.topology().fit(),a.dom().setStyle("opacity","0.1"),this._fitTimer=!0,setTimeout(function(){a.dom().setStyle("opacity","1"),this._fitTimer=!1}.bind(this),1200))},_zoombyselection:function(a){var b=a,c=this.topology(),d=c.currentSceneName();if("zoomBySelection"==d)b.dom().removeClass("n-topology-nav-zoom-selection-selected"),c.activateScene("default");else{var e=c.activateScene("zoomBySelection");e.upon("finish",function f(a,g){g&&c.zoomByBound(c.getInsideBound(g)),c.activateScene(d),b.dom().removeClass("n-topology-nav-zoom-selection-selected"),e.off("finish",f,this)},this),b.dom().addClass("n-topology-nav-zoom-selection-selected")}},_in:function(a,b){var c=this.topology();c.stage().zoom(1.2,c.adjustLayout,c),b.preventDefault()},_out:function(a,b){var c=this.topology();c.stage().zoom(.8,c.adjustLayout,c),b.preventDefault()},_full:function(){this.toggleFull()},_enterSetting:function(){this.view("setting").addClass("n-topology-nav-setting-open")},_leaveSetting:function(){this.view("setting").removeClass("n-topology-nav-setting-open")},cancelFullScreen:function(a){var b=a.cancelFullScreen||a.webkitCancelFullScreen||a.mozCancelFullScreen||a.exitFullscreen;if(b)b.call(a);else if("undefined"!=typeof window.ActiveXObject){var c=new ActiveXObject("WScript.Shell");null!==c&&c.SendKeys("{F11}")}},requestFullScreen:function(a){var b=a.requestFullScreen||a.webkitRequestFullScreen||a.mozRequestFullScreen||a.msRequestFullScreen;if(b)b.call(a);else if("undefined"!=typeof window.ActiveXObject){var c=new ActiveXObject("WScript.Shell");null!==c&&c.SendKeys("{F11}")}return!1},toggleFull:function(){var a=document.body,b=document.fullScreenElement&&null!==document.fullScreenElement||document.mozFullScreen||document.webkitIsFullScreen;return b?(this.cancelFullScreen(document),this.fire("leaveFullScreen")):(this.requestFullScreen(a),this.fire("enterFullScreen")),!1},_openPopover:function(a){this.view("settingPopover").open({target:a.dom(),offsetY:3}),this.view("icon").dom().addClass("n-topology-nav-setting-icon-selected")},_closePopover:function(){this.view("settingPopover").close()},_closeSettingPanel:function(){this.view("icon").dom().removeClass("n-topology-nav-setting-icon-selected")},_switchTheme:function(a,b){this.topology().theme(b.target.value)},_toggleNodeLabel:function(a){var b=a.get("checked");this.topology().eachNode(function(a){a.labelVisibility(b)})},_agr:function(){var a=this.topology(),b=a.selectedNodes().toArray();a.selectedNodes().clear(),a.aggregationNodes(b)}}})}(nx,nx.global),function(a){a.define("nx.graphic.Topology.Thumbnail",a.ui.Component,{events:[],view:{props:{"class":"n-topology-thumbnail"},content:{props:{"class":"n-topology-container"},content:[{name:"win",props:{"class":"n-topology-thumbnail-win"}},{name:"canvas",tag:"canvas",props:{"class":"n-topology-thumbnail-canvas"}}]}},properties:{topology:{},width:{set:function(a){this.view().dom().setStyles({width:.2*a,left:.8*a}),this.view("canvas").dom().setStyle("width",.2*a),this._drawWin()}},height:{set:function(a){this.view().dom().setStyles({height:.2*a,top:.8*a}),this.view("canvas").dom().setStyle("height",.2*a),this._drawWin()}}},methods:{attach:function(a,b){this.inherited(a,b);var c=a.owner();this.topology(c),c.on("dragStage",this._drawWin,this),c.stage().watch("zoomLevel",this._drawWin,this),c.on("topologyGenerated",function(){var a=c.graph();a.on("addVertex",this._drawTopo,this),a.on("removeVertex",this._drawTopo,this),a.on("updateVertexCoordinate",this._drawTopo,this),this._drawTopo()},this)},_drawWin:function(){var a=this.topology();if(a){var b=.2*a.width(),c=.2*a.height(),d=a.stage().zoomLevel(),e=a.stage().scalingLayer().getBound();this.view("win").dom().setStyles({width:b/d,height:c/d,top:.2*(e.top-(a.height()-e.height)/2),left:.2*(e.left-(a.width()-e.width)/2)})}},_drawTopo:function(){var a=this.topology();if(a){var b=.2*a.width(),c=.2*a.height(),d=0,e=0,f=this.view("canvas").dom().$dom,g=f.getContext("2d");g.clearRect(0,0,2*b,2*c),a.eachNode(function(a){g.fillStyle="#26A1C5",g.fillRect(.2*a.x()+d,.2*a.y()+e,3,3)})}}}})}(nx,nx.global);